{"version":3,"sources":["layout.es6"],"names":["_config","require","_mixin","_flex","positionBorder","thumbSize","borderWidth","border-width","width","height","left","top","createStyles","config","Math","max","thumb_size","thumb_border_width","scaledThumbDiff","active_thumb_scale","barOffset","scaledBorderWidth","thumbTouchSize","thumb_touch_size","stepsOffset",".pe-slider","_mixin2","default","vendorize","user-select","_config2","prefixes_user_select","margin-top","track_height"," > .pe-icon"," .pe-slider__track","_flex2","layoutHorizontal","flexGrow","defaultTransition","animation_duration","position","margin","side_spacing","outline"," div + .pe-slider__track","horizontal_layout_side_spacing"," .pe-slider__control","selfCenter","line-height","border-radius","z-index","&:before","content","&:after","border-style"," .pe-slider__thumb","fit","&, .pe-icon"," .pe-slider__label","min-width","unit_icon_size","text-align","font-size","font-weight","font_weight_medium"," .pe-slider__track-part","flex","bar_height","overflow"," .pe-slider__track-value, .pe-slider__track-rest"," .pe-slider__track-bar"," .pe-slider__track-bar-value"," .pe-slider__track-value .pe-slider__track-bar","margin-left"," .pe-slider__track-rest .pe-slider__track-bar","margin-right"," .pe-slider__ticks","layoutJustified","pointer-events"," .pe-slider__ticks-tick","step_width"," .pe-slider__pin","transform","prefixes_transform","transform-origin","pin_width","&::before","background-color","&::after","pin_height","color","pin_font_size","&.pe-slider--active:not(.pe-slider--ticks)"," .pe-slider__track-value .pe-slider__track-bar-value"," .pe-slider__track-rest .pe-slider__track-bar-value","&.pe-slider--pin.pe-slider--active, &.pe-slider--pin.pe-slider--focus","active_pin_thumb_scale","&:not(.pe-slider--disabled)","cursor","&.pe-slider--track","&.pe-slider--disabled","disabled_thumb_scale","&.pe-slider--min"," .pe-slider__control:after"],"mappings":"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","file":"layout.js","sourcesContent":["import common from 'polythene/config/config';\nimport mixin from 'polythene/common/mixin';\nimport flex from 'polythene/layout/theme/flex';\n\nconst positionBorder = (thumbSize, borderWidth) => ({\n    'border-width': borderWidth + 'px',\n    width: (thumbSize - 2 * borderWidth) + 'px',\n    height: (thumbSize - 2 * borderWidth) + 'px',\n    left: '2px',\n    top: '2px'\n});\n\nconst createStyles = (config) => {\n    const thumbSize = Math.max(config.thumb_size, 2 * config.thumb_border_width);\n    const scaledThumbDiff = (config.active_thumb_scale - 1) * thumbSize / 2;\n    const barOffset = (thumbSize / 2);\n    const scaledBorderWidth = Math.max(1, config.thumb_border_width / config.active_thumb_scale);\n    const thumbTouchSize = config.thumb_touch_size;\n    const stepsOffset = barOffset - 1;\n\n    return [{\n        '.pe-slider': [\n            mixin.vendorize({\n                'user-select': 'none'\n            }, common.prefixes_user_select),\n            {\n                height: config.height + 'px',\n                'margin-top': ((config.height - config.track_height) / 2) + 'px ',\n\n                ' > .pe-icon': {\n                    height: config.height + 'px'\n                },\n\n                ' .pe-slider__track': [\n                    flex.layoutHorizontal,\n                    flex.flexGrow(1),\n                    mixin.defaultTransition('transform', config.animation_duration),\n                    mixin.vendorize({\n                        'user-select': 'none'\n                    }, common.prefixes_user_select),\n                    {\n                        position: 'relative',\n                        height: config.track_height + 'px',\n                        margin: '0 ' + config.side_spacing + 'px',\n                        outline: 0\n                    }\n                ],\n                ' div + .pe-slider__track': {\n                    margin: '0 ' + config.horizontal_layout_side_spacing + 'px'\n                },\n\n                ' .pe-slider__control': [\n                    flex.selfCenter,\n                    mixin.defaultTransition('transform, background', config.animation_duration),\n                    mixin.vendorize({\n                        'user-select': 'none'\n                    }, common.prefixes_user_select), {\n                        width: thumbSize + 'px',\n                        height: thumbSize + 'px',\n                        'line-height': 0,\n                        'border-radius': '50%',\n                        outline: 0,\n                        'z-index': 1,\n                        position: 'relative',\n\n                        // touch area\n                        '&:before': [\n                            mixin.defaultTransition('background-color', config.animation_duration),\n                            {\n                                content: '\"\"',\n                                position: 'absolute',\n                                'border-radius': '50%',\n                                left: (-thumbTouchSize/2 + thumbSize/2) + 'px',\n                                top: (-thumbTouchSize/2 + thumbSize/2) + 'px',\n                                width: thumbTouchSize + 'px',\n                                height: thumbTouchSize + 'px'\n                            }\n                        ],\n\n                        // border\n                        '&:after': [\n                            mixin.defaultTransition('border', config.animation_duration),\n                            positionBorder(thumbSize, config.thumb_border_width),\n                            {\n                                content: '\"\"',\n                                position: 'absolute',\n                                'border-radius': '50%',\n                                'border-style': 'solid'\n                            }\n                        ]\n                    }\n                ],\n\n                ' .pe-slider__thumb': [\n                    mixin.defaultTransition('opacity', config.animation_duration),\n                    mixin.fit(),\n                    {\n                        '&, .pe-icon': {\n                            width: 'inherit',\n                            height: 'inherit'\n                        }\n                    }\n                ],\n\n                ' .pe-slider__label': {\n                    height: config.height + 'px',\n                    'line-height': config.height + 'px',\n                    'min-width': common.unit_icon_size + 'px',\n                    'text-align': 'center',\n                    'font-size': '16px',\n                    'font-weight': common.font_weight_medium\n                },\n\n                ' .pe-slider__track-part': [\n                    flex.flex(),\n                    mixin.vendorize({\n                        'user-select': 'none'\n                    }, common.prefixes_user_select),\n                    {\n                        height: config.bar_height + 'px',\n                        margin: ((config.track_height - config.bar_height) / 2) + 'px 0px',\n                        overflow: 'hidden' // Firefox otherwise uses 6x at 0%\n                    }\n                ],\n\n                ' .pe-slider__track-value, .pe-slider__track-rest': flex.layoutHorizontal,\n\n                ' .pe-slider__track-bar': [\n                    flex.flex(),\n                    {\n                        position: 'relative',\n                        overflow: 'hidden'\n                    }\n                ],\n                ' .pe-slider__track-bar-value': [\n                    flex.flex(),\n                    mixin.defaultTransition('transform, background-color', config.animation_duration), {\n                        height: config.bar_height + 'px'\n                    }\n                ],\n                ' .pe-slider__track-value .pe-slider__track-bar': {\n                    'margin-left': barOffset + 'px'\n                },\n                ' .pe-slider__track-rest .pe-slider__track-bar': {\n                    'margin-right': barOffset + 'px'\n                },\n\n                ' .pe-slider__ticks': [\n                    flex.layoutJustified,\n                    mixin.vendorize({\n                        'user-select': 'none'\n                    }, common.prefixes_user_select), {\n                        position: 'absolute',\n                        width: 'calc(100% - ' + (2 * stepsOffset) + 'px)',\n                        height: config.bar_height + 'px',\n                        left: 0,\n                        top: ((config.height / 2) - 1) + 'px',\n                        margin: '0 ' + stepsOffset + 'px',\n                        'pointer-events': 'none'\n                    }\n                ],\n\n                ' .pe-slider__ticks-tick': {\n                    width: config.step_width + 'px',\n                    height: config.bar_height + 'px'\n                },\n\n                ' .pe-slider__pin': [\n                    mixin.vendorize({\n                        'transform': 'translateZ(0) scale(0) translate(0, 0)'\n                    }, common.prefixes_transform),\n                    mixin.vendorize({\n                        'transform-origin': 'bottom'\n                    }, common.prefixes_transform),\n                    mixin.defaultTransition('transform', '.11s'), {\n                        position: 'absolute',\n                        'z-index': 1,\n                        width: config.pin_width + 'px',\n                        height: 0,\n                        left: 0, // set in js\n                        top: 0,\n                        'margin': '0 ' + stepsOffset + 'px 0 ' + (stepsOffset - config.pin_width/2 + 1) + 'px',\n                        'pointer-events': 'none',\n\n                        '&::before': [\n                            mixin.vendorize({\n                                'transform': 'rotate(-45deg)'\n                            }, common.prefixes_transform), {\n                                content: '\" \"',\n                                position: 'absolute',\n                                top: 0,\n                                left: 0,\n                                width: config.pin_width + 'px',\n                                height: config.pin_width + 'px',\n                                'border-radius': '50% 50% 50% 0',\n                                'background-color': 'inherit'\n                            }\n                        ],\n                        '&::after': {\n                            content: 'attr(value)',\n                            position: 'absolute',\n                            top: 0,\n                            left: 0,\n                            width: config.pin_width + 'px',\n                            height: config.pin_height + 'px',\n                            'text-align': 'center',\n                            color: '#fff',\n                            'font-size': config.pin_font_size + 'px',\n                            'line-height': config.pin_width + 'px'\n                        }\n                    }\n                ],\n\n                '&.pe-slider--active:not(.pe-slider--ticks)': {\n                    ' .pe-slider__control': [\n                        mixin.vendorize({\n                            'transform': 'scale(' + config.active_thumb_scale + ')'\n                        }, common.prefixes_transform),\n                        {\n                            'border-width': scaledBorderWidth + 'px'\n                        }\n                    ],\n                    // left side\n                    ' .pe-slider__track-value .pe-slider__track-bar-value': [\n                        mixin.vendorize({\n                            'transform': 'translateX(' + (-scaledThumbDiff) + 'px)'\n                        }, common.prefixes_transform)\n                    ],\n                    // right side\n                    ' .pe-slider__track-rest .pe-slider__track-bar-value': [\n                        mixin.vendorize({\n                            'transform': 'translateX(' + (scaledThumbDiff) + 'px)'\n                        }, common.prefixes_transform)\n                    ]\n                },\n\n                '&.pe-slider--pin.pe-slider--active, &.pe-slider--pin.pe-slider--focus': {\n                    ' .pe-slider__pin': [\n                        mixin.vendorize({\n                            'transform': 'translateZ(0) scale(1) translate(0, -24px)'\n                        }, common.prefixes_transform)\n                    ],\n                    ' .pe-slider__control': [\n                        mixin.vendorize({\n                            'transform': 'scale(' + config.active_pin_thumb_scale + ')'\n                        }, common.prefixes_transform)\n                    ]\n                },\n\n                '&:not(.pe-slider--disabled)': {\n                    ' .pe-slider__control': {\n                        cursor: 'pointer'\n                    },\n                    '&.pe-slider--track': {\n                        ' .pe-slider__track': {\n                            cursor: 'pointer'\n                        }\n                    }\n                },\n\n                '&.pe-slider--disabled': {\n                    ' .pe-slider__control': [\n                        mixin.vendorize({\n                            'transform': 'scale(' + config.disabled_thumb_scale + ')'\n                        }, common.prefixes_transform), {\n                            'border-width': 0\n                        }\n                    ],\n                    '&.pe-slider--min': {\n                        ' .pe-slider__control:after': [\n                            positionBorder(thumbSize, 1 / config.disabled_thumb_scale * config.thumb_border_width)\n                        ]\n                    }\n                }\n            }\n        ]\n    }];\n};\n\nexport default (config) => (mixin.createStyles(config, createStyles));\n"]}