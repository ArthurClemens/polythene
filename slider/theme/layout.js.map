{"version":3,"sources":["layout.es6"],"names":["positionBorder","borderWidth","width","thumbSize","height","left","top","createStyles","Math","max","config","thumb_size","thumb_border_width","active_thumb_scale","thumb_touch_size","barOffset","vendorize","prefixes_user_select","track_height","layoutHorizontal","flexGrow","defaultTransition","animation_duration","position","margin","side_spacing","outline","horizontal_layout_side_spacing","selfCenter","content","thumbTouchSize","fit","unit_icon_size","font_weight_medium","flex","bar_height","overflow","layoutJustified","stepsOffset","step_width","prefixes_transform","pin_width","pin_height","color","pin_font_size","scaledBorderWidth","scaledThumbDiff","active_pin_thumb_scale","cursor","disabled_thumb_scale"],"mappings":"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","file":"layout.js","sourcesContent":["import common from 'polythene/config/config';\nimport mixin from 'polythene/common/mixin';\nimport flex from 'polythene/layout/theme/flex';\n\nconst positionBorder = (thumbSize, borderWidth) => ({\n    'border-width': borderWidth + 'px',\n    width: (thumbSize - 2 * borderWidth) + 'px',\n    height: (thumbSize - 2 * borderWidth) + 'px',\n    left: '2px',\n    top: '2px'\n});\n\nconst createStyles = (config) => {\n    const thumbSize = Math.max(config.thumb_size, 2 * config.thumb_border_width);\n    const scaledThumbDiff = (config.active_thumb_scale - 1) * thumbSize / 2;\n    const barOffset = (thumbSize / 2);\n    const scaledBorderWidth = Math.max(1, config.thumb_border_width / config.active_thumb_scale);\n    const thumbTouchSize = config.thumb_touch_size;\n    const stepsOffset = barOffset - 1;\n\n    return [{\n        '.pe-slider': [\n            mixin.vendorize({\n                'user-select': 'none'\n            }, common.prefixes_user_select),\n            {\n                height: config.height + 'px',\n                'margin-top': ((config.height - config.track_height) / 2) + 'px ',\n\n                ' > .pe-icon': {\n                    height: config.height + 'px'\n                },\n\n                ' .pe-slider__track': [\n                    flex.layoutHorizontal,\n                    flex.flexGrow(1),\n                    mixin.defaultTransition('transform', config.animation_duration),\n                    mixin.vendorize({\n                        'user-select': 'none'\n                    }, common.prefixes_user_select),\n                    {\n                        position: 'relative',\n                        height: config.track_height + 'px',\n                        margin: '0 ' + config.side_spacing + 'px',\n                        outline: 0\n                    }\n                ],\n                ' div + .pe-slider__track': {\n                    margin: '0 ' + config.horizontal_layout_side_spacing + 'px'\n                },\n\n                ' .pe-slider__control': [\n                    flex.selfCenter,\n                    mixin.defaultTransition('transform, background', config.animation_duration),\n                    mixin.vendorize({\n                        'user-select': 'none'\n                    }, common.prefixes_user_select), {\n                        width: thumbSize + 'px',\n                        height: thumbSize + 'px',\n                        'line-height': 0,\n                        'border-radius': '50%',\n                        outline: 0,\n                        'z-index': 1,\n                        position: 'relative',\n\n                        // touch area\n                        '&:before': [\n                            mixin.defaultTransition('background-color', config.animation_duration),\n                            {\n                                content: '\"\"',\n                                position: 'absolute',\n                                'border-radius': '50%',\n                                left: (-thumbTouchSize/2 + thumbSize/2) + 'px',\n                                top: (-thumbTouchSize/2 + thumbSize/2) + 'px',\n                                width: thumbTouchSize + 'px',\n                                height: thumbTouchSize + 'px'\n                            }\n                        ],\n\n                        // border\n                        '&:after': [\n                            mixin.defaultTransition('border', config.animation_duration),\n                            positionBorder(thumbSize, config.thumb_border_width),\n                            {\n                                content: '\"\"',\n                                position: 'absolute',\n                                'border-radius': '50%',\n                                'border-style': 'solid'\n                            }\n                        ]\n                    }\n                ],\n\n                ' .pe-slider__thumb': [\n                    mixin.defaultTransition('opacity', config.animation_duration),\n                    mixin.fit(),\n                    {\n                        '&, .pe-icon': {\n                            width: 'inherit',\n                            height: 'inherit'\n                        }\n                    }\n                ],\n\n                ' .pe-slider__label': {\n                    height: config.height + 'px',\n                    'line-height': config.height + 'px',\n                    'min-width': common.unit_icon_size + 'px',\n                    'text-align': 'center',\n                    'font-size': '16px',\n                    'font-weight': common.font_weight_medium\n                },\n\n                ' .pe-slider__track-part': [\n                    flex.flex(),\n                    mixin.vendorize({\n                        'user-select': 'none'\n                    }, common.prefixes_user_select),\n                    {\n                        height: config.bar_height + 'px',\n                        margin: ((config.track_height - config.bar_height) / 2) + 'px 0px',\n                        overflow: 'hidden' // Firefox otherwise uses 6x at 0%\n                    }\n                ],\n\n                ' .pe-slider__track-value, .pe-slider__track-rest': flex.layoutHorizontal,\n\n                ' .pe-slider__track-bar': [\n                    flex.flex(),\n                    {\n                        position: 'relative',\n                        overflow: 'hidden'\n                    }\n                ],\n                ' .pe-slider__track-bar-value': [\n                    flex.flex(),\n                    mixin.defaultTransition('transform, background-color', config.animation_duration), {\n                        height: config.bar_height + 'px'\n                    }\n                ],\n                ' .pe-slider__track-value .pe-slider__track-bar': {\n                    'margin-left': barOffset + 'px'\n                },\n                ' .pe-slider__track-rest .pe-slider__track-bar': {\n                    'margin-right': barOffset + 'px'\n                },\n\n                ' .pe-slider__ticks': [\n                    flex.layoutJustified,\n                    mixin.vendorize({\n                        'user-select': 'none'\n                    }, common.prefixes_user_select), {\n                        position: 'absolute',\n                        width: 'calc(100% - ' + (2 * stepsOffset) + 'px)',\n                        height: config.bar_height + 'px',\n                        left: 0,\n                        top: ((config.height / 2) - 1) + 'px',\n                        margin: '0 ' + stepsOffset + 'px',\n                        'pointer-events': 'none'\n                    }\n                ],\n\n                ' .pe-slider__ticks-tick': {\n                    width: config.step_width + 'px',\n                    height: config.bar_height + 'px'\n                },\n\n                ' .pe-slider__pin': [\n                    mixin.vendorize({\n                        'transform': 'translateZ(0) scale(0) translate(0, 0)'\n                    }, common.prefixes_transform),\n                    mixin.vendorize({\n                        'transform-origin': 'bottom'\n                    }, common.prefixes_transform),\n                    mixin.defaultTransition('transform', '.11s'), {\n                        position: 'absolute',\n                        'z-index': 1,\n                        width: config.pin_width + 'px',\n                        height: 0,\n                        left: 0, // set in js\n                        top: 0,\n                        'margin': '0 ' + stepsOffset + 'px 0 ' + (stepsOffset - config.pin_width/2 + 1) + 'px',\n                        'pointer-events': 'none',\n\n                        '&::before': [\n                            mixin.vendorize({\n                                'transform': 'rotate(-45deg)'\n                            }, common.prefixes_transform), {\n                                content: '\" \"',\n                                position: 'absolute',\n                                top: 0,\n                                left: 0,\n                                width: config.pin_width + 'px',\n                                height: config.pin_width + 'px',\n                                'border-radius': '50% 50% 50% 0',\n                                'background-color': 'inherit'\n                            }\n                        ],\n                        '&::after': {\n                            content: 'attr(value)',\n                            position: 'absolute',\n                            top: 0,\n                            left: 0,\n                            width: config.pin_width + 'px',\n                            height: config.pin_height + 'px',\n                            'text-align': 'center',\n                            color: '#fff',\n                            'font-size': config.pin_font_size + 'px',\n                            'line-height': config.pin_width + 'px'\n                        }\n                    }\n                ],\n\n                '&.pe-slider--active:not(.pe-slider--ticks)': {\n                    ' .pe-slider__control': [\n                        mixin.vendorize({\n                            'transform': 'scale(' + config.active_thumb_scale + ')'\n                        }, common.prefixes_transform),\n                        {\n                            'border-width': scaledBorderWidth + 'px'\n                        }\n                    ],\n                    // left side\n                    ' .pe-slider__track-value .pe-slider__track-bar-value': [\n                        mixin.vendorize({\n                            'transform': 'translateX(' + (-scaledThumbDiff) + 'px)'\n                        }, common.prefixes_transform)\n                    ],\n                    // right side\n                    ' .pe-slider__track-rest .pe-slider__track-bar-value': [\n                        mixin.vendorize({\n                            'transform': 'translateX(' + (scaledThumbDiff) + 'px)'\n                        }, common.prefixes_transform)\n                    ]\n                },\n\n                '&.pe-slider--pin.pe-slider--active, &.pe-slider--pin.pe-slider--focus': {\n                    ' .pe-slider__pin': [\n                        mixin.vendorize({\n                            'transform': 'translateZ(0) scale(1) translate(0, -24px)'\n                        }, common.prefixes_transform)\n                    ],\n                    ' .pe-slider__control': [\n                        mixin.vendorize({\n                            'transform': 'scale(' + config.active_pin_thumb_scale + ')'\n                        }, common.prefixes_transform)\n                    ]\n                },\n\n                '&:not(.pe-slider--disabled)': {\n                    ' .pe-slider__control': {\n                        cursor: 'pointer'\n                    },\n                    '&.pe-slider--track': {\n                        ' .pe-slider__track': {\n                            cursor: 'pointer'\n                        }\n                    }\n                },\n\n                '&.pe-slider--disabled': {\n                    ' .pe-slider__control': [\n                        mixin.vendorize({\n                            'transform': 'scale(' + config.disabled_thumb_scale + ')'\n                        }, common.prefixes_transform), {\n                            'border-width': 0\n                        }\n                    ],\n                    '&.pe-slider--min': {\n                        ' .pe-slider__control:after': [\n                            positionBorder(thumbSize, 1 / config.disabled_thumb_scale * config.thumb_border_width)\n                        ]\n                    }\n                }\n            }\n        ]\n    }];\n};\n\nexport default (config) => (mixin.createStyles(config, createStyles));\n"]}