{"version":3,"sources":["styler.es6"],"names":["_j2c","require","_isomorphic","remove","id","old","document","getElementById","parentNode","removeChild","add","_len","arguments","length","styles","Array","_key","addToDocument","apply","undefined","concat","opts","_len2","_key2","_isomorphic2","default","isServer","documentRef","window","styleEl","createElement","setAttribute","forEach","styleList","Object","keys","style","scoped","@global","sheet","_j2c2","appendChild","createTextNode","head"],"mappings":"qJAAA,IAAAA,MAAAC,QAAA,0CACAC,YAAAD,QAAA,gFAEME,OAAS,SAACC,IACZ,GAAIA,GAAI,CACJ,GAAMC,KAAMC,SAASC,eAAeH,GAChCC,MACAA,IAAIG,WAAWC,YAAYJ,OASjCK,IAAM,SAACN,IAAkB,IAAA,GAAAO,MAAAC,UAAAC,OAAXC,OAAWC,MAAAJ,KAAA,EAAAA,KAAA,EAAA,GAAAK,KAAA,EAAAA,KAAAL,KAAAK,OAAXF,OAAWE,KAAA,GAAAJ,UAAAI,KAC3BC,eAAAC,MAAAC,SAAef,GAAAA,KAAfgB,OAAuBN,UASrBG,cAAgB,SAACI,MAAoB,IAAA,GAAAC,OAAAV,UAAAC,OAAXC,OAAWC,MAAAO,MAAA,EAAAA,MAAA,EAAA,GAAAC,MAAA,EAAAA,MAAAD,MAAAC,QAAXT,OAAWS,MAAA,GAAAX,UAAAW,MAC1C,KAAGC,aAAAC,QAAWC,WAAd,CAGG,GAAMtB,IAAKiB,KAAKjB,GACVuB,YAAcN,KAAKf,UAAYsB,OAAOtB,QAC5CH,QAAOC,GACP,IAAMyB,SAAUF,YAAYG,cAAc,QACtC1B,KACAyB,QAAQE,aAAa,KAAM3B,IAE/BU,OAAOkB,QAAQ,SAACC,WAERC,OAAOC,KAAKF,WAAWpB,QACvBoB,UAAUD,QAAQ,SAACI,OACf,GAAMC,SAAUC,UAAWF,OACrBG,MAAQC,MAAAf,QAAIc,MAAMF,OACxBR,SAAQY,YAAYd,YAAYe,eAAeH,YAI3DZ,YAAYgB,KAAKF,YAAYZ,4BAI7BnB,IAAAA,IACAO,cAAAA,cACAd,OAAAA","file":"styler.js","sourcesContent":["import j2c from 'j2c';\nimport isomorphic from 'polythene/common/isomorphic';\n\nconst remove = (id) => {\n    if (id) {\n        const old = document.getElementById(id);\n        if (old) {\n            old.parentNode.removeChild(old);\n        }\n    }\n};\n\n/*\n* id: identifier, used as HTMLElement id for the attached <style></style> element\n* styles: list of lists style Objects\n*/\nconst add = (id, ...styles) => {\n    addToDocument({id}, ...styles);\n};\n\n/*\n* opts: options object\n  * id: identifier, used as HTMLElement id for the attached <style></style> element\n  * document: document reference; default window.document\n* styles: list of lists style Objects\n*/\nconst addToDocument = (opts, ...styles) => {\n\tif(isomorphic.isServer()){\n\t\treturn;\n\t}\n    const id = opts.id;\n    const documentRef = opts.document || window.document;\n    remove(id);\n    const styleEl = documentRef.createElement('style');\n    if (id) {\n        styleEl.setAttribute('id', id);\n    }\n    styles.forEach((styleList) => {\n        // each style returns a list\n        if (Object.keys(styleList).length) {\n            styleList.forEach((style) => {\n                const scoped = {'@global': style};\n                const sheet = j2c.sheet(scoped);\n                styleEl.appendChild(documentRef.createTextNode(sheet));\n            });\n        }\n    });\n    documentRef.head.appendChild(styleEl);\n};\n\nexport default {\n    add,\n    addToDocument,\n    remove\n};\n"]}