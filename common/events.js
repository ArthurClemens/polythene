"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _isomorphic=require("polythene/common/isomorphic"),_isomorphic2=_interopRequireDefault(_isomorphic),listeners={},throttle=function(func){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.05,context=arguments.length>2&&void 0!==arguments[2]?arguments[2]:_isomorphic2.default.isClient()?window:{},wait=!1;return function(){for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];var later=function(){func.apply(context,args)};wait||(later(),wait=!0,setTimeout(function(){wait=!1},s))}},subscribe=function(eventName,listener,delay){listeners[eventName]=listeners[eventName]||[],listeners[eventName].push(delay?throttle(listener,delay):listener)},unsubscribe=function(eventName,listener){if(listeners[eventName]){var index=listeners[eventName].indexOf(listener);index>-1&&listeners[eventName].splice(index,1)}},emit=function(eventName,event){listeners[eventName]&&listeners[eventName].forEach(function(listener){listener(event)})};_isomorphic2.default.isClient()&&(window.addEventListener("resize",function(e){return emit("resize",e)}),window.addEventListener("scroll",function(e){return emit("scroll",e)}),window.addEventListener("keydown",function(e){return emit("keydown",e)})),exports.default={throttle:throttle,subscribe:subscribe,unsubscribe:unsubscribe,emit:emit},module.exports=exports.default;
//# sourceMappingURL=events.js.map