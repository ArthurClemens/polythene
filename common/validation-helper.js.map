{"version":3,"sources":["validation-helper.es6"],"names":["opts","arguments","length","undefined","elProp","element","invalidProp","invalid","fieldStates","submit","e","onValidated","preventDefault","firstInvalidIndex","getInvalidIndex","focus","getIndex","el","i","update","state","index","push"],"mappings":"oFACe,WAAe,GAAdA,MAAcC,UAAAC,OAAA,GAAAC,SAAAF,UAAA,GAAAA,UAAA,MACpBG,OAASJ,KAAKK,SAAW,KACzBC,YAAcN,KAAKO,SAAW,UAE9BC,eAEAC,OAAS,SAACC,EAAGC,aACfD,EAAEE,gBACF,IAAMC,mBAAoBC,iBACAX,UAAtBU,kBACIL,YAAYK,mBAAmBT,SAC/BI,YAAYK,mBAAmBT,QAAQW,QAG3CJ,YAAYD,IAIdM,SAAW,SAACC,IACd,IAAK,GAAIC,GAAI,EAAGA,EAAIV,YAAYN,OAAQgB,IACpC,GAAIV,YAAYU,GAAGd,UAAYa,GAC3B,MAAOC,IAKbJ,gBAAkB,WACpB,IAAK,GAAII,GAAI,EAAGA,EAAIV,YAAYN,OAAQgB,IACpC,GAAIV,YAAYU,GAAGZ,aACf,MAAOY,IAKbC,OAAS,SAACC,OACZ,GAAMC,OAAQL,SAASI,MAAMhB,QACfD,UAAVkB,MACAb,YAAYc,KAAKF,OAEjBZ,YAAYa,OAASD,MAI7B,QACIX,OAAAA,OACAU,OAAAA","file":"validation-helper.js","sourcesContent":["\nexport default (opts = {}) => {\n    const elProp = opts.element || 'el';\n    const invalidProp = opts.invalid || 'invalid';\n\n    const fieldStates = [];\n\n    const submit = (e, onValidated) => {\n        e.preventDefault();\n        const firstInvalidIndex = getInvalidIndex();\n        if (firstInvalidIndex !== undefined) {\n            if (fieldStates[firstInvalidIndex][elProp]) {\n                fieldStates[firstInvalidIndex][elProp].focus();\n            }\n        } else {\n            onValidated(e);\n        }\n    };\n\n    const getIndex = (el) => {\n        for (let i = 0; i < fieldStates.length; i++) {\n            if (fieldStates[i][elProp] === el) {\n                return i;\n            }\n        }\n    };\n\n    const getInvalidIndex = () => {\n        for (let i = 0; i < fieldStates.length; i++) {\n            if (fieldStates[i][invalidProp]) {\n                return i;\n            }\n        }\n    };\n\n    const update = (state) => {\n        const index = getIndex(state[elProp]);\n        if (index === undefined) {\n            fieldStates.push(state);\n        } else {\n            fieldStates[index] = state;\n        }\n    };\n\n    return {\n        submit,\n        update\n    };\n};\n"]}