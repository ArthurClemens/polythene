"use strict";Object.defineProperty(exports,"__esModule",{value:true});function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _mithril=require("mithril");var _mithril2=_interopRequireDefault(_mithril);var _polytheneCommonEasing=require("polythene/common/easing");var _polytheneCommonEasing2=_interopRequireDefault(_polytheneCommonEasing);var scrollTo=function scrollTo(opts){var element=opts.element;var which=opts.direction==="horizontal"?"scrollLeft":"scrollTop";var to=opts.to;var duration=opts.duration*1e3;var start=element[which];var change=to-start;var animationStart=(new Date).getTime();var animating=true;var deferred=_mithril2["default"].deferred();var animateScroll=function animateScroll(){if(!animating){return}requestAnimFrame(animateScroll);var now=(new Date).getTime();var percentage=(now-animationStart)/duration;var val=start+change*_polytheneCommonEasing2["default"].easeInOutCubic(percentage);element[which]=val;if(percentage>=1){element[which]=to;animating=false;deferred.resolve()}};requestAnimFrame(animateScroll);return deferred.promise};var requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(callback){window.setTimeout(callback,1e3/60)}}();exports["default"]=scrollTo;module.exports=exports["default"];