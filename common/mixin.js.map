{"version":3,"sources":["mixin.es6"],"names":["vendorize","prefixes","map","v","join","vendorsSel","what","fit","offset","position","top","offsetPx","right","bottom","left","fontSmoothing","smoothing","ellipsis","overflow","display","height","Object","assign","lines","lineHeight","unit","clearfix","content","clear","hairline","sticky","zIndex","createStyles","Array","isArray","common","o","scope","fn","defaultTransition","animation_duration","animation_curve_default","prefixes_transition","duration","curve","properties","fluidScale","fluidScales","property","minBreakpoint","minValue","maxBreakpoint","maxValue","orientation","sizes","sort","sorted","data","maxBreakpoints","shift","push","minBreakpoints","length","maxValues","minValues","fluidRule","index","isLast","orientationRule","isFirst","p","rule","orientationUnit"],"mappings":"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","file":"mixin.js","sourcesContent":["// Mixins for j2c\n\nimport common from 'polythene/config/config';\nimport 'polythene/common/object.assign';\n\n// Creates j2c vendor key string from vendor list\n// mixin.vendorize({'user-select': 'none'}, common.prefixes_user_select)\nconst vendorize = (what, prefixes) => {\n    const vendorsSel = prefixes.map((v) => ('_' + v + '$')).join('');\n    return {\n        [vendorsSel]: what\n    };\n};\n\n// Centers an item absolutely within relative parent\n// mixin.fit()\nconst fit = (offset = 0) => {\n    const offsetPx = offset + 'px';\n    return {\n        position: 'absolute',\n        top: offsetPx,\n        right: offsetPx,\n        bottom: offsetPx,\n        left: offsetPx\n    };\n};\n\n// Optional font smoothing\n// mixin.fontSmoothing()\nconst fontSmoothing = (smoothing = true) => {\n    if (smoothing) {\n        return {\n            '-webkit-font-smoothing': 'antialiased',\n            '-moz-osx-font-smoothing': 'grayscale'\n        };\n    } else {\n        return {\n            '-webkit-font-smoothing': 'subpixel-antialiased',\n            '-moz-osx-font-smoothing': 'auto'\n        };\n    }\n};\n\n// Breaks off a line with ...\n// unless lines is 'none'\n// mixin.ellipsis(1, 16) // max 1 line, 16px high\n// mixin.ellipsis(2, 1.3, 'em') // max 2 lines, 2.6em high\nconst ellipsis = (lines, lineHeight, unit = 'px') => {\n    if (lines === 'none') {\n        return {\n            'text-overflow': 'initial',\n            overflow: 'initial',\n            display: 'block',\n            height: 'auto'\n        };\n    }\n    return Object.assign(\n        {},\n        {\n            overflow: 'hidden',\n            'text-overflow': 'ellipsis',\n            'text-rendering': 'auto' // Samsung Android\n        },\n        (lines !== undefined) ? {\n            '-webkit-line-clamp': lines,\n            '-webkit-box-orient': 'vertical',\n            display: '-webkit-box'\n        } : null,\n        (lineHeight !== undefined) ? {\n            'max-height': (lines * lineHeight) + unit\n        } : null\n    );\n};\n\n// Clears float\n// mixin.clearfix()\nconst clearfix = () => ({\n    '&:after': {\n        content: '\"\"',\n        display: 'table',\n        clear: 'both'\n    }\n});\n\n\n// Creates a very thin line\n// disabled, does not work in Chrome\n// mixin.hairline()\nconst hairline = () => ({});\n\n// const hairline = (which) => ({\n//     [`${which}-width`]: '1px',\n//\n//     ' html.pe-hairlines &': {\n//         [`${which}-width`]: '0.5px'\n//     }\n// });\n\n// Test if browser handles 0.5px borders\n// and add class pe-hairlines if so\n// if (window.devicePixelRatio && devicePixelRatio >= 2) {\n//     const el = document.createElement('div');\n//     el.style.border = '.5px solid transparent';\n//     document.body.appendChild(el);\n//     if (el.offsetHeight === 1) {\n//         document.querySelector('html').classList.add('pe-hairlines');\n//     }\n//     document.body.removeChild(el);\n// }\n\n// Creates sticky headers in a scrollable list\n// Does not work in Chrome: http://caniuse.com/#feat=css-sticky\n// mixin.sticky()\nconst sticky = (zIndex = 1) => ([\n    {position: '-webkit-sticky'},\n    {position: '-moz-sticky'},\n    {position: '-o-sticky'},\n    {position: '-ms-sticky'},\n    {position: 'sticky'},\n    {\n        top: 0,\n        'z-index': zIndex\n    }\n]);\n\n// Polythene utility function to generate style objects with scopes\n// Used in theme files\nconst createStyles = (common, fn) => {\n    if (Array.isArray(common)) {\n        return common.map((o) => {\n            for (let scope in o) {\n                return {[scope]: fn(o[scope])};\n            };\n        });\n    } else {\n        return fn(common);\n    }\n};\n\n// Creats a transition with presets\n// mixin.defaultTransition('opacity', config.animation_duration)\nconst defaultTransition = (properties = 'all', duration = common.animation_duration, curve = common.animation_curve_default) => {\n    return [\n        vendorize({\n            'transition-delay': 0\n        }, common.prefixes_transition),\n        vendorize({\n            'transition-duration': duration\n        }, common.prefixes_transition),\n        vendorize({\n            'transition-timing-function': curve\n        }, common.prefixes_transition),\n        vendorize({\n            'transition-property': properties\n        }, common.prefixes_transition),\n    ];\n};\n\n// Scales an item dynamically between 2 screen sizes\n// mixin.fluidScale('font-size', 'px', 50, 100);\n// => 50px at 320 and below; scaling between sizes 50px and 100px in between the breakpoints; 100px at 1920 and above\nconst fluidScale = (property, unit, minValue, maxValue, minBreakpoint = 320, maxBreakpoint = 1920, orientation = 'horizontal') => (fluidScales([property], unit, [[minBreakpoint, minValue], [maxBreakpoint, maxValue]], orientation));\n\n// Scales an item dynamically between multiple screen sizes\n// mixin.fluidScales(['padding-left', 'padding-right'], 'px', [[375, 40], [320, 35], [480, 55]])\n// => 35px padding-left and padding-right at 320 and below; scaling between sizes 35px and 40px in between the breakpoints 320 and 375; scaling between sizes 40px and 55px in between the breakpoints 375 and 480; 55px at 480 and above\nconst fluidScales = (property, unit, sizes, orientation) => {\n    const sorted = sizes.sort();\n    const minBreakpoints = sorted.map((data) => (data[0]));\n    const maxBreakpoints = sorted.map((data) => (data[0]));\n    maxBreakpoints.shift();\n    maxBreakpoints.push(minBreakpoints[minBreakpoints.length - 1]);\n    const minValues = sorted.map((data) => (data[1]));\n    const maxValues = sorted.map((data) => (data[1]));\n    maxValues.shift();\n    maxValues.push(minValues[minValues.length - 1]);\n    return sorted.map((data, index) => (fluidRule(\n        property,\n        unit,\n        orientation,\n        minBreakpoints[index],\n        maxBreakpoints[index],\n        minValues[index],\n        maxValues[index],\n        index === 0,\n        index === sorted.length - 1\n    )));\n};\n\nconst fluidRule = (property, unit, orientation = 'horizontal', minBreakpoint, maxBreakpoint, minValue, maxValue, isFirst, isLast) => {\n    const orientationUnit = (orientation === 'vertical') ? 'vh' : 'vw';\n    const orientationRule = (orientation === 'vertical') ? 'height' : 'width';\n    const rule = isLast\n        ? [`@media (min-${orientationRule}: ${minBreakpoint}px)`]\n        : [`@media (min-${orientationRule}: ${minBreakpoint}px) and (max-${orientationRule}: ${maxBreakpoint}px)`];\n    const multiplier = `((${maxValue} - ${minValue}) / (${maxBreakpoint} - ${minBreakpoint}) * 100${orientationUnit})`;\n    const adder = `(((${minValue} * ${maxBreakpoint}) - (${maxValue} * ${minBreakpoint})) / (${maxBreakpoint} - ${minBreakpoint})) * 1${unit}`;\n    const formula = `calc(${multiplier} + ${adder})`;\n    const properties = Array.isArray(property) ? property : [property];\n    return [\n        isFirst ? properties.map((p) => ({[p]: `${minValue}${unit}`})) : null,\n        {[rule]: properties.map((p) => ({[p]: isLast ? `${maxValue}${unit}` : formula}))}\n    ];\n};\n\nexport default {\n    clearfix,\n    createStyles,\n    defaultTransition,\n    ellipsis,\n    fit,\n    fontSmoothing,\n    fluidScale,\n    fluidScales,\n    hairline,\n    sticky,\n    vendorize\n};\n"]}