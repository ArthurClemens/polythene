{"version":3,"sources":["no-tap-delay.es6"],"names":["_fastclick","require","_polythene","_events","layer","document","body","throttleDelay","reInitDelay","fastClick","timeoutId","enabled","remove","destroy","add","_fastclick2","default","handleScroll","window","clearTimeout","setTimeout","init","_polythene2","isTouch","_events2","subscribe"],"mappings":"qJAAA,IAAAA,YAAAC,QAAA,4DACAC,WAAAD,QAAA,gFACAE,QAAAF,QAAA,oEAEMG,MAAQC,SAASC,KACjBC,cAAgB,IAChBC,YAAcD,cAAgB,GAChCE,UAAA,OACAC,UAAA,OACAC,QAAA,OAEEC,OAAS,WACPD,UACAF,UAAUI,UACVF,SAAU,IAIZG,IAAM,WACHH,UACDF,UAAY,GAAAM,aAAAC,QAAcZ,OAC1BO,SAAU,IAIZM,aAAe,WACjBL,SACIF,WACAQ,OAAOC,aAAaT,WAExBA,UAAYQ,OAAOE,WAAWN,IAAKN,cAGjCa,KAAO,WACLC,YAAAN,QAAEO,UACFC,SAAAR,QAAOS,UAAU,SAAUR,aAAcV,eACzCO,OAIRO,yBAGIP,IAAKA,IACLF,OAAQA","file":"no-tap-delay.js","sourcesContent":["import FastClick from 'fastclick';\nimport p from 'polythene/polythene/polythene';\nimport events from 'polythene/common/events';\n\nconst layer = document.body;\nconst throttleDelay = 150;\nconst reInitDelay = throttleDelay + 50;\nlet fastClick;\nlet timeoutId;\nlet enabled;\n\nconst remove = () => {\n    if (enabled) {\n        fastClick.destroy();\n        enabled = false;\n    }\n};\n\nconst add = () => {\n    if (!enabled) {\n        fastClick = new FastClick(layer);\n        enabled = true;\n    }\n};\n\nconst handleScroll = () => {\n    remove();\n    if (timeoutId) {\n        window.clearTimeout(timeoutId);\n    }\n    timeoutId = window.setTimeout(add, reInitDelay);\n};\n\nconst init = () => {\n    if (p.isTouch) {\n        events.subscribe('scroll', handleScroll, throttleDelay);\n        add();\n    }\n};\n\ninit();\n\nexport default {\n    add: add,\n    remove: remove\n};\n"]}