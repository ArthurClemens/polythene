{"version":3,"sources":["no-tap-delay.es6"],"names":["layer","body","isClient","document","throttleDelay","reInitDelay","fastClick","timeoutId","enabled","remove","destroy","add","handleScroll","window","clearTimeout","setTimeout","init","isTouch","subscribe"],"mappings":"oEAAA,8W,wEAKA,GAAIA,OAAQ,CAACC,OAAD,CAAZ,CACG,qBAAWC,QAAX,E,GACFF,MAAQG,SAASF,I,EAElB,GAAMG,eAAgB,GAAtB,CACMC,YAAcD,cAAgB,EADpC,CAEIE,SAFJ,CAGIC,SAHJ,CAIIC,OAJJ,CAMMC,OAAS,UAAM,CACbD,OADa,GAEbF,UAAUI,OAAV,EAFa,CAGbF,UAHa,CAKpB,CAXD,CAaMG,IAAM,UAAM,CACTH,OADS,GAEVF,UAAY,wBAAcN,KAAd,CAFF,CAGVQ,UAHU,CAKjB,CAlBD,CAoBMI,aAAe,UAAM,CACvBH,QADuB,CAEnBF,SAFmB,EAGnBM,OAAOC,YAAP,CAAoBP,SAApB,CAHmB,CAKvBA,UAAYM,OAAOE,UAAP,CAAkBJ,GAAlB,CAAuBN,WAAvB,CACf,CA1BD,CA4BMW,KAAO,UAAM,CACX,oBAAEC,OADS,GAEX,iBAAOC,SAAP,CAAiB,QAAjB,CAA2BN,YAA3B,CAAyCR,aAAzC,CAFW,CAGXO,KAHW,CAKlB,CAjCD,CAmCAK,M,iBAEe,CACXL,IAAKA,GADM,CAEXF,OAAQA,MAFG,C","file":"no-tap-delay.js","sourcesContent":["import FastClick from 'fastclick';\nimport p from 'polythene/polythene/polythene';\nimport events from 'polythene/common/events';\nimport isomorphic from 'polythene/common/isomorphic';\n\nlet layer = {body:{}};\nif(isomorphic.isClient()) {\n\tlayer = document.body;\n}\nconst throttleDelay = 150;\nconst reInitDelay = throttleDelay + 50;\nlet fastClick;\nlet timeoutId;\nlet enabled;\n\nconst remove = () => {\n    if (enabled) {\n        fastClick.destroy();\n        enabled = false;\n    }\n};\n\nconst add = () => {\n    if (!enabled) {\n        fastClick = new FastClick(layer);\n        enabled = true;\n    }\n};\n\nconst handleScroll = () => {\n    remove();\n    if (timeoutId) {\n        window.clearTimeout(timeoutId);\n    }\n    timeoutId = window.setTimeout(add, reInitDelay);\n};\n\nconst init = () => {\n    if (p.isTouch) {\n        events.subscribe('scroll', handleScroll, throttleDelay);\n        add();\n    }\n};\n\ninit();\n\nexport default {\n    add: add,\n    remove: remove\n};\n"]}