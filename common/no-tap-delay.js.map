{"version":3,"sources":["no-tap-delay.es6"],"names":["_fastclick","require","_polythene","_events","_isomorphic","layer","body","_isomorphic2","default","isClient","document","throttleDelay","reInitDelay","fastClick","timeoutId","enabled","remove","destroy","add","_fastclick2","handleScroll","window","clearTimeout","setTimeout","init","_polythene2","isTouch","_events2","subscribe"],"mappings":"qJAAA,IAAAA,YAAAC,QAAA,4DACAC,WAAAD,QAAA,gFACAE,QAAAF,QAAA,oEACAG,YAAAH,QAAA,gFAEII,OAASC,QACVC,cAAAC,QAAWC,aACbJ,MAAQK,SAASJ,KAElB,IAAMK,eAAgB,IAChBC,YAAcD,cAAgB,GAChCE,UAAA,OACAC,UAAA,OACAC,QAAA,OAEEC,OAAS,WACPD,UACAF,UAAUI,UACVF,SAAU,IAIZG,IAAM,WACHH,UACDF,UAAY,GAAAM,aAAAX,QAAcH,OAC1BU,SAAU,IAIZK,aAAe,WACjBJ,SACIF,WACAO,OAAOC,aAAaR,WAExBA,UAAYO,OAAOE,WAAWL,IAAKN,cAGjCY,KAAO,WACLC,YAAAjB,QAAEkB,UACFC,SAAAnB,QAAOoB,UAAU,SAAUR,aAAcT,eACzCO,OAIRM,yBAGIN,IAAKA,IACLF,OAAQA","file":"no-tap-delay.js","sourcesContent":["import FastClick from 'fastclick';\nimport p from 'polythene/polythene/polythene';\nimport events from 'polythene/common/events';\nimport isomorphic from 'polythene/common/isomorphic';\n\nlet layer = {body:{}};\nif(isomorphic.isClient()) {\n\tlayer = document.body;\n}\nconst throttleDelay = 150;\nconst reInitDelay = throttleDelay + 50;\nlet fastClick;\nlet timeoutId;\nlet enabled;\n\nconst remove = () => {\n    if (enabled) {\n        fastClick.destroy();\n        enabled = false;\n    }\n};\n\nconst add = () => {\n    if (!enabled) {\n        fastClick = new FastClick(layer);\n        enabled = true;\n    }\n};\n\nconst handleScroll = () => {\n    remove();\n    if (timeoutId) {\n        window.clearTimeout(timeoutId);\n    }\n    timeoutId = window.setTimeout(add, reInitDelay);\n};\n\nconst init = () => {\n    if (p.isTouch) {\n        events.subscribe('scroll', handleScroll, throttleDelay);\n        add();\n    }\n};\n\ninit();\n\nexport default {\n    add: add,\n    remove: remove\n};\n"]}