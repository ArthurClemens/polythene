'use strict';Object.defineProperty(exports,'__esModule',{value:!0});var _mithril=require('mithril'),_mithril2=_interopRequireDefault(_mithril);function _interopRequireDefault(a){return a&&a.__esModule?a:{default:a}}var SHOW_DURATION=0.22,HIDE_DURATION=0.2,SHOW_DELAY=0,HIDE_DELAY=0,TRANSITION='both',show=function(a){return transition(a,'show')},hide=function(a){return transition(a,'hide')},getDuration=function(a,b){var c=a.transition||TRANSITION;return'none'===c?0:'show'===c&&'hide'===b?0:'hide'===c&&'show'===b?0:'show'===b?void 0===a.showDuration?SHOW_DURATION:a.showDuration:void 0===a.hideDuration?HIDE_DURATION:a.hideDuration},getDelay=function(a,b){var c=a.transition||TRANSITION;return'none'===c?0:'show'===c&&'hide'===b?0:'hide'===c&&'show'===b?0:'show'===b?void 0===a.showDelay?SHOW_DELAY:a.showDelay:void 0===a.hideDelay?HIDE_DELAY:a.hideDelay},transition=function(a,b){var c=_mithril2.default.deferred(),d=a.el;if(!d)return c.resolve(),c.promise;var e=1e3*getDuration(a,b),f=1e3*getDelay(a,b),g=d.style,h=a.beforeShow&&'show'===b?function(){g.transitionDuration='0ms',g.transitionDelay='0ms',a.beforeShow()}:null,i=function applyTransition(){g.transitionDuration=e+'ms',g.transitionDelay=f+'ms',a.showClass&&d.classList['show'===b?'add':'remove'](a.showClass),a.show&&'function'==typeof a.show&&'show'===b&&a.show(),a.hide&&'function'==typeof a.hide&&'hide'===b&&a.hide()},j=function applyAfterTransition(){a.afterHide&&'hide'===b&&(g.transitionDuration='0ms',g.transitionDelay='0ms',a.afterHide())},k=function doTransition(){i(),setTimeout(function(){j(),c.resolve()},e+f)},l=function maybeDelayTransition(){0==e?k():setTimeout(function(){k()},0)};return h?(h(),setTimeout(function(){l()},0)):l(),c.promise};exports.default={show:show,hide:hide},module.exports=exports['default'];
//# sourceMappingURL=transition.js.map