'use strict';Object.defineProperty(exports,'__esModule',{value:!0}),require('polythene/common/object.assign');var _mithril=require('mithril'),_mithril2=_interopRequireDefault(_mithril);require('polythene/selection-control/theme/theme');function _interopRequireDefault(a){return a&&a.__esModule?a:{default:a}}var CSS_CLASSES={block:'pe-control',label:'pe-control__label',input:'pe-control__input',box:'pe-control__box',on:'pe-control--on',off:'pe-control--off',disabled:'pe-control--disabled',inactive:'pe-control--inactive',small:'pe-control--small',regular:'pe-control--regular',medium:'pe-control--medium',large:'pe-control--large'},typeClasses={small:CSS_CLASSES.small,regular:CSS_CLASSES.regular,medium:CSS_CLASSES.medium,large:CSS_CLASSES.large},classForType=function(){var a=0<arguments.length&&arguments[0]!==void 0?arguments[0]:'regular';return typeClasses[a]},createView=function(a){var b=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{};'function'==typeof b.checked&&a.setChecked(b.checked());var c=a.checked(),d=b.selectable(c),e=b.disabled||!d,f=b.tag||'div',g=b.name||'',h=Object.assign({},{class:[CSS_CLASSES.block,b.defaultClass,c?CSS_CLASSES.on:CSS_CLASSES.off,b.disabled?CSS_CLASSES.disabled:null,e?CSS_CLASSES.inactive:null,classForType(b.size),b.class].join(' '),id:b.id||'',config:function config(j,k,l,m){k||b.config&&b.config(j,k,l,m)}},b.events?b.events:null),i=[{tag:'input',attrs:{'class':CSS_CLASSES.input,name:g,value:a.value(),type:b.type,tabindex:-1,checked:c,config:function config(j,k){k||a.setInputEl(j)}},children:[]},(0,_mithril2.default)('label',Object.assign({},{class:CSS_CLASSES.label,tabindex:-1},e?null:{onclick:function onclick(){return a.toggle()}}),[b.selectionView?b.selectionView(c,b):null,b.label?(0,_mithril2.default)('span',b.label):null])];return(0,_mithril2.default)(f,h,[b.before,i,b.after])},component={controller:function controller(){var a=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},c=a.value||'1',d=void 0,e=function setInputElChecked(j){d&&(d.checked=j)},f=function getOptsChecked(){if('function'==typeof a.checked){var j=a.checked();return j!==void 0&&j}return void 0!==a.checked&&a.checked},h=function setChecked(j){e(j),a.getState&&a.getState({checked:d?d.checked:f(),value:c,el:d})};return{setInputEl:function setInputEl(j){d=j,e(f())},setChecked:h,checked:function checked(){return d?d.checked:f()},toggle:function toggle(){return h(!d.checked)},value:function value(){return c}}},view:function view(a){var b=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{};return createView(a,b)}};exports.default=component,module.exports=exports['default'];
//# sourceMappingURL=selection-control.js.map