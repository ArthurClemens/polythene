{"version":3,"file":"polythene-css-base-spinner.js","sources":["../src/color.js","../src/layout.js","../src/vars.js","../src/index.js","../../polythene-css-classes/base-spinner.js"],"sourcesContent":["// @ts-check\n\nimport { sel, createColor } from \"polythene-core-css\";\n\nconst generalFns = ({\n  general_styles: selector => [], // eslint-disable-line no-unused-vars\n});\n\nconst tintFns = tint => ({\n  [\"color_\" + tint + \"_raised_background\"]: (selector, vars) => [\n    sel(selector, {\n      \".pe-spinner--raised\": {\n        backgroundColor: vars[\"color_\" + tint + \"_raised_background\"],\n      }\n    })\n  ],\n});\n\nconst lightTintFns = Object.assign({}, generalFns, tintFns(\"light\"));\nconst darkTintFns = Object.assign({}, generalFns, tintFns(\"dark\"));\n\nexport default createColor({\n  varFns: { lightTintFns, darkTintFns }\n});\n","// @ts-check\n\nimport { sel, createLayout } from \"polythene-core-css\";\n\nconst sizes = size => ({\n  width: size + \"px\",\n  height: size + \"px\"\n});\n\nconst raisedSize = size => {\n  const padding = Math.round(size * 0.25); // only use rounded number to prevent sub-pixel alignment issues\n  const paddedSize = size + padding * 2;\n  return {\n    width:   paddedSize + \"px\",\n    height:  paddedSize + \"px\",\n    padding: padding    + \"px\"\n  };\n};\n\nconst varFns = {\n  general_styles: selector => [\n    sel(selector, {\n      transitionProperty: \"all\",\n\n      \".pe-spinner--raised\": {\n        position: \"relative\",\n        borderRadius: \"50%\",\n      }\n    })\n  ],\n  animation_show_css: (selector, vars) => [\n    sel(selector, {\n      \".pe-spinner--visible, &.pe-spinner--permanent\": [\n        vars.animation_show_css,\n      ],\n    })\n  ],\n  animation_hide_css: (selector, vars) => ({\n    [selector]: vars.animation_hide_css\n  }),\n  animation_delay: (selector, vars) => [\n    sel(selector, {\n      transitionDelay: vars.animation_delay,\n    })\n  ],\n  animation_duration: (selector, vars) => [\n    sel(selector, {\n      transitionDuration: vars.animation_duration,\n    })\n  ],\n  animation_timing_function: (selector, vars) => [\n    sel(selector, {\n      transitionTimingFunction: vars.animation_timing_function,\n    })\n  ],\n  size_small: (selector, vars) => [\n    sel(selector, {\n      \".pe-spinner--small\": sizes(vars.size_small),\n\n      \".pe-spinner--raised\": {\n        \".pe-spinner--small\": raisedSize(vars.size_small),\n      }\n    })\n  ],\n  size_regular: (selector, vars) => [\n    sel(selector, {\n      \".pe-spinner--regular\": sizes(vars.size_regular),\n\n      \".pe-spinner--raised\": {\n        \".pe-spinner--regular\": raisedSize(vars.size_regular),\n      }\n    })\n  ],\n  size_medium: (selector, vars) => [\n    sel(selector, {\n      \".pe-spinner--medium\": sizes(vars.size_medium),\n\n      \".pe-spinner--raised\": {\n        \".pe-spinner--medium\": raisedSize(vars.size_medium),\n      }\n    })\n  ],\n  size_large: (selector, vars) => [\n    sel(selector, {\n      \".pe-spinner--large\": sizes(vars.size_large),\n\n      \".pe-spinner--raised\": {\n        \".pe-spinner--large\": raisedSize(vars.size_large),\n      }\n    })\n  ],\n  size_fab: (selector, vars) => [\n    sel(selector, {\n      \".pe-spinner--fab\": sizes(vars.size_fab),\n\n      \".pe-spinner--raised\": {\n        \".pe-spinner--fab\": raisedSize(vars.size_fab)\n      }\n    })\n  ],\n};\n\nexport default createLayout({ varFns });\n","// @ts-check\n\n/**\n * @typedef {import(\"../index\").BaseSpinnerVars} BaseSpinnerVars\n */\n\nimport { rgba } from \"polythene-core-css\";\nimport { vars } from \"polythene-theme\";\n\n/**\n * @type {BaseSpinnerVars} baseSpinnerVars\n */\nconst baseSpinnerVars = {\n  /**\n   * Generate general styles, not defined by variables\n   */\n  general_styles:                true,\n    \n  animation_delay:               \"0s\",\n  animation_duration:            \".220s\",\n  animation_hide_css:            \"opacity: 0;\",\n  animation_show_css:            \"opacity: 1;\",\n  animation_timing_function:     \"ease-in-out\",\n  size_fab:                      7 * vars.grid_unit_component,\n  size_large:                    6 * vars.grid_unit_component,\n  size_medium:                   5 * vars.grid_unit_component,\n  size_regular:                  4 * vars.grid_unit_component,\n  size_small:                    3 * vars.grid_unit_component,\n\n  color_light_raised_background: rgba(vars.color_light_background),\n  color_dark_raised_background:  rgba(vars.color_light_background) // also use light background with dark tone\n};\n\nexport default baseSpinnerVars;\n","// @ts-check\n\nimport classes from \"polythene-css-classes/base-spinner\";\nimport color from \"./color\";\nimport layout from \"./layout\";\nimport vars from \"./vars\";\nimport { styler } from \"polythene-core-css\";\n\nconst fns = [layout, color];\nconst selector = `.${classes.component}`;\n\nconst addStyle = styler.createAddStyle(selector, fns, vars);\n\nconst getStyle = styler.createGetStyle(selector, fns, vars);\n\nconst addGeneralStyleToHead = () =>\n  styler.addStyle({\n    selectors: [selector],\n    fns,\n    vars\n  });\n\nexport {\n  addGeneralStyleToHead,\n  addStyle,\n  getStyle,\n  color,\n  layout,\n  vars,\n};\n","\nexport default {\n  component:   \"pe-spinner\",\n\n  // elements\n  animation:   \"pe-spinner__animation\",\n  placeholder: \"pe-spinner__placeholder\",\n\n  // states\n  animated:    \"pe-spinner--animated\",\n  fab:         \"pe-spinner--fab\",\n  large:       \"pe-spinner--large\",\n  medium:      \"pe-spinner--medium\",\n  permanent:   \"pe-spinner--permanent\",\n  raised:      \"pe-spinner--raised\",\n  regular:     \"pe-spinner--regular\",\n  singleColor: \"pe-spinner--single-color\",\n  small:       \"pe-spinner--small\",\n  visible:     \"pe-spinner--visible\",\n};\n"],"names":["generalFns","general_styles","selector","tintFns","tint","vars","sel","backgroundColor","lightTintFns","_extends","darkTintFns","createColor","varFns","sizes","size","width","height","raisedSize","padding","Math","round","paddedSize","transitionProperty","position","borderRadius","animation_show_css","animation_hide_css","animation_delay","transitionDelay","animation_duration","transitionDuration","animation_timing_function","transitionTimingFunction","size_small","size_regular","size_medium","size_large","size_fab","createLayout","baseSpinnerVars","grid_unit_component","color_light_raised_background","rgba","color_light_background","color_dark_raised_background","fns","layout","color","addStyle","styler","createAddStyle","getStyle","createGetStyle","selectors"],"mappings":"ysBAIA,IAAMA,EAAc,CAClBC,eAAgB,SAAAC,SAAY,KAGxBC,EAAU,SAAAC,eACb,SAAWA,EAAO,sBAAuB,SAACF,EAAUG,SAAS,CAC5DC,MAAIJ,EAAU,uBACW,CACrBK,gBAAiBF,EAAK,SAAWD,EAAO,8BAM1CI,EAAeC,EAAc,GAAIT,EAAYG,EAAQ,UACrDO,EAAcD,EAAc,GAAIT,EAAYG,EAAQ,WAE3CQ,cAAY,CACzBC,OAAQ,CAAEJ,aAAAA,EAAcE,YAAAA,KClBpBG,EAAQ,SAAAC,SAAS,CACrBC,MAAOD,EAAO,KACdE,OAAQF,EAAO,OAGXG,EAAa,SAAAH,OACXI,EAAUC,KAAKC,MAAa,IAAPN,GACrBO,EAAaP,EAAiB,EAAVI,QACnB,CACLH,MAASM,EAAa,KACtBL,OAASK,EAAa,KACtBH,QAASA,EAAa,OAIpBN,EAAS,CACbX,eAAgB,SAAAC,SAAY,CAC1BI,MAAIJ,EAAU,CACZoB,mBAAoB,4BAEG,CACrBC,SAAU,WACVC,aAAc,WAIpBC,mBAAoB,SAACvB,EAAUG,SAAS,CACtCC,MAAIJ,EAAU,iDACqC,CAC/CG,EAAKoB,wBAIXC,mBAAoB,SAACxB,EAAUG,eAC5BH,EAAWG,EAAKqB,qBAEnBC,gBAAiB,SAACzB,EAAUG,SAAS,CACnCC,MAAIJ,EAAU,CACZ0B,gBAAiBvB,EAAKsB,oBAG1BE,mBAAoB,SAAC3B,EAAUG,SAAS,CACtCC,MAAIJ,EAAU,CACZ4B,mBAAoBzB,EAAKwB,uBAG7BE,0BAA2B,SAAC7B,EAAUG,SAAS,CAC7CC,MAAIJ,EAAU,CACZ8B,yBAA0B3B,EAAK0B,8BAGnCE,WAAY,SAAC/B,EAAUG,SAAS,CAC9BC,MAAIJ,EAAU,sBACUW,EAAMR,EAAK4B,kCAEV,sBACChB,EAAWZ,EAAK4B,iBAI5CC,aAAc,SAAChC,EAAUG,SAAS,CAChCC,MAAIJ,EAAU,wBACYW,EAAMR,EAAK6B,oCAEZ,wBACGjB,EAAWZ,EAAK6B,mBAI9CC,YAAa,SAACjC,EAAUG,SAAS,CAC/BC,MAAIJ,EAAU,uBACWW,EAAMR,EAAK8B,mCAEX,uBACElB,EAAWZ,EAAK8B,kBAI7CC,WAAY,SAAClC,EAAUG,SAAS,CAC9BC,MAAIJ,EAAU,sBACUW,EAAMR,EAAK+B,kCAEV,sBACCnB,EAAWZ,EAAK+B,iBAI5CC,SAAU,SAACnC,EAAUG,SAAS,CAC5BC,MAAIJ,EAAU,oBACQW,EAAMR,EAAKgC,gCAER,oBACDpB,EAAWZ,EAAKgC,kBAM7BC,eAAa,CAAE1B,OAAAA,IC1FxB2B,EAAkB,CAItBtC,gBAA+B,EAE/B0B,gBAA+B,KAC/BE,mBAA+B,QAC/BH,mBAA+B,cAC/BD,mBAA+B,cAC/BM,0BAA+B,cAC/BM,SAA+B,EAAIhC,OAAKmC,oBACxCJ,WAA+B,EAAI/B,OAAKmC,oBACxCL,YAA+B,EAAI9B,OAAKmC,oBACxCN,aAA+B,EAAI7B,OAAKmC,oBACxCP,WAA+B,EAAI5B,OAAKmC,oBAExCC,8BAA+BC,OAAKrC,OAAKsC,wBACzCC,6BAA+BF,OAAKrC,OAAKsC,yBCtBrCE,EAAM,CAACC,EAAQC,GACf7C,aCPS,cDST8C,EAAWC,SAAOC,eAAehD,EAAU2C,EAAKxC,GAEhD8C,EAAWF,SAAOG,eAAelD,EAAU2C,EAAKxC,2BAExB,kBAC5B4C,SAAOD,SAAS,CACdK,UAAW,CAACnD,GACZ2C,IAAAA,EACAxC,KAAAA"}