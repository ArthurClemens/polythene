{"version":3,"file":"polythene-css-notification.js","sources":["../../polythene-css-classes/notification.js","../src/color.js","../src/layout-holder.js","../src/layout.js","../src/vars.js","../src/index.js"],"sourcesContent":["\nexport default {\n  component:      \"pe-notification\",\n\n  // elements\n  action:         \"pe-notification__action\",\n  content:        \"pe-notification__content\",\n  holder:         \"pe-notification__holder\",\n  placeholder:    \"pe-notification__placeholder\",\n  title:          \"pe-notification__title\",\n\n  // states\n  hasContainer:   \"pe-notification--container\",\n  horizontal:     \"pe-notification--horizontal\",\n  multilineTitle: \"pe-notification__title--multi-line\",\n  vertical:       \"pe-notification--vertical\",\n  visible:        \"pe-notification--visible\",\n};","// @ts-check\n\nimport { sel, createColor } from \"polythene-core-css\";\n\nconst generalFns = ({\n  general_styles: selector => [], // eslint-disable-line no-unused-vars\n});\n\nconst tintFns = tint => ({\n  [\"color_\" + tint + \"_text\"]: (selector, vars) => [\n    sel(selector, {\n      \" .pe-notification__content\": {\n        color: vars[\"color_\" + tint + \"_text\"],\n      }\n    })\n  ],\n  [\"color_\" + tint + \"_background\"]: (selector, vars) => [\n    sel(selector, {\n      \" .pe-notification__content\": {\n        background: vars[\"color_\" + tint + \"_background\"]\n      }\n    })\n  ]\n});\n\nconst lightTintFns = Object.assign({}, generalFns, tintFns(\"light\"));\nconst darkTintFns = Object.assign({}, generalFns, tintFns(\"dark\"));\n\nexport default createColor({\n  varFns: { lightTintFns, darkTintFns }\n});\n","// @ts-check\n\nimport { vars as defaultVars } from \"polythene-theme\";\nimport { flex, sel, createLayout } from \"polythene-core-css\";\n\nconst varFns = {\n  general_styles: selector => [\n    sel(selector, [\n      flex.layoutCenterCenter,\n      {\n        // assumes position relative\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n        pointerEvents: \"none\",\n        justifyContent: \"flex-start\", // For IE 11\n\n        \".pe-multiple--screen\": {\n          position: \"fixed\",\n          zIndex: defaultVars.z_notification,\n        }\n      }\n    ]),\n    {\n      \":not(.pe-notification--container) .pe-multiple--container\": {\n        position: \"absolute\",\n      }\n    }\n  ],\n};\n\nexport default createLayout({\n  varFns,\n});\n","// @ts-check\n\nimport { flex, sel, createLayout } from \"polythene-core-css\";\n\nconst title_single_padding_v_title_padding_h = (selector, vars) =>\n  sel(selector, {\n    \" .pe-notification__title\": {\n      padding: vars.title_single_padding_v + \"px \" + vars.title_padding_h + \"px\",\n    },\n  });\n\nexport const customLayoutFns = {\n  animation_hide_css: (selector, vars) => [\n    sel(selector, vars.animation_hide_css)\n  ],\n  animation_show_css: (selector, vars) => [\n    sel(selector, {\n      \".pe-notification--visible\": [\n        vars.animation_show_css\n      ],\n\n    })\n  ],\n  width: (selector, vars) => [\n    sel(selector, {\n      \" .pe-notification__content\": {\n        width: vars.width + \"px\",\n      },\n    })\n  ],\n  animation_delay: (selector, vars) => [\n    sel(selector, {\n      transitionDelay: vars.animation_delay,\n    })\n  ],\n  animation_duration: (selector, vars) => [\n    sel(selector, {\n      transitionDuration: vars.animation_duration,\n    })\n  ],\n  animation_timing_function: (selector, vars) => [\n    sel(selector, {\n      transitionTimingFunction: vars.animation_timing_function,\n    })\n  ],\n  side_padding: (selector, vars) => [\n    sel(selector, {\n      \" .pe-notification__content\": {\n        padding: \"0 \" + vars.side_padding + \"px\",\n      },\n    })\n  ],\n  border_radius: (selector, vars) => [\n    sel(selector, {\n      \" .pe-notification__content\": {\n        borderRadius: vars.border_radius + \"px\",\n      },\n    })\n  ],\n  title_single_padding_v: (selector, vars) => [\n    title_single_padding_v_title_padding_h(selector, vars)\n  ],\n  title_padding_h: (selector, vars) => [\n    title_single_padding_v_title_padding_h(selector, vars)\n  ],\n  font_size: (selector, vars) => [\n    sel(selector, {\n      \" .pe-notification__title\": {\n        fontSize: vars.font_size + \"px\",\n      },\n    })\n  ],\n  line_height: (selector, vars) => [\n    sel(selector, {\n      \" .pe-notification__title\": {\n        lineHeight: vars.line_height + \"px\",\n      },\n    })\n  ],\n  title_multi_padding_v: (selector, vars) => [\n    sel(selector, {\n      \".pe-notification--horizontal\": {\n        \" .pe-notification__title--multi-line\": {\n          paddingTop: vars.title_multi_padding_v + \"px\",\n          paddingBottom: vars.title_multi_padding_v + \"px\"\n        },\n      },\n      \".pe-notification--vertical\": {\n        \" .pe-notification__title--multi-line\": {\n          paddingTop: vars.title_multi_padding_v + \"px\",\n        },\n      }\n    })\n  ],\n};\n\nconst varFns = Object.assign(\n  {},\n  {\n    general_styles: selector => [\n      sel(selector, [\n        flex.layoutCenter,\n        {      \n          pointerEvents: \"all\",\n          justifyContent: \"center\",\n          margin: \"0 auto\",\n          transitionProperty: \"all\",\n          opacity: 0,\n          \n          \" .pe-notification__title\": {\n            flex: \"1 0 auto\",\n          },\n\n          \" .pe-notification__action\": {\n            \" .pe-button\": {\n              margin: 0\n            }\n          },\n\n          \" .pe-notification__content\": {\n            maxWidth: \"100%\"\n          },\n\n          \".pe-notification--horizontal\": {\n            \" .pe-notification__content\": flex.layoutHorizontal,\n            \" .pe-notification__title\": [\n              flex.flex(),\n              {\n                alignSelf: \"center\",\n              }\n            ],\n            \" .pe-notification__action\": flex.layoutCenter\n          },\n          \".pe-notification--vertical\": {\n            \" .pe-notification__content\": [\n              flex.layoutVertical\n            ],\n\n            \" .pe-notification__title\": {\n              paddingBottom: \"6px\"\n            },\n            \" .pe-notification__action\": [\n              flex.layoutEndJustified,\n              {\n                width: \"100%\"\n              }\n            ]\n          }\n        },\n      ])\n    ],\n  },\n  customLayoutFns\n);\n\nexport default createLayout({ varFns });\n","// @ts-check\n\n/**\n * @typedef {import(\"../index\").NotificationVars} NotificationVars\n */\n\nimport { rgba } from \"polythene-core-css\";\nimport { vars } from \"polythene-theme\";\n\nconst buttonPaddingH = 8; // padding, inner text space\n\n/**\n * @type {NotificationVars} notificationVars\n */\nconst notificationVars = {\n  /**\n   * Generate general styles, not defined by variables\n   */\n  general_styles:            true,\n\n  animation_delay:           \"0s\",\n  animation_duration:        \".3s\",\n  animation_hide_css:        \"opacity: 0;\",\n  animation_show_css:        \"opacity: 1;\",\n  animation_timing_function: \"ease-in-out\",\n  border_radius:             vars.unit_block_border_radius,\n  font_size:                 14,\n  line_height:               20,\n  min_height:                80,\n  side_padding:              24 - buttonPaddingH,\n  title_multi_padding_v:     20, // 24 - natural line height\n  title_padding_h:           buttonPaddingH,\n  title_single_padding_v:    14,\n  width:                     288,\n   \n  color_light_background:    rgba(vars.color_light_background),\n  color_light_text:          rgba(vars.color_light_foreground, vars.blend_light_dark_primary),\n   \n  color_dark_background:     rgba(vars.color_dark_background),\n  color_dark_text:           rgba(vars.color_dark_foreground, vars.blend_light_text_primary)\n};\n\nexport default notificationVars;\n","// @ts-check\n\nimport classes from \"polythene-css-classes/notification\";\nimport color from \"./color\";\nimport holderLayout from \"./layout-holder\";\nimport layout, { customLayoutFns } from \"./layout\";\nimport vars from \"./vars\";\nimport { styler } from \"polythene-core-css\";\n\nconst fns = [layout, color];\nconst selector = `.${classes.component}`;\n\nconst holderFns = [holderLayout];\nconst holderSelector = `.${classes.holder}`;\n\nconst addStyle = (customSelector, customVars, { mediaQuery=\"\", scope=\"\" } = {}) => {\n  customSelector && styler.addStyle({\n    selectors: [customSelector, selector],\n    fns,\n    vars,\n    customVars,\n    mediaQuery,\n    scope,\n  });\n  customSelector && styler.addStyle({\n    selectors: [customSelector, holderSelector],\n    fns: holderFns,\n    vars,\n    customVars,\n    mediaQuery,\n    scope,\n  });\n};\n\nconst getStyle = (customSelector = \"\", customVars, { mediaQuery=\"\", scope=\"\" } = {}) => \n  styler.getStyle({\n    selectors: [customSelector, selector],\n    fns,\n    vars,\n    customVars,\n    mediaQuery,\n    scope,\n  }).concat(styler.getStyle({\n    selectors: [holderSelector],\n    fns: holderFns,\n    vars,\n    customVars,\n    mediaQuery,\n    scope,\n  }));\n\nconst addGeneralStyleToHead = () => {\n  styler.addStyle({\n    selectors: [holderSelector],\n    fns: holderFns,\n    vars\n  });\n  styler.addStyle({\n    selectors: [selector],\n    fns,\n    vars\n  });\n};\n\nexport {\n  addGeneralStyleToHead,\n  addStyle,\n  getStyle,\n  color,\n  layout,\n  vars,\n  customLayoutFns,\n  holderLayout,\n};\n"],"names":["generalFns","general_styles","selector","tintFns","tint","vars","sel","color","background","lightTintFns","_extends","darkTintFns","createColor","varFns","flex","layoutCenterCenter","top","right","bottom","left","pointerEvents","justifyContent","position","zIndex","defaultVars","z_notification","createLayout","title_single_padding_v_title_padding_h","padding","title_single_padding_v","title_padding_h","customLayoutFns","animation_hide_css","animation_show_css","width","animation_delay","transitionDelay","animation_duration","transitionDuration","animation_timing_function","transitionTimingFunction","side_padding","border_radius","borderRadius","font_size","fontSize","line_height","lineHeight","title_multi_padding_v","paddingTop","paddingBottom","layoutCenter","margin","transitionProperty","opacity","maxWidth","layoutHorizontal","alignSelf","layoutVertical","layoutEndJustified","notificationVars","unit_block_border_radius","min_height","color_light_background","rgba","color_light_text","color_light_foreground","blend_light_dark_primary","color_dark_background","color_dark_text","color_dark_foreground","blend_light_text_primary","fns","layout","classes","holderFns","holderLayout","holderSelector","styler","addStyle","selectors","customSelector","customVars","mediaQuery","scope","getStyle","concat"],"mappings":"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"}