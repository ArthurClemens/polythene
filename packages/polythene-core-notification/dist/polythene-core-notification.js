!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("polythene-core"),require("polythene-utilities")):"function"==typeof define&&define.amd?define(["exports","polythene-core","polythene-utilities"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).polythene={},e["polythene-core"],e["polythene-utilities"])}(this,(function(e,t,n){"use strict";function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function i(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null==n)return;var r,i,o=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){l=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var l={component:"pe-notification",action:"pe-notification__action",content:"pe-notification__content",holder:"pe-notification__holder",placeholder:"pe-notification__placeholder",title:"pe-notification__title",hasContainer:"pe-notification--container",horizontal:"pe-notification--horizontal",multilineTitle:"pe-notification__title--multi-line",vertical:"pe-notification--vertical",visible:"pe-notification--visible"};e._Notification=function(e){var a=e.h,u=e.a,c=e.useState,s=e.useEffect,f=e.useRef,p=e.getRef,d=e.useReducer,h=i(e,["h","a","useState","useEffect","useRef","getRef","useReducer"]),y=o(d(t.transitionStateReducer,t.initialTransitionState),2),m=y[0],v=y[1],b=o(c(),2),g=b[0],S=b[1],w=o(c(!1),2),O=w[0],T=w[1],_=f(),j=f(),C=f(),I=(m||t.initialTransitionState).isVisible,N=(m||t.initialTransitionState).isTransitioning,R=(m||t.initialTransitionState).isHiding,A=function(e){var t=e.isShow,n=e.referrer;return{dispatchTransitionState:v,instanceId:h.instanceId,props:h,isShow:t,beforeTransition:E,afterTransition:t?function(){var e=h.timeout;if(0===e);else{var t=void 0!==e?e:3;C.current.start((function(){return x()}),t)}}:null,domElements:{el:g,containerEl:_.current},showClass:l.visible,referrer:n}},x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.referrer;return t.transitionComponent(A({isShow:!1,referrer:n}))},E=function(){C.current&&C.current.stop()};s((function(){return function(){E()}}),[]),s((function(){C.current=new n.Timer}),[]),s((function(){var e;g&&(t.isClient&&(_.current=document.querySelector(h.containerSelector||h.holderSelector),_.current||console.error("No container element found"),h.containerSelector&&_.current&&_.current.classList.add(l.hasContainer)),j.current=g.querySelector(".".concat(l.title)),j.current&&(e=j.current,t.isServer||e.getBoundingClientRect().height>parseInt(window.getComputedStyle(e).lineHeight,10)+parseInt(window.getComputedStyle(e).paddingTop,10)+parseInt(window.getComputedStyle(e).paddingBottom,10)&&e.classList.add(l.multilineTitle)))}),[g]),s((function(){!g||N||R||(h.hide?I&&x():h.show&&(I||t.transitionComponent(A({isShow:!0}))))}),[g,N,I,R,h.hide,h.show]),s((function(){!g||N||R||(h.unpause?O&&(T(!1),C.current&&C.current.resume()):h.pause&&(O||(T(!0),C.current&&C.current.pause())))}),[g,N,R,h.pause,h.unpause]);var k,P,q,z=r({},t.filterSupportedAttributes(h,{remove:["style"]}),p((function(e){return e&&!g&&(S(e),h.ref&&h.ref(e))})),h.testId&&{"data-test-id":h.testId},(k={className:[l.component,h.fromMultipleClassName,"light"===h.tone?null:"pe-dark-tone",h.containerSelector?l.hasContainer:null,"vertical"===h.layout?l.vertical:l.horizontal,"dark"===h.tone?"pe-dark-tone":null,"light"===h.tone?"pe-light-tone":null,h.className||h[u.class]].join(" ")},P=u.onclick,q=function(e){return e.preventDefault()},P in k?Object.defineProperty(k,P,{value:q,enumerable:!0,configurable:!0,writable:!0}):k[P]=q,k)),M=a("div",{className:l.content,style:h.style},h.content||[h.title?a("div",{className:l.title},h.title):null,h.action?a("div",{className:l.action},h.action):null]),B=[h.before,M,h.after];return a(h.element||"div",z,B)},Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=polythene-core-notification.js.map
