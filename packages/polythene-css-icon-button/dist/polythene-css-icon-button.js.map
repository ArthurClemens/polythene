{"version":3,"file":"polythene-css-icon-button.js","sources":["../src/color.js","../src/layout.js","../src/vars.js","../src/index.js","../../polythene-css-classes/icon-button.js"],"sourcesContent":["// @ts-check\n\nimport { sel, createColor } from \"polythene-core-css\";\n\nconst generalFns = ({\n  general_styles: selector => [],\n});\n\nconst tintFns = tint => ({\n  [\"color_\" + tint]: (selector, vars) => [\n    sel(selector, {\n      \"&, .pe-icon-button__label\": {\n        color: vars[\"color_\" + tint],\n      },\n    })\n  ],\n  [\"color_\" + tint + \"_background\"]: (selector, vars) => [\n    sel(selector, {\n      \" .pe-icon-button__content\": { \n        backgroundColor: vars[\"color_\" + tint + \"_background\"]\n      },\n    })\n  ],\n  [\"color_\" + tint + \"_disabled\"]: (selector, vars) => [\n    sel(selector, {\n      \".pe-button--disabled\": {\n        \" .pe-button__content, .pe-icon-button__label\": {\n          color: vars[\"color_\" + tint + \"_disabled\"]\n        }\n      }\n    })\n  ],\n  [\"color_\" + tint + \"_wash_background\"]: (selector, vars) => [\n    sel(selector, {\n      \" .pe-button__wash-color\": {\n        backgroundColor: vars[\"color_\" + tint + \"_wash_background\"]\n      },\n    })\n  ],\n  [\"color_\" + tint + \"_wash_opacity\"]: (selector, vars) => [\n    sel(selector, {\n      \" .pe-button__wash-color\": {\n        opacity: vars[\"color_\" + tint + \"_wash_opacity\"]\n      },\n    })\n  ],\n});\n\nconst hoverTintFns = tint => ({\n  [\"color_\" + tint + \"_hover\"]: (selector, vars) => [\n    sel(selector, {\n      \" .pe-icon-button__content\": { \n        color: vars[\"color_\" + tint + \"_hover\"]\n      },\n    })\n  ],\n  [\"color_\" + tint + \"_label_hover\"]: (selector, vars) => [\n    sel(selector, {\n      \" .pe-icon-button__label\": {\n        color: vars[\"color_\" + tint + \"_label_hover\"]\n      },\n    })\n  ],\n  [\"color_\" + tint + \"_background_hover\"]: (selector, vars) => [\n    sel(selector, {\n      \" .pe-icon-button__content\": { \n        backgroundColor: vars[\"color_\" + tint + \"_background_hover\"]\n      },\n    })\n  ],\n});\n\nconst lightTintFns = Object.assign({}, generalFns, tintFns(\"light\"));\nconst darkTintFns = Object.assign({}, generalFns, tintFns(\"dark\"));\n\nconst lightTintHoverFns = hoverTintFns(\"light\");\nconst darkTintHoverFns = hoverTintFns(\"dark\");\n\nexport default createColor({\n  varFns: { lightTintFns, darkTintFns, lightTintHoverFns, darkTintHoverFns }\n});\n","// @ts-check\n\nimport { mixin, sel, selectorRTL, createLayout } from \"polythene-core-css\";\n\nconst alignSide = (isRTL) => (vars) => ({}); // eslint-disable-line no-unused-vars\nconst alignLeft = alignSide(false);\nconst alignRight = alignSide(true);\n\nconst label_padding_before = (selector, vars, isRTL) =>\n  sel(selector, {\n    \" .pe-icon-button__label\": {\n      [isRTL ? \"paddingRight\" : \"paddingLeft\"]:\n        vars.label_padding_before + \"px\",\n    },\n  });\n\nconst label_padding_after = (selector, vars, isRTL) =>\n  sel(selector, {\n    \" .pe-icon-button__label\": {\n      [isRTL ? \"paddingLeft\" : \"paddingRight\"]: vars.label_padding_after + \"px\",\n    },\n  });\n\nconst varFns = {\n  general_styles: (selector, vars) => [\n    sel(selector, [\n      alignLeft(vars),\n      {\n        // don't set button size to facilitate different icon sizes\n        display: \"inline-flex\",\n        alignItems: \"center\",\n        cursor: \"pointer\",\n        border: \"none\",\n        fontSize: 0,\n\n        \" .pe-button__content\": {\n          display: \"flex\",\n          alignItems: \"center\",\n          fontSize: \"1rem\",\n          borderRadius: \"50%\",\n          position: \"relative\",\n        },\n\n        \" .pe-icon-button__content\": {\n          lineHeight: 1,\n          borderRadius: \"50%\",\n          pointerEvents: \"none\",\n        },\n\n        // TODO: move wash styles to base button\n        \" .pe-button__wash\": [\n          mixin.fit(),\n          {\n            zIndex: 0,\n            borderRadius: \"inherit\",\n            pointerEvents: \"none\",\n            opacity: 0,\n          },\n        ],\n        // Always show wash on focus but not on click\n        \"&:focus:not(:active)\": {\n          \" .pe-button__wash\": {\n            opacity: 1,\n          },\n        },\n        // Only show wash on hover when \"has hover\" class set\n        \".pe-button--has-hover:hover\": {\n          \" .pe-button__wash\": {\n            opacity: 1,\n          },\n        },\n      },\n      {\n        // RTL\n        [`*[dir=rtl] ${selector}, .pe-rtl ${selector}`]: [alignRight(vars)],\n      },\n    ]),\n  ],\n  padding: (selector, vars) => [\n    sel(selector, {\n      \" .pe-icon-button__content\": {\n        padding: vars.padding + \"px\",\n      },\n    }),\n  ],\n  padding_compact: (selector, vars) => [\n    sel(selector, {\n      \".pe-icon-button--compact\": {\n        \" .pe-icon-button__content\": {\n          padding: vars.padding_compact + \"px\",\n        },\n      },\n    }),\n  ],\n  animation_duration: (selector, vars) => [\n    sel(selector, {\n      \" .pe-button__content, .pe-button__wash\": [\n        mixin.defaultTransition(\"all\", vars.animation_duration),\n      ],\n    }),\n  ],\n  label_font_size: (selector, vars) => [\n    sel(selector, {\n      \" .pe-icon-button__label\": {\n        fontSize: vars.label_font_size + \"px\",\n      },\n    }),\n  ],\n  label_line_height: (selector, vars) => [\n    sel(selector, {\n      \" .pe-icon-button__label\": {\n        lineHeight: vars.label_line_height + \"px\",\n      },\n    }),\n  ],\n  label_font_weight: (selector, vars) => [\n    sel(selector, {\n      \" .pe-icon-button__label\": {\n        fontWeight: vars.label_font_weight,\n      },\n    }),\n  ],\n  label_text_transform: (selector, vars) => [\n    sel(selector, {\n      \" .pe-icon-button__label\": {\n        textTransform: vars.label_text_transform,\n      },\n    }),\n  ],\n  label_padding_after: (selector, vars) => [\n    sel(selector, {}),\n    label_padding_after(selector, vars, false),\n    label_padding_after(selectorRTL(selector), vars, true),\n  ],\n  label_padding_before: (selector, vars) => [\n    sel(selector, {}),\n    label_padding_before(selector, vars, false),\n    label_padding_before(selectorRTL(selector), vars, true),\n  ],\n};\n\nexport default createLayout({ varFns });\n","// @ts-check\n\n/**\n * @typedef {import(\"../index\").IconButtonVars} IconButtonVars\n */\n\nimport { rgba } from \"polythene-core-css\";\nimport { vars } from \"polythene-theme\";\n\n/**\n * @type {IconButtonVars} iconButtonVars\n */\nconst iconButtonVars = {\n  /**\n   * Generate general styles, not defined by variables\n   */\n  general_styles:            true,\n\n  animation_duration:        vars.animation_duration,\n  label_font_size:           16,\n  label_font_weight:         400,\n  label_line_height:         20,\n  label_padding_after:       0,\n  label_padding_before:      vars.grid_unit * 1, // 4\n  label_text_transform:      \"initial\",\n  label_top_margin_factor:   1/12, // align with icon\n  padding:                   (vars.grid_unit_icon_button - vars.unit_icon_size) / 2, // 12\n  padding_compact:           (vars.grid_unit_icon_button - vars.unit_icon_size) / 3, // 8\n\n  color_background:          \"transparent\", // only specify this variable to get all 2 states\n  // theme specific background colors may be set in theme; disabled by default\n  // color_light_background:    \"none\",\n  // color_dark_background:     \"none\",\n  // color_light_hover:         \"inherit\",\n  // color_dark_hover:          \"inherit\",\n  // color_light_label_hover:   \"inherit\",\n  // color_dark_label_hover:    \"inherit\",\n\n  color_light:                          rgba(vars.color_light_foreground, vars.blend_light_text_secondary),               \n  color_light_label:                    rgba(vars.color_light_foreground, vars.blend_light_text_secondary),\n  color_light_disabled:                 rgba(vars.color_light_foreground, vars.blend_light_text_disabled),\n  color_light_wash_background:          \"currentColor\",\n  color_light_wash_opacity:             0.1,\n\n  color_dark:                           rgba(vars.color_dark_foreground, vars.blend_dark_text_secondary),\n  color_dark_label:                     rgba(vars.color_dark_foreground, vars.blend_dark_text_secondary),\n  color_dark_disabled:                  rgba(vars.color_dark_foreground, vars.blend_dark_text_disabled),\n  color_dark_wash_background:           \"currentColor\",\n  color_dark_wash_opacity:              0.1,\n\n  // hover colors may be set in theme; disabled by default\n\n  // color_light_background_hover:         \"currentColor\",\n  // color_dark_background_hover:          \"currentColor\",\n};\n\nexport default iconButtonVars;\n","// @ts-check\n\nimport classes from \"polythene-css-classes/icon-button\";\nimport color from \"./color\";\nimport layout from \"./layout\";\nimport vars from \"./vars\";\nimport { styler } from \"polythene-core-css\";\n\nconst fns = [layout, color];\nconst selector = `.${classes.component.replace(/ /g, \".\")}`;\n\nconst addStyle = styler.createAddStyle(selector, fns, vars);\n\nconst getStyle = styler.createGetStyle(selector, fns, vars);\n\nconst addGeneralStyleToHead = () =>\n  styler.addStyle({\n    selectors: [selector],\n    fns,\n    vars\n  });\n\nexport {\n  addGeneralStyleToHead,\n  addStyle,\n  getStyle,\n  color,\n  layout,\n  vars,\n};\n","\nexport default {\n  component: \"pe-button pe-icon-button\",\n\n  // elements\n  content:   \"pe-icon-button__content\",\n  label:     \"pe-icon-button__label\",\n\n  // states\n  compact:   \"pe-icon-button--compact\",\n};\n"],"names":["generalFns","general_styles","selector","tintFns","tint","vars","sel","color","backgroundColor","opacity","hoverTintFns","lightTintFns","_extends","darkTintFns","lightTintHoverFns","darkTintHoverFns","createColor","varFns","alignLeft","alignRight","label_padding_before","isRTL","label_padding_after","display","alignItems","cursor","border","fontSize","borderRadius","position","lineHeight","pointerEvents","mixin","fit","zIndex","padding","padding_compact","animation_duration","defaultTransition","label_font_size","label_line_height","label_font_weight","fontWeight","label_text_transform","textTransform","selectorRTL","createLayout","iconButtonVars","grid_unit","label_top_margin_factor","grid_unit_icon_button","unit_icon_size","color_background","color_light","rgba","color_light_foreground","blend_light_text_secondary","color_light_label","color_light_disabled","blend_light_text_disabled","color_light_wash_background","color_light_wash_opacity","color_dark","color_dark_foreground","blend_dark_text_secondary","color_dark_label","color_dark_disabled","blend_dark_text_disabled","color_dark_wash_background","color_dark_wash_opacity","fns","layout","replace","addStyle","styler","createAddStyle","getStyle","createGetStyle","selectors"],"mappings":"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"}