{"version":3,"file":"polythene-css-ios-spinner.js","sources":["../../polythene-css-classes/ios-spinner.js","../src/color.js","../src/layout.js","../src/vars.js","../src/index.js"],"sourcesContent":["\nexport default {\n  component: \"pe-ios-spinner\",\n\n  // elements\n  blades:    \"pe-ios-spinner__blades\",\n  blade:     \"pe-ios-spinner__blade\",\n};\n","import { color as superColor } from \"polythene-css-base-spinner\";\nimport { sel, createColor } from \"polythene-core-css\";\n\nconst generalFns = ({\n  general_styles: selector => [\n    sel(selector, {\n      \" .pe-ios-spinner__blade\": {\n        background: \"currentcolor\"\n      }\n    })\n  ],\n});\n\nconst tintFns = tint => ({\n  [\"color_\" + tint]: (selector, vars) => [\n    sel(selector, {\n      color: vars[\"color_\" + tint],\n    })\n  ]\n});\n\nconst lightTintFns = Object.assign({}, generalFns, tintFns(\"light\"));\nconst darkTintFns = Object.assign({}, generalFns, tintFns(\"dark\"));\n\nexport default createColor({\n  varFns: { lightTintFns, darkTintFns },\n  superColor\n});\n","import { layout as superLayout } from \"polythene-css-base-spinner\";\nimport { sel, createLayout } from \"polythene-core-css\";\nimport { styleDurationToMs } from \"polythene-core\";\n\nconst bladeWidth  = 9; // percent\nconst bladeHeight = 28; // percent\n\nconst kfFade = () => ({\n  \" 0%\": {\n    opacity: .640\n  },\n  \" 100%\": {\n    opacity: .035\n  }\n});\n\nconst positionBlades = vars => \n  [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11].map(i => {\n    // reverse to improve performance on iOS\n    const delay = -1 / 12 * i * styleDurationToMs(vars.rotation_animation_duration);\n    const rotation = 360 - (360 / 12 * i);\n    return {\n      [\" .pe-ios-spinner__blade:nth-of-type(\" + (i + 1) + \")\"]: {\n        transform: \"rotate(\" + rotation + \"deg) translate3d(0,-140%,0)\",\n        animation: \"iosSpinnerFade \" + vars.rotation_animation_duration + \" \" + delay + \"ms linear infinite\"\n      }\n    };\n  });\n\nconst varFns = {\n  general_styles: selector => [\n    sel(selector, {\n      \" .pe-ios-spinner__blades\": {\n        transform: \"translate3d(0,0,0)\",\n        position: \"relative\",\n        width: \"100%\",\n        height: \"100%\"\n      },\n\n      \" .pe-ios-spinner__blade\": {\n        position: \"absolute\",\n        width: bladeWidth + \"%\",\n        height: bladeHeight + \"%\",\n        left: ((100 - bladeWidth) / 2) + \"%\",\n        top: ((100 - bladeHeight) / 2) + \"%\",\n        opacity: 0,\n        borderRadius: \"50px\"\n      },\n\n      \"@keyframes iosSpinnerFade\": kfFade()\n    })\n  ],\n  rotation_animation_duration: (selector, vars) => [\n    sel(selector, {\n      \" .pe-ios-spinner__blades\": [\n        positionBlades(vars),\n      ],\n    })\n  ],\n};\n\nexport default createLayout({ varFns, superLayout });\n","import { rgba } from \"polythene-core-css\";\nimport { vars } from \"polythene-theme\";\n\nexport default {\n  general_styles:              true,\n\n  rotation_animation_duration: \"1s\",\n\n  color_light:                 rgba(vars.color_light_foreground),\n  color_dark:                  rgba(vars.color_dark_foreground)\n};\n","import classes from \"polythene-css-classes/ios-spinner\";\nimport color from \"./color\";\nimport layout from \"./layout\";\nimport vars from \"./vars\";\nimport { styler } from \"polythene-core-css\";\n\nconst fns = [layout, color];\nconst selector = `.${classes.component}`;\n\nconst addStyle = (customSelector, customVars) => \n  styler.generateCustomStyles([customSelector, selector], vars, customVars, fns);\n\nconst getStyle = (customSelector, customVars) => \n  customSelector\n    ? styler.createCustomStyleSheets([customSelector, selector], vars, customVars, fns)\n    : styler.createStyleSheets([selector], vars, fns);\n    \nstyler.generateStyles([selector], vars, fns);\n\nexport {\n  addStyle,\n  color,\n  getStyle,\n  layout,\n  vars,\n};\n"],"names":["component","blades","blade","generalFns","general_styles","sel","selector","background","tintFns","tint","vars","color","lightTintFns","darkTintFns","createColor","varFns","superColor","bladeWidth","bladeHeight","kfFade","opacity","positionBlades","map","delay","i","styleDurationToMs","rotation_animation_duration","rotation","transform","animation","position","width","height","left","top","borderRadius","createLayout","superLayout","color_light","rgba","color_light_foreground","color_dark","color_dark_foreground","fns","layout","classes","addStyle","customSelector","customVars","styler","generateCustomStyles","getStyle","createCustomStyleSheets","createStyleSheets","generateStyles"],"mappings":"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"}