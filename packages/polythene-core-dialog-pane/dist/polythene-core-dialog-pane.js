!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("polythene-core")):"function"==typeof define&&define.amd?define(["exports","polythene-core"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).polythene={},e["polythene-core"])}(this,(function(e,t){"use strict";function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r])}return e}).apply(this,arguments)}function r(e,t){if(null==e)return{};var o,r,n=function(e,t){if(null==e)return{};var o,r,n={},a=Object.keys(e);for(r=0;r<a.length;r++)o=a[r],t.indexOf(o)>=0||(n[o]=e[o]);return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)o=a[r],t.indexOf(o)>=0||Object.prototype.propertyIsEnumerable.call(e,o)&&(n[o]=e[o])}return n}function n(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var o=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null==o)return;var r,n,a=[],l=!0,i=!1;try{for(o=o.call(e);!(l=(r=o.next()).done)&&(a.push(r.value),!t||a.length!==t);l=!0);}catch(e){i=!0,n=e}finally{try{l||null==o.return||o.return()}finally{if(i)throw n}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);"Object"===o&&e.constructor&&(o=e.constructor.name);if("Map"===o||"Set"===o)return Array.from(e);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return a(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,r=new Array(t);o<t;o++)r[o]=e[o];return r}var l={component:"pe-dialog-pane",actions:"pe-dialog-pane__actions",body:"pe-dialog-pane__body",content:"pe-dialog-pane__content",footer:"pe-dialog-pane__footer",header:"pe-dialog-pane__header",title:"pe-dialog-pane__title",withHeader:"pe-dialog-pane--header",withFooter:"pe-dialog-pane--footer",headerWithTitle:"pe-dialog-pane__header--title",footerWithButtons:"pe-dialog-pane__footer--buttons",footerHigh:"pe-dialog-pane__footer--high",borderBottom:"pe-dialog-pane--border-bottom",borderTop:"pe-dialog-pane--border-top",fullBleed:"pe-dialog-pane--body-full-bleed"},i={component:"pe-text-button",super:"pe-button",row:"pe-button-row",content:"pe-button__content",label:"pe-button__label",textLabel:"pe-button__text-label",wash:"pe-button__wash",washColor:"pe-button__wash-color",dropdown:"pe-button__dropdown",border:"pe-button--border",contained:"pe-button--contained",disabled:"pe-button--disabled",dropdownClosed:"pe-button--dropdown-closed",dropdownOpen:"pe-button--dropdown-open",extraWide:"pe-button--extra-wide",hasDropdown:"pe-button--dropdown",highLabel:"pe-button--high-label",inactive:"pe-button--inactive",raised:"pe-button--raised",selected:"pe-button--selected",separatorAtStart:"pe-button--separator-start",hasHover:"pe-button--has-hover"};e._DialogPane=function(e){var a=e.h,u=e.a,d=e.useState,c=e.useEffect,p=e.useRef,s=e.getRef,f=r(e,["h","a","useState","useEffect","useRef","getRef"]),b=t.unpackAttrs(f),h=n(d(),2),y=h[0],g=h[1],m=n(d(!1),2),v=m[0],w=m[1],_=n(d(!1),2),O=_[0],j=_[1],S=n(d(!1),2),x=S[0],B=S[1],T=p(),A=p(),N=p(),I=p(),P=function(){var e=N.current;e&&(j(e.scrollTop>0),B(e.scrollHeight-(e.scrollTop+e.getBoundingClientRect().height)>0))};c((function(){y&&(T.current=y.querySelector(".".concat(l.header)),A.current=y.querySelector(".".concat(l.footer)),N.current=y.querySelector(".".concat(l.body)))}),[y]),c((function(){if(N.current){var e=function(){P()};return t.subscribe("resize",e),function(){t.unsubscribe("resize",e)}}}),[N.current]),c((function(){P()}),[N.current,v]);var C,H,R,W=void 0!==b.header||void 0!==b.title,k=void 0!==b.footer||void 0!==b.footerButtons,q=b.borders||"overflow",E="always"===q||W&&"overflow"===q&&O,z="always"===q||k&&"overflow"===q&&x,D=o({},t.filterSupportedAttributes(b,{remove:["style"]}),b.testId&&{"data-test-id":b.testId},s((function(e){return e&&!y&&(g(e),b.ref&&b.ref(e))})),{className:[l.component,b.fullBleed?l.fullBleed:null,E?l.borderTop:null,z?l.borderBottom:null,W?l.withHeader:null,k?l.withFooter:null,"dark"===b.tone?"pe-dark-tone":null,"light"===b.tone?"pe-light-tone":null,b.className||b[u.class]].join(" ")},b.formOptions),F=a("div",{className:[l.content,b.menu?l.menuContent:null].join(" "),style:b.style,role:"dialog"},[b.header?b.header:b.title?a("div",{className:[l.header,l.headerWithTitle].join(" ")},a("div",{className:l.title},b.title)):null,a("div",(C={className:l.body},H=u.onscroll,R=function(){w(!0),clearTimeout(I.current),I.current=setTimeout((function(){w(!1)}),50)},H in C?Object.defineProperty(C,H,{value:R,enumerable:!0,configurable:!0,writable:!0}):C[H]=R,C),b.content||b.body||b.menu),b.footer?a("div",{className:l.footer},b.footer):b.footerButtons?a("div",{className:[l.footer,l.footerWithButtons,i.row].join(" ")},a("div",{className:l.actions},b.footerButtons)):null]),L=[b.before,F,b.after];return a(b.element||"form",D,L)},Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=polythene-core-dialog-pane.js.map
