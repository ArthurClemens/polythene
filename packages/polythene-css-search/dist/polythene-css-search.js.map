{"version":3,"file":"polythene-css-search.js","sources":["../src/color.js","../src/layout.js","../src/vars.js","../src/index.js","../../polythene-css-classes/search.js"],"sourcesContent":["// @ts-check\n\nimport { sel, createColor } from \"polythene-core-css\";\n\nconst generalFns = ({\n  general_styles: selector => [\n    sel(selector, {\n      \" .pe-textfield__input-area\": {\n        backgroundColor: \"transparent\"\n      }\n    })\n  ],\n});\n\nconst tintFns = tint => ({\n  [\"color_\" + tint + \"_background\"]: (selector, vars) => [\n    sel(selector, {\n      backgroundColor: vars[\"color_\" + tint + \"_background\"],\n    })\n  ],\n  [\"color_\" + tint + \"_label_text\"]: (selector, vars) => [\n    sel(selector, {\n      \" .pe-textfield\": {\n        \" .pe-textfield__label\": {\n          color: vars[\"color_\" + tint + \"_label_text\"]\n        },\n      }\n    })\n  ],\n  [\"color_\" + tint + \"_input_text\"]: (selector, vars) => [\n    sel(selector, {\n      \" .pe-textfield\": {\n        \" .pe-textfield__input\": {\n          color: vars[\"color_\" + tint + \"_input_text\"]\n        },\n      }\n    })\n  ]\n});\n\nconst lightTintFns = Object.assign({}, generalFns, tintFns(\"light\"));\nconst darkTintFns = Object.assign({}, generalFns, tintFns(\"dark\"));\n\nexport default createColor({\n  varFns: { lightTintFns, darkTintFns }\n});\n","// @ts-check\n\nimport { flex, sel, createLayout } from \"polythene-core-css\";\nimport { vars as themeVars } from \"polythene-theme\";\n\nconst inset_height_line_height_input = (selector, vars) => {\n  const inset_input_padding_v = (vars.inset_height - vars.line_height_input) / 2;\n  return sel(selector, {\n    \".pe-search--inset\": {\n      \" .pe-textfield__input, .pe-textfield__label\": {\n        paddingTop: inset_input_padding_v + \"px\",\n        paddingBottom: inset_input_padding_v + \"px\",\n      }\n    },\n  });\n};\n\nconst full_width_height_line_height_input = (selector, vars) => {\n  const full_width_input_padding_v = (vars.full_width_height - vars.line_height_input) / 2;\n  return sel(selector, {\n    \".pe-search--full-width\": {\n      \" .pe-textfield__input, .pe-textfield__label\": {\n        paddingTop: full_width_input_padding_v + \"px\",\n        paddingBottom: full_width_input_padding_v + \"px\",\n      }\n    }\n  });\n};\n\nconst varFns = {\n  general_styles: selector => [\n    sel(selector, [\n      flex.flex(),\n      {\n        position: \"relative\", // necessary when a shadow is added\n\n        \" .pe-textfield\": [\n          flex.flex(),\n          {\n            alignItems: \"center\",\n            padding: 0,\n            // prevent that neighboring icon button with ripple hides the cursor\n            position: \"relative\",\n            zIndex: 1,\n        \n            \" .pe-textfield__input-area\": {\n              padding: 0,\n\n              \":after\": {\n                display: \"none\"\n              }\n            },\n\n            \" .pe-textfield__input\": {\n              // reset\n              border: \"none\"\n            },\n\n            \" .pe-textfield__label\": {\n              // reset\n              top: 0,\n              bottom: 0\n            }\n          }\n        ],\n\n        \" .pe-search__content\": {\n          \"&, .pe-textfield\": flex.layoutHorizontal,\n          \"&, .pe-textfield__input-area\": {\n            flexGrow: 1\n          }\n        },\n\n        \" .pe-search__content > *\": [\n          flex.layoutVertical,\n          flex.selfCenter\n        ],\n\n        \".pe-search--inset\": {\n          \"&, .pe-textfield__input-area, .pe-textfield__input, .pe-textfield__label\": {\n            padding: 0,\n          },\n        },\n      }\n    ])\n  ],\n  font_size_input: (selector, vars) => [\n    sel(selector, {\n      \" .pe-textfield\": {\n        \" .pe-textfield__input, .pe-textfield__label\": {\n          fontSize: vars.font_size_input + \"px\",\n        },\n      }\n    }),\n  ],\n  line_height_input: (selector, vars) => [\n    sel(selector, {\n      \" .pe-textfield__input, .pe-textfield__label\": {\n        lineHeight: vars.line_height_input + \"px\"\n      },\n    }),\n    inset_height_line_height_input(selector, vars)\n  ],\n  inset_border_radius: (selector, vars) => [\n    sel(selector, {\n      \".pe-search--inset\": {\n        \"border-radius\": vars.inset_border_radius + \"px\",\n      }\n    }),\n  ],\n  inset_side_padding: (selector, vars) => [\n    sel(selector, {\n      \".pe-search--inset\": {\n        padding: \"0 \" + vars.inset_side_padding + \"px\",\n      }\n    }),\n  ],\n  inset_height: (selector, vars) => [\n    sel(selector, {\n      \".pe-search--inset\": {\n        \"&, .pe-textfield__input-area, .pe-textfield__input, .pe-textfield__label\": {\n          padding: 0,\n          height: vars.inset_height + \"px\"\n        },\n      }\n    }),\n    inset_height_line_height_input(selector, vars)\n  ],\n  full_width_height: (selector, vars) => [\n    sel(selector, {\n      \".pe-search--full-width\": {\n        \"&, .pe-textfield__input-area, .pe-textfield__input, .pe-textfield__label\": {\n          height: vars.full_width_height + \"px\"\n        },\n      }\n    }),\n    full_width_height_line_height_input(selector, vars)\n  ],\n  inset_input_indent: (selector, vars) => [\n    sel(selector, {\n      \".pe-search--inset\": {\n        \" .pe-textfield__input, .pe-textfield__label\": {\n          paddingLeft: vars.inset_input_indent + \"px\",\n        }\n      },\n    }),\n  ],\n  inset_input_right_padding: (selector, vars) => [\n    sel(selector, {\n      \".pe-search--inset\": {\n        \" .pe-textfield__input, .pe-textfield__label\": {\n          paddingRight: vars.inset_input_right_padding + \"px\"\n        }\n      },\n    }),\n  ],\n  full_width_side_padding: (selector, vars) => {\n    const full_width_input_indent = (themeVars.unit_indent - vars.full_width_side_padding) - themeVars.grid_unit_icon_button;\n    return sel(selector, {\n      \".pe-search--full-width\": {\n        padding: \"0 \" + vars.full_width_side_padding + \"px\",\n\n        \" .pe-textfield__input, .pe-textfield__label\": {\n          paddingLeft: full_width_input_indent + \"px\",\n        }\n      },\n      \".pe-search--full-width + .pe-list .pe-list-tile\": {\n        \"> :first-child\": {\n          paddingLeft: vars.full_width_side_padding + \"px\",\n        },\n        \"> :last-child\": {\n          paddingRight: vars.full_width_side_padding + \"px\",\n        }\n      }\n    });\n  },\n  full_width_border_radius: (selector, vars) => [\n    sel(selector, {\n      \".pe-search--full-width\": {\n        borderRadius: vars.full_width_border_radius + \"px\",\n      }\n    }),\n  ],\n  full_width_input_right_padding: (selector, vars) => [\n    sel(selector, {\n      \".pe-search--full-width\": {\n        \" .pe-textfield__input, .pe-textfield__label\": {\n          paddingRight: vars.full_width_input_right_padding + \"px\"\n        }\n      }\n    }),\n  ],\n};\n\nexport default createLayout({ varFns });\n","// @ts-check\n\n/**\n * @typedef {import(\"../index\").SearchVars} SearchVars\n */\n\nimport { rgba } from \"polythene-core-css\";\nimport { vars } from \"polythene-theme\";\n\n/**\n * @type {SearchVars} searchVars\n */\nconst searchVars = {\n  /**\n   * Generate general styles, not defined by variables\n   */\n  general_styles:                 true,\n\n  font_size_input:                20,\n  full_width_border_radius:       0,\n  full_width_height:              56,\n  full_width_input_right_padding: 0,\n  full_width_side_margin:         0,\n  full_width_side_padding:        8,\n  inset_border_radius:            vars.unit_block_border_radius,\n  inset_height:                   48,\n  inset_input_indent:             16,\n  inset_input_right_padding:      0,\n  inset_side_padding:             0,\n  line_height_input:              20,\n\n  color_light_label_text:         rgba(vars.color_light_foreground, vars.blend_light_text_disabled),\n  color_light_input_text:         rgba(vars.color_light_foreground, vars.blend_light_text_primary),\n  color_light_background:         rgba(vars.color_light_background),\n        \n  color_dark_label_text:          rgba(vars.color_dark_foreground, vars.blend_dark_text_disabled),\n  color_dark_input_text:          rgba(vars.color_dark_foreground, vars.blend_dark_text_primary),\n  color_dark_background:          rgba(vars.color_dark_background),\n};\n\nexport default searchVars;\n","// @ts-check\n\nimport classes from \"polythene-css-classes/search\";\nimport color from \"./color\";\nimport layout from \"./layout\";\nimport vars from \"./vars\";\nimport { styler } from \"polythene-core-css\";\n\nconst fns = [layout, color];\nconst selector = `.${classes.component}`;\n\nconst addStyle = styler.createAddStyle(selector, fns, vars);\n\nconst getStyle = styler.createGetStyle(selector, fns, vars);\n\nconst addGeneralStyleToHead = () => \n  styler.addStyle({\n    selectors: [selector],\n    fns,\n    vars\n  });\n\nexport {\n  addGeneralStyleToHead,\n  addStyle,\n  getStyle,\n  color,\n  layout,\n  vars,\n};\n","\nexport default {\n  component:       \"pe-search\",\n\n  // elements\n  content:         \"pe-search__content\",\n\n  // states\n  searchFullWidth: \"pe-search--full-width\",\n  searchInset:     \"pe-search--inset\",\n};\n"],"names":["generalFns","general_styles","selector","sel","backgroundColor","tintFns","tint","vars","color","lightTintFns","_extends","darkTintFns","createColor","varFns","inset_height_line_height_input","inset_input_padding_v","inset_height","line_height_input","paddingTop","paddingBottom","full_width_height_line_height_input","full_width_input_padding_v","full_width_height","flex","position","alignItems","padding","zIndex","display","border","top","bottom","layoutHorizontal","flexGrow","layoutVertical","selfCenter","font_size_input","fontSize","lineHeight","inset_border_radius","inset_side_padding","height","inset_input_indent","paddingLeft","inset_input_right_padding","paddingRight","full_width_side_padding","full_width_input_indent","themeVars","unit_indent","grid_unit_icon_button","full_width_border_radius","borderRadius","full_width_input_right_padding","createLayout","searchVars","full_width_side_margin","unit_block_border_radius","color_light_label_text","rgba","color_light_foreground","blend_light_text_disabled","color_light_input_text","blend_light_text_primary","color_light_background","color_dark_label_text","color_dark_foreground","blend_dark_text_disabled","color_dark_input_text","blend_dark_text_primary","color_dark_background","fns","layout","addStyle","styler","createAddStyle","getStyle","createGetStyle","selectors"],"mappings":"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"}