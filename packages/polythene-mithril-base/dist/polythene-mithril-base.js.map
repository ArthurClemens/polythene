{"version":3,"file":"polythene-mithril-base.js","sources":["../../../node_modules/mithril/mithril.mjs","../src/index.js"],"sourcesContent":["function Vnode(tag, key, attrs0, children0, text, dom) {\n\treturn {tag: tag, key: key, attrs: attrs0, children: children0, text: text, dom: dom, domSize: undefined, state: undefined, events: undefined, instance: undefined}\n}\nVnode.normalize = function(node) {\n\tif (Array.isArray(node)) return Vnode(\"[\", undefined, undefined, Vnode.normalizeChildren(node), undefined, undefined)\n\tif (node != null && typeof node !== \"object\") return Vnode(\"#\", undefined, undefined, node === false ? \"\" : node, undefined, undefined)\n\treturn node\n}\nVnode.normalizeChildren = function(input) {\n\tvar children0 = []\n\tfor (var i = 0; i < input.length; i++) {\n\t\tchildren0[i] = Vnode.normalize(input[i])\n\t}\n\treturn children0\n}\n// Call via `hyperscriptVnode0.apply(startOffset, arguments)`\n//\n// The reason I do it this way, forwarding the arguments and passing the start\n// offset in `this`, is so I don't have to create a temporary array in a\n// performance-critical path.\n//\n// In native ES6, I'd instead add a final `...args` parameter to the\n// `hyperscript0` and `fragment` factories and define this as\n// `hyperscriptVnode0(...args)`, since modern engines do optimize that away. But\n// ES5 (what Mithril requires thanks to IE support) doesn't give me that luxury,\n// and engines aren't nearly intelligent enough to do either of these:\n//\n// 1. Elide the allocation for `[].slice.call(arguments, 1)` when it's passed to\n//    another function only to be indexed.\n// 2. Elide an `arguments` allocation when it's passed to any function other\n//    than `Function.prototype.apply` or `Reflect.apply`.\n//\n// In ES6, it'd probably look closer to this (I'd need to profile it, though):\n// var hyperscriptVnode = function(attrs1, ...children1) {\n//     if (attrs1 == null || typeof attrs1 === \"object\" && attrs1.tag == null && !Array.isArray(attrs1)) {\n//         if (children1.length === 1 && Array.isArray(children1[0])) children1 = children1[0]\n//     } else {\n//         children1 = children1.length === 0 && Array.isArray(attrs1) ? attrs1 : [attrs1, ...children1]\n//         attrs1 = undefined\n//     }\n//\n//     if (attrs1 == null) attrs1 = {}\n//     return Vnode(\"\", attrs1.key, attrs1, children1)\n// }\nvar hyperscriptVnode = function() {\n\tvar attrs1 = arguments[this], start = this + 1, children1\n\tif (attrs1 == null) {\n\t\tattrs1 = {}\n\t} else if (typeof attrs1 !== \"object\" || attrs1.tag != null || Array.isArray(attrs1)) {\n\t\tattrs1 = {}\n\t\tstart = this\n\t}\n\tif (arguments.length === start + 1) {\n\t\tchildren1 = arguments[start]\n\t\tif (!Array.isArray(children1)) children1 = [children1]\n\t} else {\n\t\tchildren1 = []\n\t\twhile (start < arguments.length) children1.push(arguments[start++])\n\t}\n\treturn Vnode(\"\", attrs1.key, attrs1, children1)\n}\nvar selectorParser = /(?:(^|#|\\.)([^#\\.\\[\\]]+))|(\\[(.+?)(?:\\s*=\\s*(\"|'|)((?:\\\\[\"'\\]]|.)*?)\\5)?\\])/g\nvar selectorCache = {}\nvar hasOwn = {}.hasOwnProperty\nfunction isEmpty(object) {\n\tfor (var key in object) if (hasOwn.call(object, key)) return false\n\treturn true\n}\nfunction compileSelector(selector) {\n\tvar match, tag = \"div\", classes = [], attrs = {}\n\twhile (match = selectorParser.exec(selector)) {\n\t\tvar type = match[1], value = match[2]\n\t\tif (type === \"\" && value !== \"\") tag = value\n\t\telse if (type === \"#\") attrs.id = value\n\t\telse if (type === \".\") classes.push(value)\n\t\telse if (match[3][0] === \"[\") {\n\t\t\tvar attrValue = match[6]\n\t\t\tif (attrValue) attrValue = attrValue.replace(/\\\\([\"'])/g, \"$1\").replace(/\\\\\\\\/g, \"\\\\\")\n\t\t\tif (match[4] === \"class\") classes.push(attrValue)\n\t\t\telse attrs[match[4]] = attrValue === \"\" ? attrValue : attrValue || true\n\t\t}\n\t}\n\tif (classes.length > 0) attrs.className = classes.join(\" \")\n\treturn selectorCache[selector] = {tag: tag, attrs: attrs}\n}\nfunction execSelector(state, vnode) {\n\tvar attrs = vnode.attrs\n\tvar children = Vnode.normalizeChildren(vnode.children)\n\tvar hasClass = hasOwn.call(attrs, \"class\")\n\tvar className = hasClass ? attrs.class : attrs.className\n\tvnode.tag = state.tag\n\tvnode.attrs = null\n\tvnode.children = undefined\n\tif (!isEmpty(state.attrs) && !isEmpty(attrs)) {\n\t\tvar newAttrs = {}\n\t\tfor (var key in attrs) {\n\t\t\tif (hasOwn.call(attrs, key)) newAttrs[key] = attrs[key]\n\t\t}\n\t\tattrs = newAttrs\n\t}\n\tfor (var key in state.attrs) {\n\t\tif (hasOwn.call(state.attrs, key) && key !== \"className\" && !hasOwn.call(attrs, key)){\n\t\t\tattrs[key] = state.attrs[key]\n\t\t}\n\t}\n\tif (className != null || state.attrs.className != null) attrs.className =\n\t\tclassName != null\n\t\t\t? state.attrs.className != null\n\t\t\t\t? String(state.attrs.className) + \" \" + String(className)\n\t\t\t\t: className\n\t\t\t: state.attrs.className != null\n\t\t\t\t? state.attrs.className\n\t\t\t\t: null\n\tif (hasClass) attrs.class = null\n\tfor (var key in attrs) {\n\t\tif (hasOwn.call(attrs, key) && key !== \"key\") {\n\t\t\tvnode.attrs = attrs\n\t\t\tbreak\n\t\t}\n\t}\n\tif (Array.isArray(children) && children.length === 1 && children[0] != null && children[0].tag === \"#\") {\n\t\tvnode.text = children[0].children\n\t} else {\n\t\tvnode.children = children\n\t}\n\treturn vnode\n}\nfunction hyperscript(selector) {\n\tif (selector == null || typeof selector !== \"string\" && typeof selector !== \"function\" && typeof selector.view !== \"function\") {\n\t\tthrow Error(\"The selector must be either a string or a component.\");\n\t}\n\tvar vnode = hyperscriptVnode.apply(1, arguments)\n\tif (typeof selector === \"string\") {\n\t\tvnode.children = Vnode.normalizeChildren(vnode.children)\n\t\tif (selector !== \"[\") return execSelector(selectorCache[selector] || compileSelector(selector), vnode)\n\t}\n\t\n\tvnode.tag = selector\n\treturn vnode\n}\nhyperscript.trust = function(html) {\n\tif (html == null) html = \"\"\n\treturn Vnode(\"<\", undefined, undefined, html, undefined, undefined)\n}\nhyperscript.fragment = function() {\n\tvar vnode2 = hyperscriptVnode.apply(0, arguments)\n\tvnode2.tag = \"[\"\n\tvnode2.children = Vnode.normalizeChildren(vnode2.children)\n\treturn vnode2\n}\nvar m = function m() { return hyperscript.apply(this, arguments) }\nm.m = hyperscript\nm.trust = hyperscript.trust\nm.fragment = hyperscript.fragment\n/** @constructor */\nvar PromisePolyfill = function(executor) {\n\tif (!(this instanceof PromisePolyfill)) throw new Error(\"Promise must be called with `new`\")\n\tif (typeof executor !== \"function\") throw new TypeError(\"executor must be a function\")\n\tvar self = this, resolvers = [], rejectors = [], resolveCurrent = handler(resolvers, true), rejectCurrent = handler(rejectors, false)\n\tvar instance = self._instance = {resolvers: resolvers, rejectors: rejectors}\n\tvar callAsync = typeof setImmediate === \"function\" ? setImmediate : setTimeout\n\tfunction handler(list, shouldAbsorb) {\n\t\treturn function execute(value) {\n\t\t\tvar then\n\t\t\ttry {\n\t\t\t\tif (shouldAbsorb && value != null && (typeof value === \"object\" || typeof value === \"function\") && typeof (then = value.then) === \"function\") {\n\t\t\t\t\tif (value === self) throw new TypeError(\"Promise can't be resolved w/ itself\")\n\t\t\t\t\texecuteOnce(then.bind(value))\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tcallAsync(function() {\n\t\t\t\t\t\tif (!shouldAbsorb && list.length === 0) console.error(\"Possible unhandled promise rejection:\", value)\n\t\t\t\t\t\tfor (var i = 0; i < list.length; i++) list[i](value)\n\t\t\t\t\t\tresolvers.length = 0, rejectors.length = 0\n\t\t\t\t\t\tinstance.state = shouldAbsorb\n\t\t\t\t\t\tinstance.retry = function() {execute(value)}\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t}\n\t\t\tcatch (e) {\n\t\t\t\trejectCurrent(e)\n\t\t\t}\n\t\t}\n\t}\n\tfunction executeOnce(then) {\n\t\tvar runs = 0\n\t\tfunction run(fn) {\n\t\t\treturn function(value) {\n\t\t\t\tif (runs++ > 0) return\n\t\t\t\tfn(value)\n\t\t\t}\n\t\t}\n\t\tvar onerror = run(rejectCurrent)\n\t\ttry {then(run(resolveCurrent), onerror)} catch (e) {onerror(e)}\n\t}\n\texecuteOnce(executor)\n}\nPromisePolyfill.prototype.then = function(onFulfilled, onRejection) {\n\tvar self = this, instance = self._instance\n\tfunction handle(callback, list, next, state) {\n\t\tlist.push(function(value) {\n\t\t\tif (typeof callback !== \"function\") next(value)\n\t\t\telse try {resolveNext(callback(value))} catch (e) {if (rejectNext) rejectNext(e)}\n\t\t})\n\t\tif (typeof instance.retry === \"function\" && state === instance.state) instance.retry()\n\t}\n\tvar resolveNext, rejectNext\n\tvar promise = new PromisePolyfill(function(resolve, reject) {resolveNext = resolve, rejectNext = reject})\n\thandle(onFulfilled, instance.resolvers, resolveNext, true), handle(onRejection, instance.rejectors, rejectNext, false)\n\treturn promise\n}\nPromisePolyfill.prototype.catch = function(onRejection) {\n\treturn this.then(null, onRejection)\n}\nPromisePolyfill.prototype.finally = function(callback) {\n\treturn this.then(\n\t\tfunction(value) {\n\t\t\treturn PromisePolyfill.resolve(callback()).then(function() {\n\t\t\t\treturn value\n\t\t\t})\n\t\t},\n\t\tfunction(reason) {\n\t\t\treturn PromisePolyfill.resolve(callback()).then(function() {\n\t\t\t\treturn PromisePolyfill.reject(reason);\n\t\t\t})\n\t\t}\n\t)\n}\nPromisePolyfill.resolve = function(value) {\n\tif (value instanceof PromisePolyfill) return value\n\treturn new PromisePolyfill(function(resolve) {resolve(value)})\n}\nPromisePolyfill.reject = function(value) {\n\treturn new PromisePolyfill(function(resolve, reject) {reject(value)})\n}\nPromisePolyfill.all = function(list) {\n\treturn new PromisePolyfill(function(resolve, reject) {\n\t\tvar total = list.length, count = 0, values = []\n\t\tif (list.length === 0) resolve([])\n\t\telse for (var i = 0; i < list.length; i++) {\n\t\t\t(function(i) {\n\t\t\t\tfunction consume(value) {\n\t\t\t\t\tcount++\n\t\t\t\t\tvalues[i] = value\n\t\t\t\t\tif (count === total) resolve(values)\n\t\t\t\t}\n\t\t\t\tif (list[i] != null && (typeof list[i] === \"object\" || typeof list[i] === \"function\") && typeof list[i].then === \"function\") {\n\t\t\t\t\tlist[i].then(consume, reject)\n\t\t\t\t}\n\t\t\t\telse consume(list[i])\n\t\t\t})(i)\n\t\t}\n\t})\n}\nPromisePolyfill.race = function(list) {\n\treturn new PromisePolyfill(function(resolve, reject) {\n\t\tfor (var i = 0; i < list.length; i++) {\n\t\t\tlist[i].then(resolve, reject)\n\t\t}\n\t})\n}\nif (typeof window !== \"undefined\") {\n\tif (typeof window.Promise === \"undefined\") {\n\t\twindow.Promise = PromisePolyfill\n\t} else if (!window.Promise.prototype.finally) {\n\t\twindow.Promise.prototype.finally = PromisePolyfill.prototype.finally\n\t}\n\tvar PromisePolyfill = window.Promise\n} else if (typeof global !== \"undefined\") {\n\tif (typeof global.Promise === \"undefined\") {\n\t\tglobal.Promise = PromisePolyfill\n\t} else if (!global.Promise.prototype.finally) {\n\t\tglobal.Promise.prototype.finally = PromisePolyfill.prototype.finally\n\t}\n\tvar PromisePolyfill = global.Promise\n} else {\n}\nvar buildQueryString = function(object) {\n\tif (Object.prototype.toString.call(object) !== \"[object Object]\") return \"\"\n\tvar args = []\n\tfor (var key in object) {\n\t\tdestructure(key, object[key])\n\t}\n\treturn args.join(\"&\")\n\tfunction destructure(key, value) {\n\t\tif (Array.isArray(value)) {\n\t\t\tfor (var i = 0; i < value.length; i++) {\n\t\t\t\tdestructure(key + \"[\" + i + \"]\", value[i])\n\t\t\t}\n\t\t}\n\t\telse if (Object.prototype.toString.call(value) === \"[object Object]\") {\n\t\t\tfor (var i in value) {\n\t\t\t\tdestructure(key + \"[\" + i + \"]\", value[i])\n\t\t\t}\n\t\t}\n\t\telse args.push(encodeURIComponent(key) + (value != null && value !== \"\" ? \"=\" + encodeURIComponent(value) : \"\"))\n\t}\n}\nvar _12 = function($window, Promise) {\n\tvar callbackCount = 0\n\tvar oncompletion\n\tfunction makeRequest(factory) {\n\t\treturn function(url, args) {\n\t\t\tif (typeof url !== \"string\") { args = url; url = url.url }\n\t\t\telse if (args == null) args = {}\n\t\t\tvar promise0 = new Promise(function(resolve, reject) {\n\t\t\t\tfactory(url, args, function (data) {\n\t\t\t\t\tif (typeof args.type === \"function\") {\n\t\t\t\t\t\tif (Array.isArray(data)) {\n\t\t\t\t\t\t\tfor (var i = 0; i < data.length; i++) {\n\t\t\t\t\t\t\t\tdata[i] = new args.type(data[i])\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse data = new args.type(data)\n\t\t\t\t\t}\n\t\t\t\t\tresolve(data)\n\t\t\t\t}, reject)\n\t\t\t})\n\t\t\tif (args.background === true) return promise0\n\t\t\tvar count = 0\n\t\t\tfunction complete() {\n\t\t\t\tif (--count === 0 && typeof oncompletion === \"function\") oncompletion()\n\t\t\t}\n\t\t\treturn wrap(promise0)\n\t\t\tfunction wrap(promise0) {\n\t\t\t\tvar then0 = promise0.then\n\t\t\t\tpromise0.then = function() {\n\t\t\t\t\tcount++\n\t\t\t\t\tvar next = then0.apply(promise0, arguments)\n\t\t\t\t\tnext.then(complete, function(e) {\n\t\t\t\t\t\tcomplete()\n\t\t\t\t\t\tif (count === 0) throw e\n\t\t\t\t\t})\n\t\t\t\t\treturn wrap(next)\n\t\t\t\t}\n\t\t\t\treturn promise0\n\t\t\t}\n\t\t}\n\t}\n\tfunction hasHeader(args, name) {\n\t\tfor (var key in args.headers) {\n\t\t\tif ({}.hasOwnProperty.call(args.headers, key) && name.test(key)) return true\n\t\t}\n\t\treturn false\n\t}\n\tfunction interpolate(url, data, assemble) {\n\t\tif (data == null) return url\n\t\turl = url.replace(/:([^\\/]+)/gi, function (m0, key) {\n\t\t\treturn data[key] != null ? data[key] : m0\n\t\t})\n\t\tif (assemble && data != null) {\n\t\t\tvar querystring = buildQueryString(data)\n\t\t\tif (querystring) url += (url.indexOf(\"?\") < 0 ? \"?\" : \"&\") + querystring\n\t\t}\n\t\treturn url\n\t}\n\treturn {\n\t\trequest: makeRequest(function(url, args, resolve, reject) {\n\t\t\tvar method = args.method != null ? args.method.toUpperCase() : \"GET\"\n\t\t\tvar useBody = method !== \"GET\" && method !== \"TRACE\" &&\n\t\t\t\t(typeof args.useBody !== \"boolean\" || args.useBody)\n\t\t\tvar data = args.data\n\t\t\tvar assumeJSON = (args.serialize == null || args.serialize === JSON.serialize) && !(data instanceof $window.FormData)\n\t\t\tif (useBody) {\n\t\t\t\tif (typeof args.serialize === \"function\") data = args.serialize(data)\n\t\t\t\telse if (!(data instanceof $window.FormData)) data = JSON.stringify(data)\n\t\t\t}\n\t\t\tvar xhr = new $window.XMLHttpRequest(),\n\t\t\t\taborted = false,\n\t\t\t\t_abort = xhr.abort\n\t\t\txhr.abort = function abort() {\n\t\t\t\taborted = true\n\t\t\t\t_abort.call(xhr)\n\t\t\t}\n\t\t\txhr.open(method, interpolate(url, args.data, !useBody), typeof args.async !== \"boolean\" || args.async, typeof args.user === \"string\" ? args.user : undefined, typeof args.password === \"string\" ? args.password : undefined)\n\t\t\tif (assumeJSON && useBody && !hasHeader(args, /^content-type0$/i)) {\n\t\t\t\txhr.setRequestHeader(\"Content-Type\", \"application/json; charset=utf-8\")\n\t\t\t}\n\t\t\tif (typeof args.deserialize !== \"function\" && !hasHeader(args, /^accept$/i)) {\n\t\t\t\txhr.setRequestHeader(\"Accept\", \"application/json, text/*\")\n\t\t\t}\n\t\t\tif (args.withCredentials) xhr.withCredentials = args.withCredentials\n\t\t\tif (args.timeout) xhr.timeout = args.timeout\n\t\t\tif (args.responseType) xhr.responseType = args.responseType\n\t\t\tfor (var key in args.headers) {\n\t\t\t\tif ({}.hasOwnProperty.call(args.headers, key)) {\n\t\t\t\t\txhr.setRequestHeader(key, args.headers[key])\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (typeof args.config === \"function\") xhr = args.config(xhr, args) || xhr\n\t\t\txhr.onreadystatechange = function() {\n\t\t\t\t// Don't throw errors on xhr.abort().\n\t\t\t\tif(aborted) return\n\t\t\t\tif (xhr.readyState === 4) {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tvar success = (xhr.status >= 200 && xhr.status < 300) || xhr.status === 304 || (/^file:\\/\\//i).test(url)\n\t\t\t\t\t\tvar response = xhr.responseText\n\t\t\t\t\t\tif (typeof args.extract === \"function\") {\n\t\t\t\t\t\t\tresponse = args.extract(xhr, args)\n\t\t\t\t\t\t\tsuccess = true\n\t\t\t\t\t\t} else if (typeof args.deserialize === \"function\") {\n\t\t\t\t\t\t\tresponse = args.deserialize(response)\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\ttry {response = response ? JSON.parse(response) : null}\n\t\t\t\t\t\t\tcatch (e) {throw new Error(\"Invalid JSON: \" + response)}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (success) resolve(response)\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tvar error = new Error(xhr.responseText)\n\t\t\t\t\t\t\terror.code = xhr.status\n\t\t\t\t\t\t\terror.response = response\n\t\t\t\t\t\t\treject(error)\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tcatch (e) {\n\t\t\t\t\t\treject(e)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (useBody && data != null) xhr.send(data)\n\t\t\telse xhr.send()\n\t\t}),\n\t\tjsonp: makeRequest(function(url, args, resolve, reject) {\n\t\t\tvar callbackName = args.callbackName || \"_mithril_\" + Math.round(Math.random() * 1e16) + \"_\" + callbackCount++\n\t\t\tvar script = $window.document.createElement(\"script\")\n\t\t\t$window[callbackName] = function(data) {\n\t\t\t\tscript.parentNode.removeChild(script)\n\t\t\t\tresolve(data)\n\t\t\t\tdelete $window[callbackName]\n\t\t\t}\n\t\t\tscript.onerror = function() {\n\t\t\t\tscript.parentNode.removeChild(script)\n\t\t\t\treject(new Error(\"JSONP request failed\"))\n\t\t\t\tdelete $window[callbackName]\n\t\t\t}\n\t\t\turl = interpolate(url, args.data, true)\n\t\t\tscript.src = url + (url.indexOf(\"?\") < 0 ? \"?\" : \"&\") +\n\t\t\t\tencodeURIComponent(args.callbackKey || \"callback\") + \"=\" +\n\t\t\t\tencodeURIComponent(callbackName)\n\t\t\t$window.document.documentElement.appendChild(script)\n\t\t}),\n\t\tsetCompletionCallback: function(callback) {\n\t\t\toncompletion = callback\n\t\t},\n\t}\n}\nvar requestService = _12(window, PromisePolyfill)\nvar coreRenderer = function($window) {\n\tvar $doc = $window.document\n\tvar nameSpace = {\n\t\tsvg: \"http://www.w3.org/2000/svg\",\n\t\tmath: \"http://www.w3.org/1998/Math/MathML\"\n\t}\n\tvar redraw0\n\tfunction setRedraw(callback) {return redraw0 = callback}\n\tfunction getNameSpace(vnode3) {\n\t\treturn vnode3.attrs && vnode3.attrs.xmlns || nameSpace[vnode3.tag]\n\t}\n\t//sanity check to discourage people from doing `vnode3.state = ...`\n\tfunction checkState(vnode3, original) {\n\t\tif (vnode3.state !== original) throw new Error(\"`vnode.state` must not be modified\")\n\t}\n\t//Note: the hook is passed as the `this` argument to allow proxying the\n\t//arguments without requiring a full array allocation to do so. It also\n\t//takes advantage of the fact the current `vnode3` is the first argument in\n\t//all lifecycle methods.\n\tfunction callHook(vnode3) {\n\t\tvar original = vnode3.state\n\t\ttry {\n\t\t\treturn this.apply(original, arguments)\n\t\t} finally {\n\t\t\tcheckState(vnode3, original)\n\t\t}\n\t}\n\t// IE11 (at least) throws an UnspecifiedError when accessing document.activeElement when\n\t// inside an iframe. Catch and swallow this error1, and heavy-handidly return null.\n\tfunction activeElement() {\n\t\ttry {\n\t\t\treturn $doc.activeElement\n\t\t} catch (e) {\n\t\t\treturn null\n\t\t}\n\t}\n\t//create\n\tfunction createNodes(parent, vnodes, start, end, hooks, nextSibling, ns) {\n\t\tfor (var i = start; i < end; i++) {\n\t\t\tvar vnode3 = vnodes[i]\n\t\t\tif (vnode3 != null) {\n\t\t\t\tcreateNode(parent, vnode3, hooks, ns, nextSibling)\n\t\t\t}\n\t\t}\n\t}\n\tfunction createNode(parent, vnode3, hooks, ns, nextSibling) {\n\t\tvar tag = vnode3.tag\n\t\tif (typeof tag === \"string\") {\n\t\t\tvnode3.state = {}\n\t\t\tif (vnode3.attrs != null) initLifecycle(vnode3.attrs, vnode3, hooks)\n\t\t\tswitch (tag) {\n\t\t\t\tcase \"#\": createText(parent, vnode3, nextSibling); break\n\t\t\t\tcase \"<\": createHTML(parent, vnode3, ns, nextSibling); break\n\t\t\t\tcase \"[\": createFragment(parent, vnode3, hooks, ns, nextSibling); break\n\t\t\t\tdefault: createElement(parent, vnode3, hooks, ns, nextSibling)\n\t\t\t}\n\t\t}\n\t\telse createComponent(parent, vnode3, hooks, ns, nextSibling)\n\t}\n\tfunction createText(parent, vnode3, nextSibling) {\n\t\tvnode3.dom = $doc.createTextNode(vnode3.children)\n\t\tinsertNode(parent, vnode3.dom, nextSibling)\n\t}\n\tvar possibleParents = {caption: \"table\", thead: \"table\", tbody: \"table\", tfoot: \"table\", tr: \"tbody\", th: \"tr\", td: \"tr\", colgroup: \"table\", col: \"colgroup\"}\n\tfunction createHTML(parent, vnode3, ns, nextSibling) {\n\t\tvar match0 = vnode3.children.match(/^\\s*?<(\\w+)/im) || []\n\t\t// not using the proper parent makes the child element(s) vanish.\n\t\t//     var div = document.createElement(\"div\")\n\t\t//     div.innerHTML = \"<td>i</td><td>j</td>\"\n\t\t//     console.log(div.innerHTML)\n\t\t// --> \"ij\", no <td> in sight.\n\t\tvar temp = $doc.createElement(possibleParents[match0[1]] || \"div\")\n\t\tif (ns === \"http://www.w3.org/2000/svg\") {\n\t\t\ttemp.innerHTML = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\">\" + vnode3.children + \"</svg>\"\n\t\t\ttemp = temp.firstChild\n\t\t} else {\n\t\t\ttemp.innerHTML = vnode3.children\n\t\t}\n\t\tvnode3.dom = temp.firstChild\n\t\tvnode3.domSize = temp.childNodes.length\n\t\tvar fragment = $doc.createDocumentFragment()\n\t\tvar child\n\t\twhile (child = temp.firstChild) {\n\t\t\tfragment.appendChild(child)\n\t\t}\n\t\tinsertNode(parent, fragment, nextSibling)\n\t}\n\tfunction createFragment(parent, vnode3, hooks, ns, nextSibling) {\n\t\tvar fragment = $doc.createDocumentFragment()\n\t\tif (vnode3.children != null) {\n\t\t\tvar children3 = vnode3.children\n\t\t\tcreateNodes(fragment, children3, 0, children3.length, hooks, null, ns)\n\t\t}\n\t\tvnode3.dom = fragment.firstChild\n\t\tvnode3.domSize = fragment.childNodes.length\n\t\tinsertNode(parent, fragment, nextSibling)\n\t}\n\tfunction createElement(parent, vnode3, hooks, ns, nextSibling) {\n\t\tvar tag = vnode3.tag\n\t\tvar attrs2 = vnode3.attrs\n\t\tvar is = attrs2 && attrs2.is\n\t\tns = getNameSpace(vnode3) || ns\n\t\tvar element = ns ?\n\t\t\tis ? $doc.createElementNS(ns, tag, {is: is}) : $doc.createElementNS(ns, tag) :\n\t\t\tis ? $doc.createElement(tag, {is: is}) : $doc.createElement(tag)\n\t\tvnode3.dom = element\n\t\tif (attrs2 != null) {\n\t\t\tsetAttrs(vnode3, attrs2, ns)\n\t\t}\n\t\tinsertNode(parent, element, nextSibling)\n\t\tif (attrs2 != null && attrs2.contenteditable != null) {\n\t\t\tsetContentEditable(vnode3)\n\t\t}\n\t\telse {\n\t\t\tif (vnode3.text != null) {\n\t\t\t\tif (vnode3.text !== \"\") element.textContent = vnode3.text\n\t\t\t\telse vnode3.children = [Vnode(\"#\", undefined, undefined, vnode3.text, undefined, undefined)]\n\t\t\t}\n\t\t\tif (vnode3.children != null) {\n\t\t\t\tvar children3 = vnode3.children\n\t\t\t\tcreateNodes(element, children3, 0, children3.length, hooks, null, ns)\n\t\t\t\tif (vnode3.tag === \"select\" && attrs2 != null) setLateSelectAttrs(vnode3, attrs2)\n\t\t\t}\n\t\t}\n\t}\n\tfunction initComponent(vnode3, hooks) {\n\t\tvar sentinel\n\t\tif (typeof vnode3.tag.view === \"function\") {\n\t\t\tvnode3.state = Object.create(vnode3.tag)\n\t\t\tsentinel = vnode3.state.view\n\t\t\tif (sentinel.$$reentrantLock$$ != null) return\n\t\t\tsentinel.$$reentrantLock$$ = true\n\t\t} else {\n\t\t\tvnode3.state = void 0\n\t\t\tsentinel = vnode3.tag\n\t\t\tif (sentinel.$$reentrantLock$$ != null) return\n\t\t\tsentinel.$$reentrantLock$$ = true\n\t\t\tvnode3.state = (vnode3.tag.prototype != null && typeof vnode3.tag.prototype.view === \"function\") ? new vnode3.tag(vnode3) : vnode3.tag(vnode3)\n\t\t}\n\t\tinitLifecycle(vnode3.state, vnode3, hooks)\n\t\tif (vnode3.attrs != null) initLifecycle(vnode3.attrs, vnode3, hooks)\n\t\tvnode3.instance = Vnode.normalize(callHook.call(vnode3.state.view, vnode3))\n\t\tif (vnode3.instance === vnode3) throw Error(\"A view cannot return the vnode it received as argument\")\n\t\tsentinel.$$reentrantLock$$ = null\n\t}\n\tfunction createComponent(parent, vnode3, hooks, ns, nextSibling) {\n\t\tinitComponent(vnode3, hooks)\n\t\tif (vnode3.instance != null) {\n\t\t\tcreateNode(parent, vnode3.instance, hooks, ns, nextSibling)\n\t\t\tvnode3.dom = vnode3.instance.dom\n\t\t\tvnode3.domSize = vnode3.dom != null ? vnode3.instance.domSize : 0\n\t\t}\n\t\telse {\n\t\t\tvnode3.domSize = 0\n\t\t}\n\t}\n\t//update\n\t/**\n\t * @param {Element|Fragment} parent - the parent element\n\t * @param {Vnode[] | null} old - the list of vnodes of the last `render()` call for\n\t *                               this part of the tree\n\t * @param {Vnode[] | null} vnodes - as above, but for the current `render()` call.\n\t * @param {Function[]} hooks - an accumulator of post-render hooks (oncreate/onupdate)\n\t * @param {Element | null} nextSibling - the next0 DOM node if we're dealing with a\n\t *                                       fragment that is not the last item in its\n\t *                                       parent\n\t * @param {'svg' | 'math' | String | null} ns) - the current XML namespace, if any\n\t * @returns void\n\t */\n\t// This function diffs and patches lists of vnodes, both keyed and unkeyed.\n\t//\n\t// We will:\n\t//\n\t// 1. describe its general structure\n\t// 2. focus on the diff algorithm optimizations\n\t// 3. discuss DOM node operations.\n\t// ## Overview:\n\t//\n\t// The updateNodes() function:\n\t// - deals with trivial cases\n\t// - determines whether the lists are keyed or unkeyed based on the first non-null node\n\t//   of each list.\n\t// - diffs them and patches the DOM if needed (that's the brunt of the code)\n\t// - manages the leftovers: after diffing, are there:\n\t//   - old nodes left to remove?\n\t// \t - new nodes to insert?\n\t// \t deal with them!\n\t//\n\t// The lists are only iterated over once, with an exception for the nodes in `old` that\n\t// are visited in the fourth part of the diff and in the `removeNodes` loop.\n\t// ## Diffing\n\t//\n\t// Reading https://github.com/localvoid/ivi/blob/ddc09d06abaef45248e6133f7040d00d3c6be853/packages/ivi/src/vdom/implementation.ts#L617-L837\n\t// may be good for context on longest increasing subsequence-based logic for moving nodes.\n\t//\n\t// In order to diff keyed lists, one has to\n\t//\n\t// 1) match0 nodes in both lists, per key, and update them accordingly\n\t// 2) create the nodes present in the new list, but absent in the old one\n\t// 3) remove the nodes present in the old list, but absent in the new one\n\t// 4) figure out what nodes in 1) to move in order to minimize the DOM operations.\n\t//\n\t// To achieve 1) one can create a dictionary of keys => index0 (for the old list), then1 iterate\n\t// over the new list and for each new vnode3, find the corresponding vnode3 in the old list using\n\t// the map.\n\t// 2) is achieved in the same step: if a new node has no corresponding entry in the map, it is new\n\t// and must be created.\n\t// For the removals, we actually remove the nodes that have been updated from the old list.\n\t// The nodes that remain in that list after 1) and 2) have been performed can be safely removed.\n\t// The fourth step is a bit more complex and relies on the longest increasing subsequence (LIS)\n\t// algorithm.\n\t//\n\t// the longest increasing subsequence is the list of nodes that can remain in place. Imagine going\n\t// from `1,2,3,4,5` to `4,5,1,2,3` where the numbers are not necessarily the keys, but the indices\n\t// corresponding to the keyed nodes in the old list (keyed nodes `e,d,c,b,a` => `b,a,e,d,c` would\n\t//  match0 the above lists, for example).\n\t//\n\t// In there are two increasing subsequences: `4,5` and `1,2,3`, the latter being the longest. We\n\t// can update those nodes without moving them, and only call `insertNode` on `4` and `5`.\n\t//\n\t// @localvoid adapted the algo to also support node deletions and insertions (the `lis` is actually\n\t// the longest increasing subsequence *of old nodes still present in the new list*).\n\t//\n\t// It is a general algorithm that is fireproof in all circumstances, but it requires the allocation\n\t// and the construction of a `key => oldIndex` map, and three arrays (one with `newIndex => oldIndex`,\n\t// the `LIS` and a temporary one to create the LIS).\n\t//\n\t// So we cheat where we can: if the tails of the lists are identical, they are guaranteed to be part of\n\t// the LIS and can be updated without moving them.\n\t//\n\t// If two nodes are swapped, they are guaranteed not to be part of the LIS, and must be moved (with\n\t// the exception of the last node if the list is fully reversed).\n\t//\n\t// ## Finding the next0 sibling.\n\t//\n\t// `updateNode()` and `createNode()` expect a nextSibling parameter to perform DOM operations.\n\t// When the list is being traversed top-down, at any index0, the DOM nodes up to the previous\n\t// vnode3 reflect the content of the new list, whereas the rest of the DOM nodes reflect the old\n\t// list. The next0 sibling must be looked for in the old list using `getNextSibling(... oldStart + 1 ...)`.\n\t//\n\t// In the other scenarios (swaps, upwards traversal, map-based diff),\n\t// the new vnodes list is traversed upwards. The DOM nodes at the bottom of the list reflect the\n\t// bottom part of the new vnodes list, and we can use the `v.dom`  value of the previous node\n\t// as the next0 sibling (cached in the `nextSibling` variable).\n\t// ## DOM node moves\n\t//\n\t// In most scenarios `updateNode()` and `createNode()` perform the DOM operations. However,\n\t// this is not the case if the node moved (second and fourth part of the diff algo). We move\n\t// the old DOM nodes before updateNode runs0 because it enables us to use the cached `nextSibling`\n\t// variable rather than fetching it using `getNextSibling()`.\n\t//\n\t// The fourth part of the diff currently inserts nodes unconditionally, leading to issues\n\t// like #1791 and #1999. We need to be smarter about those situations where adjascent old\n\t// nodes remain together in the new list in a way that isn't covered by parts one and\n\t// three of the diff algo.\n\tfunction updateNodes(parent, old, vnodes, hooks, nextSibling, ns) {\n\t\tif (old === vnodes || old == null && vnodes == null) return\n\t\telse if (old == null || old.length === 0) createNodes(parent, vnodes, 0, vnodes.length, hooks, nextSibling, ns)\n\t\telse if (vnodes == null || vnodes.length === 0) removeNodes(old, 0, old.length)\n\t\telse {\n\t\t\tvar start = 0, oldStart = 0, isOldKeyed = null, isKeyed = null\n\t\t\tfor (; oldStart < old.length; oldStart++) {\n\t\t\t\tif (old[oldStart] != null) {\n\t\t\t\t\tisOldKeyed = old[oldStart].key != null\n\t\t\t\t\tbreak\n\t\t\t\t}\n\t\t\t}\n\t\t\tfor (; start < vnodes.length; start++) {\n\t\t\t\tif (vnodes[start] != null) {\n\t\t\t\t\tisKeyed = vnodes[start].key != null\n\t\t\t\t\tbreak\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (isKeyed === null && isOldKeyed == null) return // both lists are full of nulls\n\t\t\tif (isOldKeyed !== isKeyed) {\n\t\t\t\tremoveNodes(old, oldStart, old.length)\n\t\t\t\tcreateNodes(parent, vnodes, start, vnodes.length, hooks, nextSibling, ns)\n\t\t\t} else if (!isKeyed) {\n\t\t\t\t// Don't index0 past the end of either list (causes deopts).\n\t\t\t\tvar commonLength = old.length < vnodes.length ? old.length : vnodes.length\n\t\t\t\t// Rewind if necessary to the first non-null index0 on either side.\n\t\t\t\t// We could alternatively either explicitly create or remove nodes when `start !== oldStart`\n\t\t\t\t// but that would be optimizing for sparse lists which are more rare than dense ones.\n\t\t\t\tstart = start < oldStart ? start : oldStart\n\t\t\t\tfor (; start < commonLength; start++) {\n\t\t\t\t\to = old[start]\n\t\t\t\t\tv = vnodes[start]\n\t\t\t\t\tif (o === v || o == null && v == null) continue\n\t\t\t\t\telse if (o == null) createNode(parent, v, hooks, ns, getNextSibling(old, start + 1, nextSibling))\n\t\t\t\t\telse if (v == null) removeNode(o)\n\t\t\t\t\telse updateNode(parent, o, v, hooks, getNextSibling(old, start + 1, nextSibling), ns)\n\t\t\t\t}\n\t\t\t\tif (old.length > commonLength) removeNodes(old, start, old.length)\n\t\t\t\tif (vnodes.length > commonLength) createNodes(parent, vnodes, start, vnodes.length, hooks, nextSibling, ns)\n\t\t\t} else {\n\t\t\t\t// keyed diff\n\t\t\t\tvar oldEnd = old.length - 1, end = vnodes.length - 1, map, o, v, oe, ve, topSibling\n\t\t\t\t// bottom-up\n\t\t\t\twhile (oldEnd >= oldStart && end >= start) {\n\t\t\t\t\toe = old[oldEnd]\n\t\t\t\t\tve = vnodes[end]\n\t\t\t\t\tif (oe == null) oldEnd--\n\t\t\t\t\telse if (ve == null) end--\n\t\t\t\t\telse if (oe.key === ve.key) {\n\t\t\t\t\t\tif (oe !== ve) updateNode(parent, oe, ve, hooks, nextSibling, ns)\n\t\t\t\t\t\tif (ve.dom != null) nextSibling = ve.dom\n\t\t\t\t\t\toldEnd--, end--\n\t\t\t\t\t} else {\n\t\t\t\t\t\tbreak\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t// top-down\n\t\t\t\twhile (oldEnd >= oldStart && end >= start) {\n\t\t\t\t\to = old[oldStart]\n\t\t\t\t\tv = vnodes[start]\n\t\t\t\t\tif (o == null) oldStart++\n\t\t\t\t\telse if (v == null) start++\n\t\t\t\t\telse if (o.key === v.key) {\n\t\t\t\t\t\toldStart++, start++\n\t\t\t\t\t\tif (o !== v) updateNode(parent, o, v, hooks, getNextSibling(old, oldStart, nextSibling), ns)\n\t\t\t\t\t} else {\n\t\t\t\t\t\tbreak\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t// swaps and list reversals\n\t\t\t\twhile (oldEnd >= oldStart && end >= start) {\n\t\t\t\t\tif (o == null) oldStart++\n\t\t\t\t\telse if (v == null) start++\n\t\t\t\t\telse if (oe == null) oldEnd--\n\t\t\t\t\telse if (ve == null) end--\n\t\t\t\t\telse if (start === end) break\n\t\t\t\t\telse {\n\t\t\t\t\t\tif (o.key !== ve.key || oe.key !== v.key) break\n\t\t\t\t\t\ttopSibling = getNextSibling(old, oldStart, nextSibling)\n\t\t\t\t\t\tinsertNode(parent, toFragment(oe), topSibling)\n\t\t\t\t\t\tif (oe !== v) updateNode(parent, oe, v, hooks, topSibling, ns)\n\t\t\t\t\t\tif (++start <= --end) insertNode(parent, toFragment(o), nextSibling)\n\t\t\t\t\t\tif (o !== ve) updateNode(parent, o, ve, hooks, nextSibling, ns)\n\t\t\t\t\t\tif (ve.dom != null) nextSibling = ve.dom\n\t\t\t\t\t\toldStart++; oldEnd--\n\t\t\t\t\t}\n\t\t\t\t\toe = old[oldEnd]\n\t\t\t\t\tve = vnodes[end]\n\t\t\t\t\to = old[oldStart]\n\t\t\t\t\tv = vnodes[start]\n\t\t\t\t}\n\t\t\t\t// bottom up once again\n\t\t\t\twhile (oldEnd >= oldStart && end >= start) {\n\t\t\t\t\tif (oe == null) oldEnd--\n\t\t\t\t\telse if (ve == null) end--\n\t\t\t\t\telse if (oe.key === ve.key) {\n\t\t\t\t\t\tif (oe !== ve) updateNode(parent, oe, ve, hooks, nextSibling, ns)\n\t\t\t\t\t\tif (ve.dom != null) nextSibling = ve.dom\n\t\t\t\t\t\toldEnd--, end--\n\t\t\t\t\t} else {\n\t\t\t\t\t\tbreak\n\t\t\t\t\t}\n\t\t\t\t\toe = old[oldEnd]\n\t\t\t\t\tve = vnodes[end]\n\t\t\t\t}\n\t\t\t\tif (start > end) removeNodes(old, oldStart, oldEnd + 1)\n\t\t\t\telse if (oldStart > oldEnd) createNodes(parent, vnodes, start, end + 1, hooks, nextSibling, ns)\n\t\t\t\telse {\n\t\t\t\t\t// inspired by ivi https://github.com/ivijs/ivi/ by Boris Kaul\n\t\t\t\t\tvar originalNextSibling = nextSibling, vnodesLength = end - start + 1, oldIndices = new Array(vnodesLength), li=0, i=0, pos = 2147483647, matched = 0, map, lisIndices\n\t\t\t\t\tfor (i = 0; i < vnodesLength; i++) oldIndices[i] = -1\n\t\t\t\t\tfor (i = end; i >= start; i--) {\n\t\t\t\t\t\tif (map == null) map = getKeyMap(old, oldStart, oldEnd + 1)\n\t\t\t\t\t\tve = vnodes[i]\n\t\t\t\t\t\tif (ve != null) {\n\t\t\t\t\t\t\tvar oldIndex = map[ve.key]\n\t\t\t\t\t\t\tif (oldIndex != null) {\n\t\t\t\t\t\t\t\tpos = (oldIndex < pos) ? oldIndex : -1 // becomes -1 if nodes were re-ordered\n\t\t\t\t\t\t\t\toldIndices[i-start] = oldIndex\n\t\t\t\t\t\t\t\toe = old[oldIndex]\n\t\t\t\t\t\t\t\told[oldIndex] = null\n\t\t\t\t\t\t\t\tif (oe !== ve) updateNode(parent, oe, ve, hooks, nextSibling, ns)\n\t\t\t\t\t\t\t\tif (ve.dom != null) nextSibling = ve.dom\n\t\t\t\t\t\t\t\tmatched++\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tnextSibling = originalNextSibling\n\t\t\t\t\tif (matched !== oldEnd - oldStart + 1) removeNodes(old, oldStart, oldEnd + 1)\n\t\t\t\t\tif (matched === 0) createNodes(parent, vnodes, start, end + 1, hooks, nextSibling, ns)\n\t\t\t\t\telse {\n\t\t\t\t\t\tif (pos === -1) {\n\t\t\t\t\t\t\t// the indices of the indices of the items that are part of the\n\t\t\t\t\t\t\t// longest increasing subsequence in the oldIndices list\n\t\t\t\t\t\t\tlisIndices = makeLisIndices(oldIndices)\n\t\t\t\t\t\t\tli = lisIndices.length - 1\n\t\t\t\t\t\t\tfor (i = end; i >= start; i--) {\n\t\t\t\t\t\t\t\tv = vnodes[i]\n\t\t\t\t\t\t\t\tif (oldIndices[i-start] === -1) createNode(parent, v, hooks, ns, nextSibling)\n\t\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\t\tif (lisIndices[li] === i - start) li--\n\t\t\t\t\t\t\t\t\telse insertNode(parent, toFragment(v), nextSibling)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif (v.dom != null) nextSibling = vnodes[i].dom\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tfor (i = end; i >= start; i--) {\n\t\t\t\t\t\t\t\tv = vnodes[i]\n\t\t\t\t\t\t\t\tif (oldIndices[i-start] === -1) createNode(parent, v, hooks, ns, nextSibling)\n\t\t\t\t\t\t\t\tif (v.dom != null) nextSibling = vnodes[i].dom\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\tfunction updateNode(parent, old, vnode3, hooks, nextSibling, ns) {\n\t\tvar oldTag = old.tag, tag = vnode3.tag\n\t\tif (oldTag === tag) {\n\t\t\tvnode3.state = old.state\n\t\t\tvnode3.events = old.events\n\t\t\tif (shouldNotUpdate(vnode3, old)) return\n\t\t\tif (typeof oldTag === \"string\") {\n\t\t\t\tif (vnode3.attrs != null) {\n\t\t\t\t\tupdateLifecycle(vnode3.attrs, vnode3, hooks)\n\t\t\t\t}\n\t\t\t\tswitch (oldTag) {\n\t\t\t\t\tcase \"#\": updateText(old, vnode3); break\n\t\t\t\t\tcase \"<\": updateHTML(parent, old, vnode3, ns, nextSibling); break\n\t\t\t\t\tcase \"[\": updateFragment(parent, old, vnode3, hooks, nextSibling, ns); break\n\t\t\t\t\tdefault: updateElement(old, vnode3, hooks, ns)\n\t\t\t\t}\n\t\t\t}\n\t\t\telse updateComponent(parent, old, vnode3, hooks, nextSibling, ns)\n\t\t}\n\t\telse {\n\t\t\tremoveNode(old)\n\t\t\tcreateNode(parent, vnode3, hooks, ns, nextSibling)\n\t\t}\n\t}\n\tfunction updateText(old, vnode3) {\n\t\tif (old.children.toString() !== vnode3.children.toString()) {\n\t\t\told.dom.nodeValue = vnode3.children\n\t\t}\n\t\tvnode3.dom = old.dom\n\t}\n\tfunction updateHTML(parent, old, vnode3, ns, nextSibling) {\n\t\tif (old.children !== vnode3.children) {\n\t\t\ttoFragment(old)\n\t\t\tcreateHTML(parent, vnode3, ns, nextSibling)\n\t\t}\n\t\telse vnode3.dom = old.dom, vnode3.domSize = old.domSize\n\t}\n\tfunction updateFragment(parent, old, vnode3, hooks, nextSibling, ns) {\n\t\tupdateNodes(parent, old.children, vnode3.children, hooks, nextSibling, ns)\n\t\tvar domSize = 0, children3 = vnode3.children\n\t\tvnode3.dom = null\n\t\tif (children3 != null) {\n\t\t\tfor (var i = 0; i < children3.length; i++) {\n\t\t\t\tvar child = children3[i]\n\t\t\t\tif (child != null && child.dom != null) {\n\t\t\t\t\tif (vnode3.dom == null) vnode3.dom = child.dom\n\t\t\t\t\tdomSize += child.domSize || 1\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (domSize !== 1) vnode3.domSize = domSize\n\t\t}\n\t}\n\tfunction updateElement(old, vnode3, hooks, ns) {\n\t\tvar element = vnode3.dom = old.dom\n\t\tns = getNameSpace(vnode3) || ns\n\t\tif (vnode3.tag === \"textarea\") {\n\t\t\tif (vnode3.attrs == null) vnode3.attrs = {}\n\t\t\tif (vnode3.text != null) {\n\t\t\t\tvnode3.attrs.value = vnode3.text //FIXME handle0 multiple children3\n\t\t\t\tvnode3.text = undefined\n\t\t\t}\n\t\t}\n\t\tupdateAttrs(vnode3, old.attrs, vnode3.attrs, ns)\n\t\tif (vnode3.attrs != null && vnode3.attrs.contenteditable != null) {\n\t\t\tsetContentEditable(vnode3)\n\t\t}\n\t\telse if (old.text != null && vnode3.text != null && vnode3.text !== \"\") {\n\t\t\tif (old.text.toString() !== vnode3.text.toString()) old.dom.firstChild.nodeValue = vnode3.text\n\t\t}\n\t\telse {\n\t\t\tif (old.text != null) old.children = [Vnode(\"#\", undefined, undefined, old.text, undefined, old.dom.firstChild)]\n\t\t\tif (vnode3.text != null) vnode3.children = [Vnode(\"#\", undefined, undefined, vnode3.text, undefined, undefined)]\n\t\t\tupdateNodes(element, old.children, vnode3.children, hooks, null, ns)\n\t\t}\n\t}\n\tfunction updateComponent(parent, old, vnode3, hooks, nextSibling, ns) {\n\t\tvnode3.instance = Vnode.normalize(callHook.call(vnode3.state.view, vnode3))\n\t\tif (vnode3.instance === vnode3) throw Error(\"A view cannot return the vnode it received as argument\")\n\t\tupdateLifecycle(vnode3.state, vnode3, hooks)\n\t\tif (vnode3.attrs != null) updateLifecycle(vnode3.attrs, vnode3, hooks)\n\t\tif (vnode3.instance != null) {\n\t\t\tif (old.instance == null) createNode(parent, vnode3.instance, hooks, ns, nextSibling)\n\t\t\telse updateNode(parent, old.instance, vnode3.instance, hooks, nextSibling, ns)\n\t\t\tvnode3.dom = vnode3.instance.dom\n\t\t\tvnode3.domSize = vnode3.instance.domSize\n\t\t}\n\t\telse if (old.instance != null) {\n\t\t\tremoveNode(old.instance)\n\t\t\tvnode3.dom = undefined\n\t\t\tvnode3.domSize = 0\n\t\t}\n\t\telse {\n\t\t\tvnode3.dom = old.dom\n\t\t\tvnode3.domSize = old.domSize\n\t\t}\n\t}\n\tfunction getKeyMap(vnodes, start, end) {\n\t\tvar map = Object.create(null)\n\t\tfor (; start < end; start++) {\n\t\t\tvar vnode3 = vnodes[start]\n\t\t\tif (vnode3 != null) {\n\t\t\t\tvar key = vnode3.key\n\t\t\t\tif (key != null) map[key] = start\n\t\t\t}\n\t\t}\n\t\treturn map\n\t}\n\t// Lifted from ivi https://github.com/ivijs/ivi/\n\t// takes a list of unique numbers (-1 is special and can\n\t// occur multiple times) and returns an array with the indices\n\t// of the items that are part of the longest increasing\n\t// subsequece\n\tfunction makeLisIndices(a) {\n\t\tvar p = a.slice()\n\t\tvar result = []\n\t\tresult.push(0)\n\t\tvar u\n\t\tvar v\n\t\tfor (var i = 0, il = a.length; i < il; ++i) {\n\t\t\tif (a[i] === -1) {\n\t\t\t\tcontinue\n\t\t\t}\n\t\t\tvar j = result[result.length - 1]\n\t\t\tif (a[j] < a[i]) {\n\t\t\t\tp[i] = j\n\t\t\t\tresult.push(i)\n\t\t\t\tcontinue\n\t\t\t}\n\t\t\tu = 0\n\t\t\tv = result.length - 1\n\t\t\twhile (u < v) {\n\t\t\t\tvar c = ((u + v) / 2) | 0 // eslint-disable-line no-bitwise\n\t\t\t\tif (a[result[c]] < a[i]) {\n\t\t\t\t\tu = c + 1\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tv = c\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (a[i] < a[result[u]]) {\n\t\t\t\tif (u > 0) {\n\t\t\t\t\tp[i] = result[u - 1]\n\t\t\t\t}\n\t\t\t\tresult[u] = i\n\t\t\t}\n\t\t}\n\t\tu = result.length\n\t\tv = result[u - 1]\n\t\twhile (u-- > 0) {\n\t\t\tresult[u] = v\n\t\t\tv = p[v]\n\t\t}\n\t\treturn result\n\t}\n\tfunction toFragment(vnode3) {\n\t\tvar count0 = vnode3.domSize\n\t\tif (count0 != null || vnode3.dom == null) {\n\t\t\tvar fragment = $doc.createDocumentFragment()\n\t\t\tif (count0 > 0) {\n\t\t\t\tvar dom = vnode3.dom\n\t\t\t\twhile (--count0) fragment.appendChild(dom.nextSibling)\n\t\t\t\tfragment.insertBefore(dom, fragment.firstChild)\n\t\t\t}\n\t\t\treturn fragment\n\t\t}\n\t\telse return vnode3.dom\n\t}\n\tfunction getNextSibling(vnodes, i, nextSibling) {\n\t\tfor (; i < vnodes.length; i++) {\n\t\t\tif (vnodes[i] != null && vnodes[i].dom != null) return vnodes[i].dom\n\t\t}\n\t\treturn nextSibling\n\t}\n\tfunction insertNode(parent, dom, nextSibling) {\n\t\tif (nextSibling != null) parent.insertBefore(dom, nextSibling)\n\t\telse parent.appendChild(dom)\n\t}\n\tfunction setContentEditable(vnode3) {\n\t\tvar children3 = vnode3.children\n\t\tif (children3 != null && children3.length === 1 && children3[0].tag === \"<\") {\n\t\t\tvar content = children3[0].children\n\t\t\tif (vnode3.dom.innerHTML !== content) vnode3.dom.innerHTML = content\n\t\t}\n\t\telse if (vnode3.text != null || children3 != null && children3.length !== 0) throw new Error(\"Child node of a contenteditable must be trusted\")\n\t}\n\t//remove\n\tfunction removeNodes(vnodes, start, end) {\n\t\tfor (var i = start; i < end; i++) {\n\t\t\tvar vnode3 = vnodes[i]\n\t\t\tif (vnode3 != null) removeNode(vnode3)\n\t\t}\n\t}\n\tfunction removeNode(vnode3) {\n\t\tvar expected = 1, called = 0\n\t\tvar original = vnode3.state\n\t\tif (typeof vnode3.tag !== \"string\" && typeof vnode3.state.onbeforeremove === \"function\") {\n\t\t\tvar result = callHook.call(vnode3.state.onbeforeremove, vnode3)\n\t\t\tif (result != null && typeof result.then === \"function\") {\n\t\t\t\texpected++\n\t\t\t\tresult.then(continuation, continuation)\n\t\t\t}\n\t\t}\n\t\tif (vnode3.attrs && typeof vnode3.attrs.onbeforeremove === \"function\") {\n\t\t\tvar result = callHook.call(vnode3.attrs.onbeforeremove, vnode3)\n\t\t\tif (result != null && typeof result.then === \"function\") {\n\t\t\t\texpected++\n\t\t\t\tresult.then(continuation, continuation)\n\t\t\t}\n\t\t}\n\t\tcontinuation()\n\t\tfunction continuation() {\n\t\t\tif (++called === expected) {\n\t\t\t\tcheckState(vnode3, original)\n\t\t\t\tonremove(vnode3)\n\t\t\t\tif (vnode3.dom) {\n\t\t\t\t\tvar parent = vnode3.dom.parentNode\n\t\t\t\t\tvar count0 = vnode3.domSize || 1\n\t\t\t\t\twhile (--count0) parent.removeChild(vnode3.dom.nextSibling)\n\t\t\t\t\tparent.removeChild(vnode3.dom)\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\tfunction onremove(vnode3) {\n\t\tif (typeof vnode3.tag !== \"string\" && typeof vnode3.state.onremove === \"function\") callHook.call(vnode3.state.onremove, vnode3)\n\t\tif (vnode3.attrs && typeof vnode3.attrs.onremove === \"function\") callHook.call(vnode3.attrs.onremove, vnode3)\n\t\tif (typeof vnode3.tag !== \"string\") {\n\t\t\tif (vnode3.instance != null) onremove(vnode3.instance)\n\t\t} else {\n\t\t\tvar children3 = vnode3.children\n\t\t\tif (Array.isArray(children3)) {\n\t\t\t\tfor (var i = 0; i < children3.length; i++) {\n\t\t\t\t\tvar child = children3[i]\n\t\t\t\t\tif (child != null) onremove(child)\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t//attrs2\n\tfunction setAttrs(vnode3, attrs2, ns) {\n\t\tfor (var key in attrs2) {\n\t\t\tsetAttr(vnode3, key, null, attrs2[key], ns)\n\t\t}\n\t}\n\tfunction setAttr(vnode3, key, old, value, ns) {\n\t\tif (key === \"key\" || key === \"is\" || value == null || isLifecycleMethod(key) || (old === value && !isFormAttribute(vnode3, key)) && typeof value !== \"object\") return\n\t\tif (key[0] === \"o\" && key[1] === \"n\") return updateEvent(vnode3, key, value)\n\t\tif (key.slice(0, 6) === \"xlink:\") vnode3.dom.setAttributeNS(\"http://www.w3.org/1999/xlink\", key.slice(6), value)\n\t\telse if (key === \"style\") updateStyle(vnode3.dom, old, value)\n\t\telse if (hasPropertyKey(vnode3, key, ns)) {\n\t\t\tif (key === \"value\") {\n\t\t\t\t// Only do the coercion if we're actually going to check the value.\n\t\t\t\t/* eslint-disable no-implicit-coercion */\n\t\t\t\t//setting input[value] to same value by typing on focused element moves cursor to end in Chrome\n\t\t\t\tif ((vnode3.tag === \"input\" || vnode3.tag === \"textarea\") && vnode3.dom.value === \"\" + value && vnode3.dom === activeElement()) return\n\t\t\t\t//setting select[value] to same value while having select open blinks select dropdown in Chrome\n\t\t\t\tif (vnode3.tag === \"select\" && old !== null && vnode3.dom.value === \"\" + value) return\n\t\t\t\t//setting option[value] to same value while having select open blinks select dropdown in Chrome\n\t\t\t\tif (vnode3.tag === \"option\" && old !== null && vnode3.dom.value === \"\" + value) return\n\t\t\t\t/* eslint-enable no-implicit-coercion */\n\t\t\t}\n\t\t\t// If you assign an input type1 that is not supported by IE 11 with an assignment expression, an error1 will occur.\n\t\t\tif (vnode3.tag === \"input\" && key === \"type\") vnode3.dom.setAttribute(key, value)\n\t\t\telse vnode3.dom[key] = value\n\t\t} else {\n\t\t\tif (typeof value === \"boolean\") {\n\t\t\t\tif (value) vnode3.dom.setAttribute(key, \"\")\n\t\t\t\telse vnode3.dom.removeAttribute(key)\n\t\t\t}\n\t\t\telse vnode3.dom.setAttribute(key === \"className\" ? \"class\" : key, value)\n\t\t}\n\t}\n\tfunction removeAttr(vnode3, key, old, ns) {\n\t\tif (key === \"key\" || key === \"is\" || old == null || isLifecycleMethod(key)) return\n\t\tif (key[0] === \"o\" && key[1] === \"n\" && !isLifecycleMethod(key)) updateEvent(vnode3, key, undefined)\n\t\telse if (key === \"style\") updateStyle(vnode3.dom, old, null)\n\t\telse if (\n\t\t\thasPropertyKey(vnode3, key, ns)\n\t\t\t&& key !== \"className\"\n\t\t\t&& !(key === \"value\" && (\n\t\t\t\tvnode3.tag === \"option\"\n\t\t\t\t|| vnode3.tag === \"select\" && vnode3.dom.selectedIndex === -1 && vnode3.dom === activeElement()\n\t\t\t))\n\t\t\t&& !(vnode3.tag === \"input\" && key === \"type\")\n\t\t) {\n\t\t\tvnode3.dom[key] = null\n\t\t} else {\n\t\t\tvar nsLastIndex = key.indexOf(\":\")\n\t\t\tif (nsLastIndex !== -1) key = key.slice(nsLastIndex + 1)\n\t\t\tif (old !== false) vnode3.dom.removeAttribute(key === \"className\" ? \"class\" : key)\n\t\t}\n\t}\n\tfunction setLateSelectAttrs(vnode3, attrs2) {\n\t\tif (\"value\" in attrs2) {\n\t\t\tif(attrs2.value === null) {\n\t\t\t\tif (vnode3.dom.selectedIndex !== -1) vnode3.dom.value = null\n\t\t\t} else {\n\t\t\t\tvar normalized = \"\" + attrs2.value // eslint-disable-line no-implicit-coercion\n\t\t\t\tif (vnode3.dom.value !== normalized || vnode3.dom.selectedIndex === -1) {\n\t\t\t\t\tvnode3.dom.value = normalized\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (\"selectedIndex\" in attrs2) setAttr(vnode3, \"selectedIndex\", null, attrs2.selectedIndex, undefined)\n\t}\n\tfunction updateAttrs(vnode3, old, attrs2, ns) {\n\t\tif (attrs2 != null) {\n\t\t\tfor (var key in attrs2) {\n\t\t\t\tsetAttr(vnode3, key, old && old[key], attrs2[key], ns)\n\t\t\t}\n\t\t}\n\t\tvar val\n\t\tif (old != null) {\n\t\t\tfor (var key in old) {\n\t\t\t\tif (((val = old[key]) != null) && (attrs2 == null || attrs2[key] == null)) {\n\t\t\t\t\tremoveAttr(vnode3, key, val, ns)\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\tfunction isFormAttribute(vnode3, attr) {\n\t\treturn attr === \"value\" || attr === \"checked\" || attr === \"selectedIndex\" || attr === \"selected\" && vnode3.dom === activeElement() || vnode3.tag === \"option\" && vnode3.dom.parentNode === $doc.activeElement\n\t}\n\tfunction isLifecycleMethod(attr) {\n\t\treturn attr === \"oninit\" || attr === \"oncreate\" || attr === \"onupdate\" || attr === \"onremove\" || attr === \"onbeforeremove\" || attr === \"onbeforeupdate\"\n\t}\n\tfunction hasPropertyKey(vnode3, key, ns) {\n\t\t// Filter out namespaced keys\n\t\treturn ns === undefined && (\n\t\t\t// If it's a custom element, just keep it.\n\t\t\tvnode3.tag.indexOf(\"-\") > -1 || vnode3.attrs != null && vnode3.attrs.is ||\n\t\t\t// If it's a normal element, let's try to avoid a few browser bugs.\n\t\t\tkey !== \"href\" && key !== \"list\" && key !== \"form\" && key !== \"width\" && key !== \"height\"// && key !== \"type\"\n\t\t\t// Defer the property check until *after* we check everything.\n\t\t) && key in vnode3.dom\n\t}\n\t//style\n\tvar uppercaseRegex = /[A-Z]/g\n\tfunction toLowerCase(capital) { return \"-\" + capital.toLowerCase() }\n\tfunction normalizeKey(key) {\n\t\treturn key[0] === \"-\" && key[1] === \"-\" ? key :\n\t\t\tkey === \"cssFloat\" ? \"float\" :\n\t\t\t\tkey.replace(uppercaseRegex, toLowerCase)\n\t}\n\tfunction updateStyle(element, old, style) {\n\t\tif (old === style) {\n\t\t\t// Styles are equivalent, do nothing.\n\t\t} else if (style == null) {\n\t\t\t// New style is missing, just clear it.\n\t\t\telement.style.cssText = \"\"\n\t\t} else if (typeof style !== \"object\") {\n\t\t\t// New style is a string, let engine deal with patching.\n\t\t\telement.style.cssText = style\n\t\t} else if (old == null || typeof old !== \"object\") {\n\t\t\t// `old` is missing or a string, `style` is an object.\n\t\t\telement.style.cssText = \"\"\n\t\t\t// Add new style properties\n\t\t\tfor (var key in style) {\n\t\t\t\tvar value = style[key]\n\t\t\t\tif (value != null) element.style.setProperty(normalizeKey(key), String(value))\n\t\t\t}\n\t\t} else {\n\t\t\t// Both old & new are (different) objects.\n\t\t\t// Update style properties that have changed\n\t\t\tfor (var key in style) {\n\t\t\t\tvar value = style[key]\n\t\t\t\tif (value != null && (value = String(value)) !== String(old[key])) {\n\t\t\t\t\telement.style.setProperty(normalizeKey(key), value)\n\t\t\t\t}\n\t\t\t}\n\t\t\t// Remove style properties that no longer exist\n\t\t\tfor (var key in old) {\n\t\t\t\tif (old[key] != null && style[key] == null) {\n\t\t\t\t\telement.style.removeProperty(normalizeKey(key))\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t// Here's an explanation of how this works:\n\t// 1. The event names are always (by design) prefixed by `on`.\n\t// 2. The EventListener interface accepts either a function or an object\n\t//    with a `handleEvent` method0.\n\t// 3. The object does not inherit from `Object.prototype`, to avoid\n\t//    any potential interference with that (e.g. setters).\n\t// 4. The event name is remapped to the handler0 before calling it.\n\t// 5. In function-based event handlers, `ev.target === this`. We replicate\n\t//    that below.\n\t// 6. In function-based event handlers, `return false` prevents the default\n\t//    action and stops event propagation. We replicate that below.\n\tfunction EventDict() {}\n\tEventDict.prototype = Object.create(null)\n\tEventDict.prototype.handleEvent = function (ev) {\n\t\tvar handler0 = this[\"on\" + ev.type]\n\t\tvar result\n\t\tif (typeof handler0 === \"function\") result = handler0.call(ev.currentTarget, ev)\n\t\telse if (typeof handler0.handleEvent === \"function\") handler0.handleEvent(ev)\n\t\tif (ev.redraw === false) ev.redraw = undefined\n\t\telse if (typeof redraw0 === \"function\") redraw0()\n\t\tif (result === false) {\n\t\t\tev.preventDefault()\n\t\t\tev.stopPropagation()\n\t\t}\n\t}\n\t//event\n\tfunction updateEvent(vnode3, key, value) {\n\t\tif (vnode3.events != null) {\n\t\t\tif (vnode3.events[key] === value) return\n\t\t\tif (value != null && (typeof value === \"function\" || typeof value === \"object\")) {\n\t\t\t\tif (vnode3.events[key] == null) vnode3.dom.addEventListener(key.slice(2), vnode3.events, false)\n\t\t\t\tvnode3.events[key] = value\n\t\t\t} else {\n\t\t\t\tif (vnode3.events[key] != null) vnode3.dom.removeEventListener(key.slice(2), vnode3.events, false)\n\t\t\t\tvnode3.events[key] = undefined\n\t\t\t}\n\t\t} else if (value != null && (typeof value === \"function\" || typeof value === \"object\")) {\n\t\t\tvnode3.events = new EventDict()\n\t\t\tvnode3.dom.addEventListener(key.slice(2), vnode3.events, false)\n\t\t\tvnode3.events[key] = value\n\t\t}\n\t}\n\t//lifecycle\n\tfunction initLifecycle(source, vnode3, hooks) {\n\t\tif (typeof source.oninit === \"function\") callHook.call(source.oninit, vnode3)\n\t\tif (typeof source.oncreate === \"function\") hooks.push(callHook.bind(source.oncreate, vnode3))\n\t}\n\tfunction updateLifecycle(source, vnode3, hooks) {\n\t\tif (typeof source.onupdate === \"function\") hooks.push(callHook.bind(source.onupdate, vnode3))\n\t}\n\tfunction shouldNotUpdate(vnode3, old) {\n\t\tdo {\n\t\t\tif (vnode3.attrs != null && typeof vnode3.attrs.onbeforeupdate === \"function\") {\n\t\t\t\tvar force = callHook.call(vnode3.attrs.onbeforeupdate, vnode3, old)\n\t\t\t\tif (force !== undefined && !force) break\n\t\t\t}\n\t\t\tif (typeof vnode3.tag !== \"string\" && typeof vnode3.state.onbeforeupdate === \"function\") {\n\t\t\t\tvar force = callHook.call(vnode3.state.onbeforeupdate, vnode3, old)\n\t\t\t\tif (force !== undefined && !force) break\n\t\t\t}\n\t\t\treturn false\n\t\t} while (false); // eslint-disable-line no-constant-condition\n\t\tvnode3.dom = old.dom\n\t\tvnode3.domSize = old.domSize\n\t\tvnode3.instance = old.instance\n\t\treturn true\n\t}\n\tfunction render(dom, vnodes) {\n\t\tif (!dom) throw new Error(\"Ensure the DOM element being passed to m.route/m.mount/m.render is not undefined.\")\n\t\tvar hooks = []\n\t\tvar active = activeElement()\n\t\tvar namespace = dom.namespaceURI\n\t\t// First time rendering0 into a node clears it out\n\t\tif (dom.vnodes == null) dom.textContent = \"\"\n\t\tvnodes = Vnode.normalizeChildren(Array.isArray(vnodes) ? vnodes : [vnodes])\n\t\tupdateNodes(dom, dom.vnodes, vnodes, hooks, null, namespace === \"http://www.w3.org/1999/xhtml\" ? undefined : namespace)\n\t\tdom.vnodes = vnodes\n\t\t// `document.activeElement` can return null: https://html.spec.whatwg.org/multipage/interaction.html#dom-document-activeelement\n\t\tif (active != null && activeElement() !== active && typeof active.focus === \"function\") active.focus()\n\t\tfor (var i = 0; i < hooks.length; i++) hooks[i]()\n\t}\n\treturn {render: render, setRedraw: setRedraw}\n}\nfunction throttle(callback) {\n\tvar pending = null\n\treturn function() {\n\t\tif (pending === null) {\n\t\t\tpending = requestAnimationFrame(function() {\n\t\t\t\tpending = null\n\t\t\t\tcallback()\n\t\t\t})\n\t\t}\n\t}\n}\nvar _15 = function($window, throttleMock) {\n\tvar renderService = coreRenderer($window)\n\tvar callbacks = []\n\tvar rendering = false\n\tfunction subscribe(key, callback) {\n\t\tunsubscribe(key)\n\t\tcallbacks.push(key, callback)\n\t}\n\tfunction unsubscribe(key) {\n\t\tvar index = callbacks.indexOf(key)\n\t\tif (index > -1) callbacks.splice(index, 2)\n\t}\n\tfunction sync() {\n\t\tif (rendering) throw new Error(\"Nested m.redraw.sync() call\")\n\t\trendering = true\n\t\tfor (var i = 1; i < callbacks.length; i+=2) try {callbacks[i]()} catch (e) {if (typeof console !== \"undefined\") console.error(e)}\n\t\trendering = false\n\t}\n\tvar redraw = (throttleMock || throttle)(sync)\n\tredraw.sync = sync\n\trenderService.setRedraw(redraw)\n\treturn {subscribe: subscribe, unsubscribe: unsubscribe, redraw: redraw, render: renderService.render}\n}\nvar redrawService = _15(window)\nrequestService.setCompletionCallback(redrawService.redraw)\nvar _20 = function(redrawService0) {\n\treturn function(root, component) {\n\t\tif (component === null) {\n\t\t\tredrawService0.render(root, [])\n\t\t\tredrawService0.unsubscribe(root)\n\t\t\treturn\n\t\t}\n\t\t\n\t\tif (component.view == null && typeof component !== \"function\") throw new Error(\"m.mount(element, component) expects a component, not a vnode\")\n\t\t\n\t\tvar run0 = function() {\n\t\t\tredrawService0.render(root, Vnode(component))\n\t\t}\n\t\tredrawService0.subscribe(root, run0)\n\t\trun0()\n\t}\n}\nm.mount = _20(redrawService)\nvar Promise = PromisePolyfill\nvar parseQueryString = function(string) {\n\tif (string === \"\" || string == null) return {}\n\tif (string.charAt(0) === \"?\") string = string.slice(1)\n\tvar entries = string.split(\"&\"), data2 = {}, counters = {}\n\tfor (var i = 0; i < entries.length; i++) {\n\t\tvar entry = entries[i].split(\"=\")\n\t\tvar key2 = decodeURIComponent(entry[0])\n\t\tvar value0 = entry.length === 2 ? decodeURIComponent(entry[1]) : \"\"\n\t\tif (value0 === \"true\") value0 = true\n\t\telse if (value0 === \"false\") value0 = false\n\t\tvar levels = key2.split(/\\]\\[?|\\[/)\n\t\tvar cursor = data2\n\t\tif (key2.indexOf(\"[\") > -1) levels.pop()\n\t\tfor (var j0 = 0; j0 < levels.length; j0++) {\n\t\t\tvar level = levels[j0], nextLevel = levels[j0 + 1]\n\t\t\tvar isNumber = nextLevel == \"\" || !isNaN(parseInt(nextLevel, 10))\n\t\t\tvar isValue = j0 === levels.length - 1\n\t\t\tif (level === \"\") {\n\t\t\t\tvar key2 = levels.slice(0, j0).join()\n\t\t\t\tif (counters[key2] == null) counters[key2] = 0\n\t\t\t\tlevel = counters[key2]++\n\t\t\t}\n\t\t\tif (cursor[level] == null) {\n\t\t\t\tcursor[level] = isValue ? value0 : isNumber ? [] : {}\n\t\t\t}\n\t\t\tcursor = cursor[level]\n\t\t}\n\t}\n\treturn data2\n}\nvar coreRouter = function($window) {\n\tvar supportsPushState = typeof $window.history.pushState === \"function\"\n\tvar callAsync0 = typeof setImmediate === \"function\" ? setImmediate : setTimeout\n\tfunction normalize(fragment0) {\n\t\tvar data1 = $window.location[fragment0].replace(/(?:%[a-f89][a-f0-9])+/gim, decodeURIComponent)\n\t\tif (fragment0 === \"pathname\" && data1[0] !== \"/\") data1 = \"/\" + data1\n\t\treturn data1\n\t}\n\tvar asyncId\n\tfunction debounceAsync(callback) {\n\t\treturn function() {\n\t\t\tif (asyncId != null) return\n\t\t\tasyncId = callAsync0(function() {\n\t\t\t\tasyncId = null\n\t\t\t\tcallback()\n\t\t\t})\n\t\t}\n\t}\n\tfunction parsePath(path, queryData, hashData) {\n\t\tvar queryIndex = path.indexOf(\"?\")\n\t\tvar hashIndex = path.indexOf(\"#\")\n\t\tvar pathEnd = queryIndex > -1 ? queryIndex : hashIndex > -1 ? hashIndex : path.length\n\t\tif (queryIndex > -1) {\n\t\t\tvar queryEnd = hashIndex > -1 ? hashIndex : path.length\n\t\t\tvar queryParams = parseQueryString(path.slice(queryIndex + 1, queryEnd))\n\t\t\tfor (var key1 in queryParams) queryData[key1] = queryParams[key1]\n\t\t}\n\t\tif (hashIndex > -1) {\n\t\t\tvar hashParams = parseQueryString(path.slice(hashIndex + 1))\n\t\t\tfor (var key1 in hashParams) hashData[key1] = hashParams[key1]\n\t\t}\n\t\treturn path.slice(0, pathEnd)\n\t}\n\tvar router = {prefix: \"#!\"}\n\trouter.getPath = function() {\n\t\tvar type2 = router.prefix.charAt(0)\n\t\tswitch (type2) {\n\t\t\tcase \"#\": return normalize(\"hash\").slice(router.prefix.length)\n\t\t\tcase \"?\": return normalize(\"search\").slice(router.prefix.length) + normalize(\"hash\")\n\t\t\tdefault: return normalize(\"pathname\").slice(router.prefix.length) + normalize(\"search\") + normalize(\"hash\")\n\t\t}\n\t}\n\trouter.setPath = function(path, data1, options) {\n\t\tvar queryData = {}, hashData = {}\n\t\tpath = parsePath(path, queryData, hashData)\n\t\tif (data1 != null) {\n\t\t\tfor (var key1 in data1) queryData[key1] = data1[key1]\n\t\t\tpath = path.replace(/:([^\\/]+)/g, function(match1, token) {\n\t\t\t\tdelete queryData[token]\n\t\t\t\treturn data1[token]\n\t\t\t})\n\t\t}\n\t\tvar query = buildQueryString(queryData)\n\t\tif (query) path += \"?\" + query\n\t\tvar hash = buildQueryString(hashData)\n\t\tif (hash) path += \"#\" + hash\n\t\tif (supportsPushState) {\n\t\t\tvar state = options ? options.state : null\n\t\t\tvar title = options ? options.title : null\n\t\t\t$window.onpopstate()\n\t\t\tif (options && options.replace) $window.history.replaceState(state, title, router.prefix + path)\n\t\t\telse $window.history.pushState(state, title, router.prefix + path)\n\t\t}\n\t\telse $window.location.href = router.prefix + path\n\t}\n\trouter.defineRoutes = function(routes, resolve, reject) {\n\t\tfunction resolveRoute() {\n\t\t\tvar path = router.getPath()\n\t\t\tvar params = {}\n\t\t\tvar pathname = parsePath(path, params, params)\n\t\t\tvar state = $window.history.state\n\t\t\tif (state != null) {\n\t\t\t\tfor (var k in state) params[k] = state[k]\n\t\t\t}\n\t\t\tfor (var route0 in routes) {\n\t\t\t\tvar matcher = new RegExp(\"^\" + route0.replace(/:[^\\/]+?\\.{3}/g, \"(.*?)\").replace(/:[^\\/]+/g, \"([^\\\\/]+)\") + \"\\/?$\")\n\t\t\t\tif (matcher.test(pathname)) {\n\t\t\t\t\tpathname.replace(matcher, function() {\n\t\t\t\t\t\tvar keys = route0.match(/:[^\\/]+/g) || []\n\t\t\t\t\t\tvar values = [].slice.call(arguments, 1, -2)\n\t\t\t\t\t\tfor (var i = 0; i < keys.length; i++) {\n\t\t\t\t\t\t\tparams[keys[i].replace(/:|\\./g, \"\")] = decodeURIComponent(values[i])\n\t\t\t\t\t\t}\n\t\t\t\t\t\tresolve(routes[route0], params, path, route0)\n\t\t\t\t\t})\n\t\t\t\t\treturn\n\t\t\t\t}\n\t\t\t}\n\t\t\treject(path, params)\n\t\t}\n\t\tif (supportsPushState) $window.onpopstate = debounceAsync(resolveRoute)\n\t\telse if (router.prefix.charAt(0) === \"#\") $window.onhashchange = resolveRoute\n\t\tresolveRoute()\n\t}\n\treturn router\n}\nvar _24 = function($window, redrawService0) {\n\tvar routeService = coreRouter($window)\n\tvar identity = function(v0) {return v0}\n\tvar render1, component, attrs3, currentPath, lastUpdate\n\tvar route = function(root, defaultRoute, routes) {\n\t\tif (root == null) throw new Error(\"Ensure the DOM element that was passed to `m.route` is not undefined\")\n\t\tfunction run1() {\n\t\t\tif (render1 != null) redrawService0.render(root, render1(Vnode(component, attrs3.key, attrs3)))\n\t\t}\n\t\tvar redraw3 = function() {\n\t\t\trun1()\n\t\t\tredraw3 = redrawService0.redraw\n\t\t}\n\t\tredrawService0.subscribe(root, run1)\n\t\tvar bail = function(path) {\n\t\t\tif (path !== defaultRoute) routeService.setPath(defaultRoute, null, {replace: true})\n\t\t\telse throw new Error(\"Could not resolve default route \" + defaultRoute)\n\t\t}\n\t\trouteService.defineRoutes(routes, function(payload, params, path) {\n\t\t\tvar update = lastUpdate = function(routeResolver, comp) {\n\t\t\t\tif (update !== lastUpdate) return\n\t\t\t\tcomponent = comp != null && (typeof comp.view === \"function\" || typeof comp === \"function\")? comp : \"div\"\n\t\t\t\tattrs3 = params, currentPath = path, lastUpdate = null\n\t\t\t\trender1 = (routeResolver.render || identity).bind(routeResolver)\n\t\t\t\tredraw3()\n\t\t\t}\n\t\t\tif (payload.view || typeof payload === \"function\") update({}, payload)\n\t\t\telse {\n\t\t\t\tif (payload.onmatch) {\n\t\t\t\t\tPromise.resolve(payload.onmatch(params, path)).then(function(resolved) {\n\t\t\t\t\t\tupdate(payload, resolved)\n\t\t\t\t\t}, bail)\n\t\t\t\t}\n\t\t\t\telse update(payload, \"div\")\n\t\t\t}\n\t\t}, bail)\n\t}\n\troute.set = function(path, data0, options) {\n\t\tif (lastUpdate != null) {\n\t\t\toptions = options || {}\n\t\t\toptions.replace = true\n\t\t}\n\t\tlastUpdate = null\n\t\trouteService.setPath(path, data0, options)\n\t}\n\troute.get = function() {return currentPath}\n\troute.prefix = function(prefix) {routeService.prefix = prefix}\n\tvar link = function(options, vnode5) {\n\t\tvnode5.dom.setAttribute(\"href\", routeService.prefix + vnode5.attrs.href)\n\t\tvnode5.dom.onclick = function(e) {\n\t\t\tif (e.ctrlKey || e.metaKey || e.shiftKey || e.which === 2) return\n\t\t\te.preventDefault()\n\t\t\te.redraw = false\n\t\t\tvar href = this.getAttribute(\"href\")\n\t\t\tif (href.indexOf(routeService.prefix) === 0) href = href.slice(routeService.prefix.length)\n\t\t\troute.set(href, undefined, options)\n\t\t}\n\t}\n\troute.link = function(args0) {\n\t\tif (args0.tag == null) return link.bind(link, args0)\n\t\treturn link({}, args0)\n\t}\n\troute.param = function(key0) {\n\t\tif(typeof attrs3 !== \"undefined\" && typeof key0 !== \"undefined\") return attrs3[key0]\n\t\treturn attrs3\n\t}\n\treturn route\n}\nm.route = _24(window, redrawService)\nvar _31 = coreRenderer(window)\nm.render = _31.render\nm.redraw = redrawService.redraw\nm.request = requestService.request\nm.jsonp = requestService.jsonp\nm.parseQueryString = parseQueryString\nm.buildQueryString = buildQueryString\nm.version = \"2.0.0-rc.4\"\nm.vnode = Vnode\nm.PromisePolyfill = PromisePolyfill\n\nexport default m\nvar _m = m.m,_trust = m.trust,_fragment = m.fragment,_mount = m.mount,_route = m.route,_render = m.render,_redraw = m.redraw,_request = m.request,_jsonp = m.jsonp,_parseQueryString = m.parseQueryString,_buildQueryString = m.buildQueryString,_version = m.version,_vnode = m.vnode,_PromisePolyfill = m.PromisePolyfill\nexport {_m as m,_trust as trust,_fragment as fragment,_mount as mount,_route as route,_render as render,_redraw as redraw,_request as request,_jsonp as jsonp,_parseQueryString as parseQueryString,_buildQueryString as buildQueryString,_version as version,_vnode as vnode,_PromisePolyfill as PromisePolyfill}","import m from \"mithril\";\n\nexport const renderer = m;\nrenderer[\"displayName\"] = \"mithril\";\n"],"names":["Vnode","tag","key","attrs0","children0","text","dom","attrs","children","domSize","undefined","state","events","instance","normalize","node","Array","isArray","normalizeChildren","_typeof","input","i","length","hyperscriptVnode","children1","attrs1","arguments","this","start","push","selectorParser","selectorCache","hasOwn","hasOwnProperty","isEmpty","object","call","hyperscript","selector","view","Error","vnode","apply","hasClass","className","newAttrs","String","execSelector","match","classes","exec","type","value","id","attrValue","replace","join","compileSelector","trust","html","fragment","vnode2","m","PromisePolyfill","executor","TypeError","self","resolvers","rejectors","resolveCurrent","handler","rejectCurrent","_instance","callAsync","setImmediate","setTimeout","list","shouldAbsorb","execute","then","console","error","retry","executeOnce","bind","e","runs","run","fn","onerror","prototype","onFulfilled","onRejection","resolveNext","rejectNext","handle","callback","next","promise","resolve","reject","reason","all","total","count","values","consume","race","window","Promise","global","buildQueryString","Object","toString","args","destructure","encodeURIComponent","requestService","$window","oncompletion","callbackCount","makeRequest","factory","url","promise0","data","background","complete","wrap","then0","hasHeader","name","headers","test","interpolate","assemble","m0","querystring","indexOf","request","method","toUpperCase","useBody","assumeJSON","serialize","JSON","FormData","stringify","xhr","XMLHttpRequest","aborted","_abort","abort","open","async","user","password","setRequestHeader","deserialize","withCredentials","timeout","responseType","config","onreadystatechange","readyState","success","status","response","responseText","extract","parse","code","send","jsonp","callbackName","Math","round","random","script","document","createElement","parentNode","removeChild","src","callbackKey","documentElement","appendChild","setCompletionCallback","_12","coreRenderer","redraw0","$doc","nameSpace","svg","math","getNameSpace","vnode3","xmlns","checkState","original","callHook","activeElement","createNodes","parent","vnodes","end","hooks","nextSibling","ns","createNode","initLifecycle","createTextNode","insertNode","createText","createHTML","createDocumentFragment","children3","firstChild","childNodes","createFragment","attrs2","is","element","createElementNS","setAttr","setAttrs","contenteditable","setContentEditable","textContent","selectedIndex","normalized","setLateSelectAttrs","sentinel","create","$$reentrantLock$$","initComponent","createComponent","possibleParents","caption","thead","tbody","tfoot","tr","th","td","colgroup","col","match0","temp","innerHTML","child","updateNodes","old","removeNodes","oldStart","isOldKeyed","isKeyed","o","v","oe","ve","topSibling","oldEnd","updateNode","getNextSibling","toFragment","map","lisIndices","originalNextSibling","vnodesLength","oldIndices","li","pos","matched","getKeyMap","oldIndex","a","u","p","slice","result","il","j","c","makeLisIndices","commonLength","removeNode","oldTag","onbeforeupdate","force","shouldNotUpdate","updateLifecycle","nodeValue","updateText","updateHTML","updateFragment","val","removeAttr","updateAttrs","updateElement","updateComponent","count0","insertBefore","content","expected","called","onbeforeremove","continuation","onremove","isLifecycleMethod","attr","isFormAttribute","updateEvent","setAttributeNS","updateStyle","hasPropertyKey","setAttribute","removeAttribute","nsLastIndex","uppercaseRegex","toLowerCase","capital","normalizeKey","style","cssText","setProperty","removeProperty","EventDict","removeEventListener","addEventListener","source","oninit","oncreate","onupdate","handleEvent","ev","handler0","currentTarget","redraw","preventDefault","stopPropagation","render","active","namespace","namespaceURI","focus","setRedraw","redrawService","throttleMock","renderService","callbacks","rendering","unsubscribe","index","splice","sync","pending","requestAnimationFrame","subscribe","_15","redrawService0","mount","root","component","run0","parseQueryString","string","charAt","entries","split","data2","counters","entry","key2","decodeURIComponent","value0","levels","cursor","pop","j0","level","nextLevel","isNumber","isNaN","parseInt","isValue","coreRouter","asyncId","supportsPushState","history","pushState","callAsync0","fragment0","data1","location","parsePath","path","queryData","hashData","queryIndex","hashIndex","pathEnd","queryEnd","queryParams","key1","hashParams","router","prefix","options","match1","token","query","hash","title","onpopstate","replaceState","href","defineRoutes","routes","resolveRoute","getPath","params","pathname","k","route0","matcher","RegExp","keys","onhashchange","route","render1","attrs3","currentPath","lastUpdate","routeService","defaultRoute","run1","redraw3","bail","setPath","payload","update","routeResolver","comp","v0","onmatch","resolved","set","data0","get","link","vnode5","onclick","ctrlKey","metaKey","shiftKey","which","getAttribute","args0","param","key0","_24","_31","version","renderer"],"mappings":"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"}