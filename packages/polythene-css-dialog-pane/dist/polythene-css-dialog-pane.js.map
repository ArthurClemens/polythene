{"version":3,"file":"polythene-css-dialog-pane.js","sources":["../src/color.js","../src/layout.js","../src/vars.js","../src/index.js","../../polythene-css-classes/dialog-pane.js"],"sourcesContent":["// @ts-check\n\nimport { sel, createColor } from \"polythene-core-css\";\n\nconst generalFns = ({\n  general_styles: () => [{\n    \" .pe-dialog-pane__body\": {\n      borderColor: \"transparent\"\n    },\n  }]\n});\n\nconst tintFns = tint => ({\n  [\"color_\" + tint + \"_background\"]: (selector, vars) => [\n    sel(selector, {\n      backgroundColor: vars[\"color_\" + tint + \"_background\"],\n    })\n  ],\n  [\"color_\" + tint + \"_title_text\"]: (selector, vars) => [\n    sel(selector, {\n      \" .pe-dialog-pane__header .pe-dialog-pane__title\": {\n        color: vars[\"color_\" + tint + \"_title_text\"]\n      },\n    })\n  ],\n  [\"color_\" + tint + \"_body_text\"]: (selector, vars) => [\n    sel(selector, {\n      \" .pe-dialog-pane__body\": {\n        color: vars[\"color_\" + tint + \"_body_text\"],\n      },\n    })\n  ],\n  [\"color_\" + tint + \"_body_border\"]: (selector, vars) => [\n    sel(selector, {\n      \".pe-dialog-pane--border-top .pe-dialog-pane__body\": {\n        borderTopColor: vars[\"color_\" + tint + \"_body_border\"]\n      },\n      \".pe-dialog-pane--border-bottom .pe-dialog-pane__body\": {\n        borderBottomStyle: \"solid\",\n        borderBottomColor: vars[\"color_\" + tint + \"_body_border\"]\n      }\n    })\n  ],\n});\n\nconst lightTintFns = Object.assign({}, generalFns, tintFns(\"light\"));\nconst darkTintFns = Object.assign({}, generalFns, tintFns(\"dark\"));\n\nexport default createColor({\n  varFns: { lightTintFns, darkTintFns }\n});\n","// @ts-check\n\nimport { flex, sel, createLayout } from \"polythene-core-css\";\nimport { vars as themeVars } from \"polythene-theme\";\n\nconst max_width_side_padding_mobile = (selector, vars) => {\n  const maxWidthBreakpointMobile = vars.max_width + 2 * vars.side_padding_mobile;\n  return {\n    [\"@media (max-width: \" + maxWidthBreakpointMobile + \"px)\"]: {\n      [selector]: {\n        maxWidth: `calc(100vw - ${2 * vars.side_padding_mobile}px)`\n      }\n    },\n    [\"@media (min-width: \" + (maxWidthBreakpointMobile + 1) + \"px)\"]: {\n      [selector]: {\n        maxWidth: vars.max_width + \"px\",\n      }\n    }\n  };\n};\n\nconst padding_header_bottom = (selector, vars) =>\n  sel(selector, {\n    \" .pe-dialog-pane__header--title\": {\n      paddingTop: (vars.padding - 4) + \"px\",\n      paddingRight: vars.padding + \"px\",\n      paddingBottom: (vars.header_bottom - 4) + \"px\",\n      paddingLeft: vars.padding + \"px\",\n    },\n  });\n\n/*\nSetting an explicit max-height is needed for IE 11\n*/\nconst header_height_footer_height_margin_vertical = (selector, vars) =>\n  sel(selector, {\n    \" .pe-dialog-pane__body\": {\n      maxHeight: `calc(100vh - (${vars.header_height}px + ${vars.footer_height}px + 2 * ${vars.margin_vertical}px))`\n    }\n  });\n\n/**\n * @param {string} selector \n */\nexport const fullScreen = selector =>\n  sel(selector, {\n    \" .pe-dialog-pane\": {\n      borderRadius: 0,\n    },\n    \" .pe-dialog-pane__content\": {\n      borderRadius: 0,\n      maxWidth: \"none\",\n      height: \"100vh\",\n      width: \"100vw\",\n\n      \" > *\": {\n        flexShrink: 0\n      },\n\n      \" > .pe-dialog-pane__body\": {\n        flexShrink: 1 ,\n        maxHeight: \"none\", // IE 11 doesn't know \"initial\"\n      }\n    },\n    \" .pe-dialog-pane, .pe-dialog-pane__body\": {\n      height: \"100vh\",\n      maxHeight: \"100vh\",\n      borderTopStyle: \"none\",\n      maxWidth: \"none\", // IE 11 doesn't know \"initial\"\n    }\n  });\n\nconst varFns = {\n  general_styles: selector => [\n    sel(selector, [\n      flex.layoutVertical,\n      {\n        position: \"relative\",\n        borderTopLeftRadius: \"inherit\",\n        borderTopRightRadius: \"inherit\",\n        borderBottomLeftRadius: \"inherit\",\n        borderBottomRightRadius: \"inherit\",\n        margin: 0,\n\n        \" .pe-dialog-pane__content\": {\n          width: \"100%\",\n          display: \"flex\",\n          flexDirection: \"column\",\n          borderTopLeftRadius: \"inherit\",\n          borderTopRightRadius: \"inherit\",\n          borderBottomLeftRadius: \"inherit\",\n          borderBottomRightRadius: \"inherit\",\n        },\n\n        \" .pe-dialog-pane__title\": {\n          fontSize: themeVars.font_size_title + \"px\",\n          fontWeight: themeVars.font_weight_medium,\n\n          \"& + div\": {\n            marginTop: \"16px\"\n          },\n        },\n\n        \" .pe-dialog-pane__header, .pe-dialog-pane__content > .pe-toolbar\": {\n          borderTopLeftRadius: \"inherit\",\n          borderTopRightRadius: \"inherit\",\n\n          \" .pe-dialog-pane__title\": {\n            width: \"100%\",\n            wordBreak: \"break-all\",\n            overflow: \"hidden\",\n            textOverflow: \"ellipsis\",\n            whiteSpace: \"nowrap\",\n          }\n        },\n\n        \" .pe-dialog-pane__body\": [\n          {\n            overflowY: \"auto\",\n            \"-webkit-overflow-scrolling\": \"touch\",\n            borderTopStyle: \"solid\",\n            borderBottomStyle: \"solid\",\n\n            \" p\": {\n              margin: 0\n            },\n            \" p + p\": {\n              marginTop: \"16px\"\n            }\n          }\n        ],\n\n        \".pe-dialog-pane--body-full-bleed .pe-dialog-pane__body\": {\n          padding: 0,\n          borderStyle: \"none\"\n        },\n\n        \" .pe-dialog-pane__header--title + .pe-dialog-pane__body\": {\n          paddingTop: 0\n        },\n\n        \" .pe-dialog-pane__footer\": {\n          display: \"flex\",\n          flexDirection: \"column\",\n          flexGrow: 1,\n          justifyContent: \"center\",\n\n          \"&, > .pe-toolbar\": {\n            borderBottomLeftRadius: \"inherit\",\n            borderBottomRightRadius: \"inherit\",\n          },\n\n          \".pe-dialog-pane__footer--high\": {\n            // when buttons are stacked vertically\n            paddingBottom: \"8px\"\n          },\n          \".pe-dialog-pane__footer--buttons\": {\n            padding: \"0 8px\",\n            fontSize: 0, // remove inline block spacing\n          },\n        },\n\n        \" .pe-dialog-pane__actions\": [\n          flex.layoutHorizontal,\n          flex.layoutEndJustified,\n          flex.layoutWrap,\n          {\n            alignItems: \"center\"\n          }\n        ],\n      },\n    ]),\n    {\n      \" .pe-dialog__content.pe-menu__content\": {\n        [` ${selector}`]: {\n          \" .pe-dialog-pane__body\": {\n            padding: 0,\n            border: \"none\"\n          }\n        }\n      },\n    },\n  ],\n  max_width: (selector, vars) => [\n    vars.side_padding_mobile !== undefined && max_width_side_padding_mobile(selector, vars)\n  ],\n  side_padding_mobile: (selector, vars) => [\n    vars.side_padding_mobile !== undefined && max_width_side_padding_mobile(selector, vars)\n  ],\n  min_width: (selector, vars) => [\n    sel(selector, {\n      minWidth: vars.min_width + \"px\"\n    }),\n  ],\n  margin_vertical: (selector, vars) => [\n    sel(selector, {\n      maxHeight: `calc(100vh - 2 * ${vars.margin_vertical}px)`\n    }),\n    vars.header_height !== undefined && vars.footer_height !== undefined && header_height_footer_height_margin_vertical(selector, vars)\n  ],\n  line_height_title: (selector, vars) => [\n    sel(selector, {\n      \" .pe-dialog-pane__title\": {\n        lineHeight: vars.line_height_title + \"px\",\n      },\n    }),\n  ],\n  header_height: (selector, vars) => [\n    sel(selector, {\n      \" .pe-dialog-pane__header\": {\n        height: vars.header_height + \"px\",\n      },\n    }),\n    vars.footer_height !== undefined && vars.margin_vertical !== undefined && header_height_footer_height_margin_vertical(selector, vars)\n  ],\n  footer_height: (selector, vars) => [\n    sel(selector, {\n      \" .pe-dialog-pane__footer--buttons .pe-dialog-pane__actions\": {\n        minHeight: vars.footer_height + \"px\",\n      },\n    }),\n    vars.header_height !== undefined && vars.footer_height !== undefined && vars.margin_vertical !== undefined && header_height_footer_height_margin_vertical(selector, vars)\n  ],\n  padding: (selector, vars) => [\n    sel(selector, {\n      \" .pe-dialog-pane__body\": {\n        padding: vars.padding + \"px\",\n      },\n      \".pe-dialog-pane--footer\": {\n        \" .pe-dialog-pane__body\": {\n          paddingBottom: (vars.padding - 10) + \"px\",\n        },\n      }\n    }),\n    vars.header_bottom !== undefined && padding_header_bottom(selector, vars),\n  ],\n  header_bottom: (selector, vars) => [\n    padding_header_bottom(selector, vars)\n  ],\n  border_width: (selector, vars) => [\n    sel(selector, {\n      \" .pe-dialog-pane__body\": {\n        borderWidth: vars.border_width + \"px\"\n      },\n    }),\n  ],\n};\n\nexport default createLayout({ varFns });\n","// @ts-check\n\n/**\n * @typedef {import(\"../index\").DialogPaneVars} DialogPaneVars\n */\n\nimport { rgba } from \"polythene-core-css\";\nimport { vars } from \"polythene-theme\";\n\n/**\n * @type {DialogPaneVars} dialogPaneVars\n */\nconst dialogPaneVars = {\n  /**\n   * Generate general styles, not defined by variables\n   */\n  general_styles:                  true,\n\n  border_width:                    1,\n  footer_height:                   52,\n  header_bottom:                   20,\n  header_height:                   64,\n  line_height_title:               24,\n  max_width:                       7 * vars.grid_unit_menu,      // 7 * 56 = 392 \n  min_width:                       5 * vars.grid_unit_menu,      // 5 * 56 = 280\n  padding:                         3 * vars.grid_unit_component, // 3 * 8 = 24\n  side_padding_mobile:             6 * vars.grid_unit,           // 6 * 4 = 48\n  max_height:                      8 * vars.grid_unit_component,\n  margin_vertical:                 8 * vars.grid_unit_component,\n\n  color_light_title_text:          \"inherit\",\n  color_light_body_text:           \"inherit\",\n  color_light_body_border:         rgba(vars.color_light_foreground, vars.blend_light_border_light),\n  color_light_background:          \"inherit\",\n\n  color_dark_title_text:           \"inherit\",\n  color_dark_body_text:            \"inherit\",\n  color_dark_body_border:          rgba(vars.color_dark_foreground, vars.blend_dark_border_light),\n  color_dark_background:           \"inherit\",\n};\n\nexport default dialogPaneVars;\n","// @ts-check\n\nimport classes from \"polythene-css-classes/dialog-pane\";\nimport color from \"./color\";\nimport layout, { fullScreen } from \"./layout\";\nimport vars from \"./vars\";\nimport { styler } from \"polythene-core-css\";\n\nconst fns = [layout, color];\nconst selector = `.${classes.component}`;\n\nconst addStyle = styler.createAddStyle(selector, fns, vars);\n\nconst getStyle = styler.createGetStyle(selector, fns, vars);\n    \nconst addGeneralStyleToHead = () =>\n  styler.addStyle({\n    selectors: [selector],\n    fns,\n    vars\n  });\n\nexport {\n  addGeneralStyleToHead,\n  addStyle,\n  getStyle,\n  color,\n  layout,\n  vars,\n  fullScreen,\n};\n","\nexport default {\n  component:         \"pe-dialog-pane\",\n\n  // elements\n  actions:           \"pe-dialog-pane__actions\",\n  body:              \"pe-dialog-pane__body\",\n  content:           \"pe-dialog-pane__content\",\n  footer:            \"pe-dialog-pane__footer\",\n  header:            \"pe-dialog-pane__header\",\n  title:             \"pe-dialog-pane__title\",\n\n  // states\n  withHeader:        \"pe-dialog-pane--header\",\n  withFooter:        \"pe-dialog-pane--footer\",\n  headerWithTitle:   \"pe-dialog-pane__header--title\",\n  footerWithButtons: \"pe-dialog-pane__footer--buttons\",\n  footerHigh:        \"pe-dialog-pane__footer--high\",\n  borderBottom:      \"pe-dialog-pane--border-bottom\",\n  borderTop:         \"pe-dialog-pane--border-top\",\n  fullBleed:         \"pe-dialog-pane--body-full-bleed\",\n};\n"],"names":["generalFns","general_styles","borderColor","tintFns","tint","selector","vars","sel","backgroundColor","color","borderTopColor","borderBottomStyle","borderBottomColor","lightTintFns","_extends","darkTintFns","createColor","varFns","max_width_side_padding_mobile","maxWidthBreakpointMobile","max_width","side_padding_mobile","maxWidth","padding_header_bottom","paddingTop","padding","paddingRight","paddingBottom","header_bottom","paddingLeft","header_height_footer_height_margin_vertical","maxHeight","header_height","footer_height","margin_vertical","flex","layoutVertical","position","borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius","margin","width","display","flexDirection","fontSize","themeVars","font_size_title","fontWeight","font_weight_medium","marginTop","wordBreak","overflow","textOverflow","whiteSpace","overflowY","borderTopStyle","borderStyle","flexGrow","justifyContent","layoutHorizontal","layoutEndJustified","layoutWrap","alignItems","border","undefined","min_width","minWidth","line_height_title","lineHeight","height","minHeight","border_width","borderWidth","createLayout","dialogPaneVars","grid_unit_menu","grid_unit_component","grid_unit","max_height","color_light_title_text","color_light_body_text","color_light_body_border","rgba","color_light_foreground","blend_light_border_light","color_light_background","color_dark_title_text","color_dark_body_text","color_dark_body_border","color_dark_foreground","blend_dark_border_light","color_dark_background","fns","layout","addStyle","styler","createAddStyle","getStyle","createGetStyle","selectors","borderRadius","flexShrink"],"mappings":"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"}