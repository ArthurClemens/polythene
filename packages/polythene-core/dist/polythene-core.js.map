{"version":3,"file":"polythene-core.js","sources":["../src/Conditional.js","../src/attrs.js","../src/iso.js","../src/animation-event.js","../src/style.js","../src/pointer.js","../src/events.js","../src/multi.js","../src/transition.js","../src/developer.js","../src/icons.js"],"sourcesContent":["// @ts-check\n\nconst modes = {\n  hidden:   \"hidden\",\n  visible:  \"visible\",\n  exposing: \"exposing\",\n  hiding:   \"hiding\",\n};\n\nexport const _Conditional = ({ h, useState, useEffect, ...props }) => {\n  const initialMode = props.permanent\n    ? modes.visible\n    : props.permanent || props.show\n      ? modes.visible\n      : modes.hidden;\n  const [mode, setMode] = useState(initialMode);\n\n  useEffect(\n    () => {\n      let newMode = mode;\n      if (props.permanent) {\n        if (mode === modes.visible && props.show) {\n          newMode = modes.exposing;\n        } else if (mode === modes.exposing && !props.show) {\n          newMode = modes.hiding;\n        }\n      } else {\n        // \"normal\" type\n        if (mode === modes.hidden && props.show) {\n          newMode = modes.visible;\n        } else if (mode === modes.visible && !props.show) {\n          newMode = modes.hiding;\n        }\n      }\n      if (newMode !== mode) {\n        setMode(newMode);\n      }\n    },\n    [props]\n  );\n\n  const placeholder = h(\"span\", { className: props.placeholderClassName });\n\n  // No didHide callback passed: use normal visibility evaluation\n  if (!props.didHide) {\n    return props.permanent || props.inactive || props.show\n      ? h(props.instance, props)\n      : placeholder;\n  }\n\n  const visible = mode !== modes.hidden;\n  return visible\n    ? h(props.instance, {\n      ...props,\n      didHide:\n        /**\n         * @param {any} args\n         */\n        (args) => (\n          props.didHide(args),\n          setMode(props.permanent\n            ? modes.visible\n            : modes.hidden\n          )\n        ),\n      ...(mode === modes.hiding\n        ? { show: true, hide: true }\n        : undefined\n      )\n    })\n    : placeholder;\n};\n","// @ts-check\n\n/**\n * Reducer helper function.\n * @param {object} acc \n * @param {string} p \n * @returns {object}\n */\nconst r = (acc, p) => (acc[p] = 1, acc);\n\n/**\n * List of default attributes.\n * Separately handled:\n * - class\n * - element\n * @type Array<string> defaultAttrs\n */\nconst defaultAttrs = [\n  // Universal\n  \"key\",\n  \"style\",\n  \"href\",\n  \"id\",\n  \"data-index\",\n  \n  // React\n  \"tabIndex\",\n\n  // Mithril\n  \"tabindex\",\n  \"oninit\",\n  \"oncreate\",\n  \"onupdate\",\n  \"onbeforeremove\",\n  \"onremove\",\n  \"onbeforeupdate\",\n];\n\n/**\n * \n * @param {{[s: string]: string}} attrs \n * @param {object} [modifications] \n * @param {Array<string>} [modifications.add]\n * @param {Array<string>} [modifications.remove]\n * @returns {object}\n */\nexport const filterSupportedAttributes = (attrs, { add, remove} = {}) => {\n  /**\n   * @type {{[s: string]: string}} removeLookup \n   */\n  const removeLookup = remove\n    ? remove.reduce(r, {})\n    : {};\n  /**\n   * @type {Array<string>} attrsList \n   */\n  const attrsList = add\n    ? defaultAttrs.concat(add)\n    : defaultAttrs;\n  const supported = attrsList.filter(item => !removeLookup[item]).reduce(r, {});\n  return Object.keys(attrs).reduce(\n    /**\n     * @param {object} acc\n     * @param {string} key\n     */\n    (acc, key) => (\n      supported[key]\n        ? acc[key] = attrs[key]\n        : null,\n      acc\n    ), {});\n};\n\n/**\n * \n * @param {object|function} attrs \n * @returns {object}\n */\nexport const unpackAttrs = attrs =>\n  typeof attrs === \"function\"\n    ? attrs()\n    : attrs;\n\n/**\n * \n * @param {{[s: string]: string}} classes \n * @returns {{[s: string]: string}}\n */\nconst sizeClasses = classes => ({\n  small:   classes.small,\n  regular: classes.regular,\n  medium:  classes.medium,\n  large:   classes.large,\n  fab:     classes.fab,\n});\n\n/**\n * \n * @param {{[s: string]: string}} classes \n * @param {string} [size] \n * @returns {object}\n */\nexport const classForSize = (classes, size = \"regular\") =>\n  sizeClasses(classes)[size];\n\n","export const isClient = typeof document !== \"undefined\";\nexport const isServer = !isClient;\n","// @ts-check\n\nimport { isClient } from \"./iso\";\n\n/**\n * @type {{[s: string]: string}} evts\n */\nconst evts = {\n  \"animation\": \"animationend\",\n  \"OAnimation\": \"oAnimationEnd\",\n  \"MozAnimation\": \"animationend\",\n  \"WebkitAnimation\": \"webkitAnimationEnd\"\n};\n\nexport const getAnimationEndEvent = () => {\n  if (isClient) {\n    const el = document.createElement(\"fakeelement\");\n    /**\n     * @type {string} a\n     */\n    for (let a in evts) {\n      /**\n       * @type {object} style\n       */\n      const style = el.style;\n      if (style[a] !== undefined) {\n        return evts[a];\n      }\n    }\n  }\n};\n","// @ts-check\n\n/**\n * @param {object} params\n * @param {object} params.element\n * @param {string} [params.selector]\n * @param {string} [params.pseudoSelector]\n * @param {string} params.prop\n * @returns {object|undefined}\n */\nexport const getStyle = ({ element, selector, pseudoSelector, prop }) => {\n  const el = selector\n    ? element.querySelector(selector)\n    : element;\n  if (!el) {\n    return undefined;\n  }\n  if (el.currentStyle) {\n    return el.currentStyle;\n  }\n  if (window.getComputedStyle) {\n    const defaultView = document.defaultView;\n    if (defaultView) {\n      const style = defaultView.getComputedStyle(el, pseudoSelector);\n      if (style) {\n        return style.getPropertyValue(prop);\n      }\n    }\n  }\n  return undefined;\n};\n\n/**\n * \n * @param {object} params\n * @param {object} params.element\n * @param {string} [params.selector]\n * @param {string} [params.pseudoSelector]\n * @param {string} params.prop\n * @param {string} [params.equals]\n * @param {string} [params.contains]\n * @returns {boolean}\n */\nexport const stylePropCompare = ({ element, selector, pseudoSelector, prop, equals, contains }) => {\n  const el = selector\n    ? element.querySelector(selector)\n    : element;\n  if (!el) {\n    return false;\n  }\n  const defaultView = document.defaultView;\n  if (defaultView) {\n    if (equals !== undefined) {\n      return equals === defaultView.getComputedStyle(el, pseudoSelector).getPropertyValue(prop);\n    }\n    if (contains !== undefined) {\n      return defaultView.getComputedStyle(el, pseudoSelector).getPropertyValue(prop).indexOf(contains) !== -1;\n    }\n  }\n  return false;\n};\n\n/**\n * \n * @param {object} params\n * @param {object} params.element\n * @param {string} params.selector\n * @returns {boolean}\n */\nexport const isRTL = ({ element = document, selector }) => \n  stylePropCompare({ element, selector, prop: \"direction\", equals: \"rtl\" });\n\n/**\n * \n * @param {string} durationStr \n * @returns {number}\n */\nexport const styleDurationToMs = durationStr => {\n  const parsed = parseFloat(durationStr) * (durationStr.indexOf(\"ms\") === -1 ? 1000 : 1);\n  return isNaN(parsed)\n    ? 0\n    : parsed;\n};","// @ts-check\n\nimport { isClient, isServer } from \"./iso\";\n\nexport const isTouch = isServer\n  ? false\n  : \"ontouchstart\" in document.documentElement;\n\nexport const pointerStartEvent = isTouch\n  ? [\"touchstart\", \"click\"]\n  : [\"click\"];\n\nexport const pointerEndEvent = isTouch\n  ? [\"click\", \"mouseup\"]\n  : [\"mouseup\"];\n\nexport const pointerStartDownEvent = isTouch\n  ? [\"touchstart\", \"mousedown\"]\n  : [\"mousedown\"];\n\nexport const pointerMoveEvent = isTouch\n  ? [\"touchmove\", \"mousemove\"]\n  : [\"mousemove\"];\n\nexport const pointerEndDownEvent = isTouch\n  ? [\"touchend\", \"mouseup\"]\n  : [\"mouseup\"];\n\nif (isClient) {\n  const htmlElement = document.querySelector(\"html\");\n  if (htmlElement) {\n    htmlElement.classList.add(isTouch ? \"pe-touch\" : \"pe-no-touch\");\n  }\n}\n","// @ts-check\n\nimport { pointerEndEvent } from \"./pointer\";\nimport { isClient } from \"./iso\";\n\n/**\n * @type {{[s: string]: Array<function>}} listeners\n */\nconst listeners = {};\n\n/**\n * @param {function} func\n * @param {number} [s]\n * @param {object} [context]\n * @returns {function}\n * @see https://gist.github.com/Eartz/fe651f2fadcc11444549\n */\nexport const throttle = (func, s = 0.05, context = isClient ? window : {}) => {\n  let wait = false;\n  return (...args) => {\n    const later = () => func.apply(context, args);\n    if (!wait) {\n      later();\n      wait = true;\n      setTimeout(() => wait = false, s);\n    }\n  };\n};\n\n/**\n * \n * @param {string} eventName \n * @param {object} listener \n * @param {number} [delay] \n */\nexport const subscribe = (eventName, listener, delay) => {\n  listeners[eventName] = listeners[eventName] || [];\n  listeners[eventName].push(delay ? throttle(listener, delay) : listener);\n};\n\n/**\n * \n * @param {string} eventName \n * @param {object} listener \n */\nexport const unsubscribe = (eventName, listener) => {\n  if (!listeners[eventName]) {\n    return;\n  }\n  const index = listeners[eventName].indexOf(listener);\n  if (index > -1) {\n    listeners[eventName].splice(index, 1);\n  }\n};\n\n/**\n * \n * @param {string} eventName \n * @param {object} event \n */\nexport const emit = (eventName, event) => {\n  if (!listeners[eventName]) {\n    return;\n  }\n  listeners[eventName].forEach(listener => listener(event));\n};\n\nif (isClient) {\n  window.addEventListener(\"resize\",      e => emit(\"resize\", e));\n  window.addEventListener(\"scroll\",      e => emit(\"scroll\", e));\n  window.addEventListener(\"keydown\",     e => emit(\"keydown\", e));\n  pointerEndEvent.forEach(eventName =>\n    window.addEventListener(eventName, e => emit(eventName, e))\n  );\n}\n","/*\nHelper module to manage multiple items of the same component type.\n*/\n\nimport { isClient } from \"./iso\";\nimport { unpackAttrs } from \"./attrs\";\nimport { emit, subscribe, unsubscribe } from \"./events\";\n\n/**\n * @typedef {object} Item \n */\n\n/**\n * \n * @param {object} params\n * @param {object} params.options\n */\nexport const Multi = ({ options: mOptions }) => {\n\n  /**\n   * @type {Array<Item>} items\n   */\n  const items = []; // This is shared between all instances of a type (Dialog, Notification, ...)\n\n  /*\n  @param e: { id, eventName }\n  */\n  const onChange = e => {\n    emit(mOptions.name, e);\n  };\n\n  const itemIndex = id => {\n    const item = findItem(id);\n    return items.indexOf(item);\n  };\n\n  const removeItem = id => {\n    const index = itemIndex(id);\n    if (index !== -1) {\n      items.splice(index, 1);\n      onChange({ id, name: \"removeItem\" });\n    }\n  };\n\n  const replaceItem = (id, newItem) => {\n    const index = itemIndex(id);\n    if (index !== -1) {\n      items[index] = newItem;\n    }\n  };\n\n  const findItem = id => {\n    // traditional for loop for IE10\n    for (let i = 0; i < items.length; i++) {\n      if (items[i].instanceId === id) {\n        return items[i];\n      }\n    }\n  };\n\n  const next = () => {\n    if (items.length) {\n      items[0].show = true;\n    }\n    onChange({ id: items.length ? items[0].instanceId : null, name: \"next\" });\n  };\n\n  const remove = (instanceId = mOptions.defaultId) => {\n    if (mOptions.queue) {\n      items.shift();\n      next();\n    } else {\n      removeItem(instanceId);\n    }\n  };\n\n  const removeAll = () => {\n    items.length = 0;\n    onChange({ id: null, name: \"removeAll\" });\n  };\n\n  const setPauseState = (pause, instanceId) => {\n    const item = findItem(instanceId);\n    if (item) {\n      item.pause = pause;\n      item.unpause = !pause;\n      onChange({ id: instanceId, name: pause ? \"pause\" : \"unpause\" });\n    }\n  };\n\n  const createItem = (itemAttrs, instanceId, spawn) => {\n    let resolveShow;\n    let resolveHide;\n    const props = unpackAttrs(itemAttrs);\n\n    const didShow = () => {\n      if (props.didShow) {\n        props.didShow(instanceId);\n      }\n      onChange({ id: instanceId, name: \"didShow\" });\n      return resolveShow(instanceId);\n    };\n\n    const showPromise = new Promise(resolve => \n      resolveShow = resolve\n    );\n\n    const hidePromise = new Promise(resolve =>\n      resolveHide = resolve\n    );\n\n    const didHide = () => {\n      if (props.didHide) {\n        props.didHide(instanceId);\n      }\n      onChange({ id: instanceId, name: \"didHide\" });\n      remove(instanceId);\n      return resolveHide(instanceId);\n    };\n\n    return {\n      ...mOptions,\n      // keyId: mOptions.queue ? new Date().getTime() : undefined, // to force rendering a new component\n      instanceId,\n      spawn,\n      props: itemAttrs,\n      show: mOptions.queue ? false : true,\n      showPromise,\n      hidePromise,\n      didShow,\n      didHide\n    };\n  };\n\n  const count = () => items.length;\n  const pause = (instanceId = mOptions.defaultId) => setPauseState(true, instanceId);\n  const unpause = (instanceId = mOptions.defaultId) => setPauseState(false, instanceId);\n\n  const show = (props = {}, spawnOpts = {}) => {\n    const instanceId = spawnOpts.id || mOptions.defaultId;\n    const spawn = spawnOpts.spawn || mOptions.defaultId;\n    const item = createItem(props, instanceId, spawn);\n    onChange({ id: instanceId, name: \"show\" });\n    if (mOptions.queue) {\n      items.push(item);\n      if (items.length === 1) {\n        next();\n      }\n    } else {\n      const storedItem = findItem(instanceId);\n      if (!storedItem) {\n        items.push(item);\n      } else {\n        replaceItem(instanceId, item);\n      }\n    }\n    return item.showPromise;\n  };\n\n  const hide = (spawnOpts = {}) => {\n    const instanceId = spawnOpts.id || mOptions.defaultId;\n    const item = mOptions.queue && items.length\n      ? items[0]\n      : findItem(instanceId);\n    if (item) {\n      item.hide = true;\n    }\n    onChange({ id: instanceId, name: \"hide\" });\n    return item\n      ? item.hidePromise\n      : Promise.resolve(instanceId);\n  };\n\n  const clear = removeAll;\n\n  const render = ({ h, useState, useEffect, ...props }) => {\n    const [, setCurrent] = useState();\n    useEffect(\n      () => {\n        subscribe(mOptions.name, setCurrent);\n        return () => {\n          unsubscribe(mOptions.name, setCurrent);\n        }\n      },\n      []\n    );\n    \n    const spawn = props.spawn || mOptions.defaultId;\n    const candidates = items.filter(item => \n      item.show && item.spawn === spawn\n    );\n    if (mOptions.htmlShowClass && isClient && document.documentElement) {\n      document.documentElement.classList[candidates.length ? \"add\" : \"remove\"](mOptions.htmlShowClass);\n    }\n    \n    return !candidates.length\n      ? h(mOptions.placeholder) // placeholder because we cannot return null\n      : h(mOptions.holderSelector,\n        {\n          className: props.position === \"container\"\n            ? \"pe-multiple--container\"\n            : \"pe-multiple--screen\"\n        },\n        candidates.map(itemData => {\n          return h(mOptions.instance, {\n            ...unpackAttrs(props),\n            fromMultipleClear: clear,\n            spawnId: spawn,\n            // from mOptions:\n            fromMultipleClassName: mOptions.className,\n            holderSelector: mOptions.holderSelector,\n            transitions: mOptions.transitions,\n            // from itemData:\n            fromMultipleDidHide: itemData.didHide,\n            fromMultipleDidShow: itemData.didShow,\n            hide: itemData.hide,\n            instanceId: itemData.instanceId,\n            key: itemData.key !== undefined ? itemData.key : itemData.keyId,\n            pause: itemData.pause,\n            show: itemData.show,\n            unpause: itemData.unpause,\n            ...unpackAttrs(itemData.props)\n          });\n        })\n      );\n  };\n\n  return {\n    clear,\n    count,\n    hide,\n    pause,\n    remove,\n    show,\n    unpause,\n    render,\n  };\n};\n\nMulti[\"displayName\"] = \"Multi\";\n","//@ts-check\n\n/*\nGeneric show/hide transition module\n*/\n\nimport { isClient } from \"./iso\";\nimport { styleDurationToMs } from \"./style\";\n\nexport const TRANSITION_TYPES = {\n  SHOW: \"show\",\n  HIDE: \"hide\",\n  SHOW_DONE: \"show-done\",\n  HIDE_DONE: \"hide-done\",\n};\n\nexport const initialTransitionState = {\n  isVisible: false,\n  isTransitioning: false,\n};\n\nexport const transitionStateReducer = (state, type) => {\n  switch (type) {\n  case TRANSITION_TYPES.SHOW:\n    return {\n      ...state,\n      isTransitioning: true,\n      isVisible: true,\n    };\n  case TRANSITION_TYPES.HIDE:\n    return {\n      ...state,\n      isTransitioning: true,\n    };\n  case TRANSITION_TYPES.SHOW_DONE:\n    return {\n      ...state,\n      isTransitioning: false,\n      isVisible: true,\n    };\n  case TRANSITION_TYPES.HIDE_DONE:\n    return {\n      ...state,\n      isTransitioning: false,\n      isVisible: false,\n    };\n  default:\n    throw new Error(`Unhandled action type: ${type}`);\n  }\n};\n\n/**\n * \n * @typedef {{ el?: HTMLElement, duration?: number, hasDuration?: boolean, delay?: number, hasDelay?: boolean, timingFunction?: string, transitionClass?: string, before?: () => void, after?: () => void, transition?: () => void, showClass?: string, showClassElement?: HTMLElement  }} TransitionOpts\n */\n\nconst DEFAULT_DURATION = .240;\nconst DEFAULT_DELAY =    0;\n\n/**\n * \n * @param {TransitionOpts} opts \n * @returns {Promise}\n */\nexport const show = opts =>\n  transition(opts, \"show\");\n\n/**\n * \n * @param {TransitionOpts} opts\n * @returns {Promise} \n */\nexport const hide = opts =>\n  transition(opts, \"hide\");\n\n/**\n * \n * @param {TransitionOpts} opts \n * @param {\"show\"|\"hide\"} state \n * @returns {Promise}\n */\nconst transition = (opts, state) => {\n  const el = opts.el;\n  if (!el) {\n    return Promise.resolve();\n  } else {\n    return new Promise(resolve => {\n      const style = el.style;\n      /**\n       * @type {object} computedStyle\n       */\n      const computedStyle = isClient\n        ? window.getComputedStyle(el)\n        : {};\n      const duration = opts.hasDuration && opts.duration !== undefined\n        ? opts.duration * 1000.0\n        : styleDurationToMs(computedStyle.transitionDuration);\n      const delay = opts.hasDelay && opts.delay !== undefined\n        ? opts.delay * 1000.0\n        : styleDurationToMs(computedStyle.transitionDelay);\n      const timingFunction = opts.timingFunction || computedStyle.transitionTimingFunction;\n\n      if (opts.transitionClass) {\n        el.classList.add(opts.transitionClass);\n      }\n\n      const before = () => {\n        style.transitionDuration = \"0ms\";\n        style.transitionDelay = \"0ms\";\n        if (opts.before && typeof opts.before === \"function\") {\n          opts.before();\n        }\n      };\n\n      const maybeBefore = (opts.before && state === \"show\")\n        ? before\n        : (opts.before && state === \"hide\")\n          ? before\n          : null;\n\n      const after = () => {\n        if (opts.after && typeof opts.after === \"function\") {\n          opts.after();\n        }\n      };\n\n      const applyTransition = () => {\n        style.transitionDuration = duration + \"ms\";\n        style.transitionDelay = delay + \"ms\";\n\n        if (timingFunction) {\n          style.transitionTimingFunction = timingFunction;\n        }\n        if (opts.showClass) {\n          const showClassElement = opts.showClassElement || el;\n          showClassElement.classList[(state === \"show\") ? \"add\" : \"remove\"](opts.showClass);\n        }\n        if (opts.transition) {\n          opts.transition();\n        }\n      };\n\n      const doTransition = () => {\n        applyTransition();\n        setTimeout(() => {\n          if (after) {\n            after();\n          }\n          if (opts.transitionClass) {\n            el.classList.remove(opts.transitionClass);\n            el.offsetHeight; // force reflow\n          }\n          resolve();\n        }, duration + delay);\n      };\n\n      const maybeDelayTransition = () => {\n        if (duration === 0) {\n          doTransition();\n        } else {\n          setTimeout(doTransition, 0);\n        }\n      };\n\n      if (maybeBefore) {\n        maybeBefore();\n        el.offsetHeight; // force reflow\n        setTimeout(() => {\n          maybeDelayTransition();\n        }, 0);\n      } else {\n        maybeDelayTransition();\n      }\n    });\n  }\n};\n\n/**\n * \n * @param {object} params\n * @param {(string) => void} [params.dispatchTransitionState]\n * @param {boolean} [params.isShow]\n * @param {boolean} [params.isTransitioning]\n * @param {string} [params.instanceId]\n * @param {(boolean) => void} [params.setIsTransitioning]\n * @param {(boolean) => void} [params.setIsVisible]\n * @param {object} [params.props]\n * @param {object} [params.domElements]\n * @param {() => void} [params.beforeTransition]\n * @param {() => void} [params.afterTransition]\n * @param {string} [params.showClass]\n * @param {string} [params.transitionClass]\n * @param {string} [params.referrer]\n * @returns {Promise}\n */\nexport const transitionComponent = ({ dispatchTransitionState, isTransitioning, instanceId, isShow, props, domElements, beforeTransition, afterTransition, showClass, transitionClass, referrer }) => {\n  if (isTransitioning) {\n    return Promise.resolve();\n  }\n  dispatchTransitionState(isShow ? TRANSITION_TYPES.SHOW : TRANSITION_TYPES.HIDE);\n  if (beforeTransition) {\n    beforeTransition();\n  }\n  const duration = isShow ? props.showDuration : props.hideDuration;\n  const delay = isShow ? props.showDelay : props.hideDelay;\n  const timingFunction = isShow ? props.showTimingFunction : props.hideTimingFunction;\n  const transitions = props.transitions;\n  const fn = isShow ? show : hide;\n  const opts1 = {\n    ...props,\n    ...domElements,\n    showClass,\n    transitionClass,\n    duration,\n    delay,\n    timingFunction\n  };\n  const opts2 = {\n    ...opts1,\n    ...(transitions\n      ? (isShow ? transitions.show : transitions.hide)(opts1)\n      : undefined\n    )\n  };\n  const opts3 = {\n    ...opts2,\n    ...{\n      duration: opts2.duration !== undefined\n        ? opts2.duration\n        : DEFAULT_DURATION,\n      hasDuration: opts2.duration !== undefined,\n      delay: opts2.delay !== undefined\n        ? opts2.delay\n        : DEFAULT_DELAY,\n      hasDelay: opts2.delay !== undefined,\n    }\n  };\n  return fn(opts3).then(() => {\n    \n    const id = instanceId;\n    if (afterTransition) {\n      afterTransition();\n    }\n\n    // Component may unmount after this point\n    if (isShow ? props.fromMultipleDidShow : props.fromMultipleDidHide) {\n      (isShow ? props.fromMultipleDidShow : props.fromMultipleDidHide)(id); // when used with Multiple; this will call props.didShow / props.didHide\n    } else if (isShow ? props.didShow : props.didHide) {\n      (isShow ? props.didShow : props.didHide)(id); // when used directly\n    }\n\n    dispatchTransitionState(isShow ? TRANSITION_TYPES.SHOW_DONE : TRANSITION_TYPES.HIDE_DONE);\n\n  });\n};\n","// @ts-check\n\n/**\n * \n * @param {string} component \n * @param {object} params\n * @param {string} [params.option]\n * @param {string} [params.newOption]\n * @param {string} [params.newOption]\n * @param {string} [params.newComponent]\n * @param {string} [params.since]\n */\nexport const deprecation = (component, { option, newOption, newComponent, since }) => {\n  const version = since\n    ? `Since version ${since}.`\n    : \"\";\n  return (\n    option && console.warn(`${component}: option '${option}' is deprecated and will be removed in later versions. Use '${newOption}' instead. ${version}`), // eslint-disable-line no-console\n    newComponent && !newOption && console.warn(`${component}: this component is deprecated and will be removed in later versions. Use component '${newComponent}' instead. ${version}`), // eslint-disable-line no-console\n    newComponent && newOption && console.warn(`${component}: this component is deprecated and will be removed in later versions. Use component '${newComponent}' with option '${newOption}' instead. ${version}`) // eslint-disable-line no-console\n  );\n};\n","\nexport const iconDropdownUp = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" id=\\\"dd-up-svg\\\" width=\\\"24\\\" height=\\\"24\\\" viewBox=\\\"0 0 24 24\\\"><path d=\\\"M7 14l5-5 5 5z\\\"/></svg>\";\nexport const iconDropdownDown = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" id=\\\"dd-down-svg\\\" width=\\\"24\\\" height=\\\"24\\\" viewBox=\\\"0 0 24 24\\\"><path d=\\\"M7 10l5 5 5-5z\\\"/></svg>\";\n"],"names":["modes","r","acc","p","defaultAttrs","unpackAttrs","attrs","sizeClasses","classes","small","regular","medium","large","fab","isClient","document","isServer","evts","stylePropCompare","element","selector","pseudoSelector","prop","equals","contains","el","querySelector","defaultView","undefined","getComputedStyle","getPropertyValue","indexOf","styleDurationToMs","durationStr","parsed","parseFloat","isNaN","isTouch","documentElement","pointerStartEvent","pointerEndEvent","pointerStartDownEvent","pointerMoveEvent","pointerEndDownEvent","htmlElement","classList","add","listeners","throttle","func","s","context","window","wait","args","later","apply","setTimeout","subscribe","eventName","listener","delay","push","unsubscribe","index","splice","emit","event","forEach","addEventListener","e","Multi","mOptions","options","items","onChange","name","itemIndex","id","item","findItem","removeItem","replaceItem","newItem","i","length","instanceId","next","show","remove","defaultId","queue","shift","setPauseState","pause","unpause","createItem","itemAttrs","spawn","resolveShow","resolveHide","props","showPromise","Promise","resolve","hidePromise","didShow","didHide","clear","count","hide","spawnOpts","storedItem","render","h","useState","useEffect","setCurrent","candidates","filter","htmlShowClass","holderSelector","className","position","map","itemData","instance","fromMultipleClear","spawnId","fromMultipleClassName","transitions","fromMultipleDidHide","fromMultipleDidShow","key","keyId","placeholder","TRANSITION_TYPES","opts","transition","state","style","computedStyle","duration","hasDuration","transitionDuration","hasDelay","transitionDelay","timingFunction","transitionTimingFunction","transitionClass","before","maybeBefore","after","doTransition","showClass","showClassElement","offsetHeight","maybeDelayTransition","permanent","mode","setMode","newMode","placeholderClassName","inactive","size","component","option","newOption","newComponent","since","version","console","warn","removeLookup","reduce","attrsList","concat","supported","Object","keys","createElement","a","currentStyle","isVisible","isTransitioning","dispatchTransitionState","isShow","domElements","beforeTransition","afterTransition","referrer","showDuration","hideDuration","showDelay","hideDelay","showTimingFunction","hideTimingFunction","fn","opts1","opts2","then","type","Error"],"mappings":"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"}