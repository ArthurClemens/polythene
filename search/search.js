"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0}),require("polythene/common/object.assign");var _mithril=require("mithril"),_mithril2=_interopRequireDefault(_mithril),_textfield=require("polythene/textfield/textfield"),_textfield2=_interopRequireDefault(_textfield);require("polythene/search/theme/theme");var CSS_CLASSES={block:"pe-search",content:"pe-search__content",searchInset:"pe-search--inset",searchFullwidth:"pe-search--fullwidth"},mapButtonState=function(){var state=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return state.focus&&state.dirty?"focus_dirty":state.focus?"focus":state.dirty?"dirty":"none"},typeClasses={inset:CSS_CLASSES.searchInset,fullwidth:CSS_CLASSES.searchFullwidth},classForType=function(){var mode=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"inset";return typeClasses[mode]},createView=function(ctrl){var opts=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},tag=opts.tag||"div",props=Object.assign({},{class:[CSS_CLASSES.block,classForType(opts.type),opts.class].join(" "),id:opts.id||"",config:opts.config},opts.events?opts.events:null),state=mapButtonState(ctrl.state()),buttons=(opts.buttons||{})[state]||{},textfieldOpts=opts.textfield||{},content=(0,_mithril2.default)("div",{class:CSS_CLASSES.content},[buttons.before?buttons.before:null,_mithril2.default.component(_textfield2.default,Object.assign({},textfieldOpts,{getState:function(state){ctrl.state(state),textfieldOpts.getState&&textfieldOpts.getState(state)}})),buttons.after?buttons.after:null]);return(0,_mithril2.default)(tag,props,[opts.before,content,opts.after])},component={controller:function(){var state=_mithril2.default.prop();return{state:state}},view:function(ctrl){var opts=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return createView(ctrl,opts)}};exports.default=component,module.exports=exports.default;
//# sourceMappingURL=search.js.map